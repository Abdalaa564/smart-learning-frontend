import{$ as s,$a as le,A as v,Aa as Pi,Ab as vr,B as T,Ba as $t,Bb as Ni,C as Ps,Ca as zs,Cb as Et,D as _,Da as Ds,Db as gt,E as _r,Ea as z,Eb as Tt,F as wi,Fa as Rs,Fb as Js,G as d,Ga as Oi,Gb as Ks,H as a,Ha as Si,Hb as Xs,I as r,Ia as Fs,Ib as Zs,J as f,Ja as Ii,K as S,Ka as Vs,L,La as js,M as G,Ma as oe,N as St,Na as qs,O as It,Oa as V,P as E,Pa as ue,Q as Os,Qa as Us,R as y,Ra as Bs,S as br,Sa as Qs,T as g,Ta as pt,U as Ss,Ua as Ge,V as Is,Va as Le,W as ks,Wa as Ke,X as _e,Xa as Ws,Y as Rt,Ya as ce,Z as D,Za as U,_ as Hn,_a as ki,a as Ne,aa as N,ab as Me,b as Mn,ba as O,bb as Re,c as Nd,ca as ze,cb as Ie,d as Ld,da as B,db as ye,e as Ot,ea as Q,eb as Xe,f as fs,fa as W,fb as Fe,g as hs,ga as Ft,gb as $s,h as _s,ha as Pn,hb as Ys,ia as pe,ib as ut,j as yn,ja as Be,jb as Sn,k as bs,ka as De,kb as In,l as vs,la as Vt,lb as kn,m as xs,ma as Ee,mb as Ei,n as mt,na as On,nb as En,o as wn,oa as He,ob as Ve,p as hr,pa as Es,pb as Hs,q as C,qa as Wt,qb as Ti,r as M,ra as Ts,rb as kt,s as Cs,sa as Ns,sb as ge,t as Ms,ta as Se,tb as Ze,u as ys,ua as ee,v as ne,va as F,vb as de,w as Mi,wb as Gs,x as ws,xb as Oe,y as c,ya as Ls,yb as ae,z as yi,za as As,zb as Yt}from"./chunk-WIMR6LWO.js";var ac=Nd((yr,wr)=>{"use strict";(function(o,t){typeof yr=="object"&&typeof wr<"u"?wr.exports=t():typeof define=="function"&&define.amd?define(t):(o=typeof globalThis<"u"?globalThis:o||self).bootstrap=t()})(yr,function(){"use strict";let o=new Map,t={set(p,i,l){o.has(p)||o.set(p,new Map);let u=o.get(p);u.has(i)||u.size===0?u.set(i,l):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(u.keys())[0]}.`)},get:(p,i)=>o.has(p)&&o.get(p).get(i)||null,remove(p,i){if(!o.has(p))return;let l=o.get(p);l.delete(i),l.size===0&&o.delete(p)}},e="transitionend",n=p=>(p&&window.CSS&&window.CSS.escape&&(p=p.replace(/#([^\s"#']+)/g,(i,l)=>`#${CSS.escape(l)}`)),p),m=p=>p==null?`${p}`:Object.prototype.toString.call(p).match(/\s([a-z]+)/i)[1].toLowerCase(),h=p=>{p.dispatchEvent(new Event(e))},w=p=>!(!p||typeof p!="object")&&(p.jquery!==void 0&&(p=p[0]),p.nodeType!==void 0),Ue=p=>w(p)?p.jquery?p[0]:p:typeof p=="string"&&p.length>0?document.querySelector(n(p)):null,ht=p=>{if(!w(p)||p.getClientRects().length===0)return!1;let i=getComputedStyle(p).getPropertyValue("visibility")==="visible",l=p.closest("details:not([open])");if(!l)return i;if(l!==p){let u=p.closest("summary");if(u&&u.parentNode!==l||u===null)return!1}return i},_t=p=>!p||p.nodeType!==Node.ELEMENT_NODE||!!p.classList.contains("disabled")||(p.disabled!==void 0?p.disabled:p.hasAttribute("disabled")&&p.getAttribute("disabled")!=="false"),Pr=p=>{if(!document.documentElement.attachShadow)return null;if(typeof p.getRootNode=="function"){let i=p.getRootNode();return i instanceof ShadowRoot?i:null}return p instanceof ShadowRoot?p:p.parentNode?Pr(p.parentNode):null},ei=()=>{},Dn=p=>{p.offsetHeight},Or=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,ko=[],ot=()=>document.documentElement.dir==="rtl",rt=p=>{var i;i=()=>{let l=Or();if(l){let u=p.NAME,b=l.fn[u];l.fn[u]=p.jQueryInterface,l.fn[u].Constructor=p,l.fn[u].noConflict=()=>(l.fn[u]=b,p.jQueryInterface)}},document.readyState==="loading"?(ko.length||document.addEventListener("DOMContentLoaded",()=>{for(let l of ko)l()}),ko.push(i)):i()},Je=(p,i=[],l=p)=>typeof p=="function"?p.call(...i):l,Sr=(p,i,l=!0)=>{if(!l)return void Je(p);let u=(P=>{if(!P)return 0;let{transitionDuration:I,transitionDelay:A}=window.getComputedStyle(P),j=Number.parseFloat(I),q=Number.parseFloat(A);return j||q?(I=I.split(",")[0],A=A.split(",")[0],1e3*(Number.parseFloat(I)+Number.parseFloat(A))):0})(i)+5,b=!1,x=({target:P})=>{P===i&&(b=!0,i.removeEventListener(e,x),Je(p))};i.addEventListener(e,x),setTimeout(()=>{b||h(i)},u)},Eo=(p,i,l,u)=>{let b=p.length,x=p.indexOf(i);return x===-1?!l&&u?p[b-1]:p[0]:(x+=l?1:-1,u&&(x=(x+b)%b),p[Math.max(0,Math.min(x,b-1))])},sc=/[^.]*(?=\..*)\.|.*/,cc=/\..*/,lc=/::\d+$/,To={},Ir=1,kr={mouseenter:"mouseover",mouseleave:"mouseout"},dc=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Er(p,i){return i&&`${i}::${Ir++}`||p.uidEvent||Ir++}function Tr(p){let i=Er(p);return p.uidEvent=i,To[i]=To[i]||{},To[i]}function Nr(p,i,l=null){return Object.values(p).find(u=>u.callable===i&&u.delegationSelector===l)}function Lr(p,i,l){let u=typeof i=="string",b=u?l:i||l,x=zr(p);return dc.has(x)||(x=p),[u,b,x]}function Ar(p,i,l,u,b){if(typeof i!="string"||!p)return;let[x,P,I]=Lr(i,l,u);i in kr&&(P=(X=>function(J){if(!J.relatedTarget||J.relatedTarget!==J.delegateTarget&&!J.delegateTarget.contains(J.relatedTarget))return X.call(this,J)})(P));let A=Tr(p),j=A[I]||(A[I]={}),q=Nr(j,P,x?l:null);if(q)return void(q.oneOff=q.oneOff&&b);let R=Er(P,i.replace(sc,"")),te=x?(function(H,X,J){return function Z(xe){let Pe=H.querySelectorAll(X);for(let{target:re}=xe;re&&re!==this;re=re.parentNode)for(let he of Pe)if(he===re)return Lo(xe,{delegateTarget:re}),Z.oneOff&&k.off(H,xe.type,X,J),J.apply(re,[xe])}})(p,l,P):(function(H,X){return function J(Z){return Lo(Z,{delegateTarget:H}),J.oneOff&&k.off(H,Z.type,X),X.apply(H,[Z])}})(p,P);te.delegationSelector=x?l:null,te.callable=P,te.oneOff=b,te.uidEvent=R,j[R]=te,p.addEventListener(I,te,x)}function No(p,i,l,u,b){let x=Nr(i[l],u,b);x&&(p.removeEventListener(l,x,!!b),delete i[l][x.uidEvent])}function mc(p,i,l,u){let b=i[l]||{};for(let[x,P]of Object.entries(b))x.includes(u)&&No(p,i,l,P.callable,P.delegationSelector)}function zr(p){return p=p.replace(cc,""),kr[p]||p}let k={on(p,i,l,u){Ar(p,i,l,u,!1)},one(p,i,l,u){Ar(p,i,l,u,!0)},off(p,i,l,u){if(typeof i!="string"||!p)return;let[b,x,P]=Lr(i,l,u),I=P!==i,A=Tr(p),j=A[P]||{},q=i.startsWith(".");if(x===void 0){if(q)for(let R of Object.keys(A))mc(p,A,R,i.slice(1));for(let[R,te]of Object.entries(j)){let H=R.replace(lc,"");I&&!i.includes(H)||No(p,A,P,te.callable,te.delegationSelector)}}else{if(!Object.keys(j).length)return;No(p,A,P,x,b?l:null)}},trigger(p,i,l){if(typeof i!="string"||!p)return null;let u=Or(),b=null,x=!0,P=!0,I=!1;i!==zr(i)&&u&&(b=u.Event(i,l),u(p).trigger(b),x=!b.isPropagationStopped(),P=!b.isImmediatePropagationStopped(),I=b.isDefaultPrevented());let A=Lo(new Event(i,{bubbles:x,cancelable:!0}),l);return I&&A.preventDefault(),P&&p.dispatchEvent(A),A.defaultPrevented&&b&&b.preventDefault(),A}};function Lo(p,i={}){for(let[l,u]of Object.entries(i))try{p[l]=u}catch{Object.defineProperty(p,l,{configurable:!0,get:()=>u})}return p}function Dr(p){if(p==="true")return!0;if(p==="false")return!1;if(p===Number(p).toString())return Number(p);if(p===""||p==="null")return null;if(typeof p!="string")return p;try{return JSON.parse(decodeURIComponent(p))}catch{return p}}function Ao(p){return p.replace(/[A-Z]/g,i=>`-${i.toLowerCase()}`)}let Lt={setDataAttribute(p,i,l){p.setAttribute(`data-bs-${Ao(i)}`,l)},removeDataAttribute(p,i){p.removeAttribute(`data-bs-${Ao(i)}`)},getDataAttributes(p){if(!p)return{};let i={},l=Object.keys(p.dataset).filter(u=>u.startsWith("bs")&&!u.startsWith("bsConfig"));for(let u of l){let b=u.replace(/^bs/,"");b=b.charAt(0).toLowerCase()+b.slice(1),i[b]=Dr(p.dataset[u])}return i},getDataAttribute:(p,i)=>Dr(p.getAttribute(`data-bs-${Ao(i)}`))};class Rn{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(i){return i=this._mergeConfigObj(i),i=this._configAfterMerge(i),this._typeCheckConfig(i),i}_configAfterMerge(i){return i}_mergeConfigObj(i,l){let u=w(l)?Lt.getDataAttribute(l,"config"):{};return Ne(Ne(Ne(Ne({},this.constructor.Default),typeof u=="object"?u:{}),w(l)?Lt.getDataAttributes(l):{}),typeof i=="object"?i:{})}_typeCheckConfig(i,l=this.constructor.DefaultType){for(let[u,b]of Object.entries(l)){let x=i[u],P=w(x)?"element":m(x);if(!new RegExp(b).test(P))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${u}" provided type "${P}" but expected type "${b}".`)}}}class bt extends Rn{constructor(i,l){super(),(i=Ue(i))&&(this._element=i,this._config=this._getConfig(l),t.set(this._element,this.constructor.DATA_KEY,this))}dispose(){t.remove(this._element,this.constructor.DATA_KEY),k.off(this._element,this.constructor.EVENT_KEY);for(let i of Object.getOwnPropertyNames(this))this[i]=null}_queueCallback(i,l,u=!0){Sr(i,l,u)}_getConfig(i){return i=this._mergeConfigObj(i,this._element),i=this._configAfterMerge(i),this._typeCheckConfig(i),i}static getInstance(i){return t.get(Ue(i),this.DATA_KEY)}static getOrCreateInstance(i,l={}){return this.getInstance(i)||new this(i,typeof l=="object"?l:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(i){return`${i}${this.EVENT_KEY}`}}let zo=p=>{let i=p.getAttribute("data-bs-target");if(!i||i==="#"){let l=p.getAttribute("href");if(!l||!l.includes("#")&&!l.startsWith("."))return null;l.includes("#")&&!l.startsWith("#")&&(l=`#${l.split("#")[1]}`),i=l&&l!=="#"?l.trim():null}return i?i.split(",").map(l=>n(l)).join(","):null},$={find:(p,i=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(i,p)),findOne:(p,i=document.documentElement)=>Element.prototype.querySelector.call(i,p),children:(p,i)=>[].concat(...p.children).filter(l=>l.matches(i)),parents(p,i){let l=[],u=p.parentNode.closest(i);for(;u;)l.push(u),u=u.parentNode.closest(i);return l},prev(p,i){let l=p.previousElementSibling;for(;l;){if(l.matches(i))return[l];l=l.previousElementSibling}return[]},next(p,i){let l=p.nextElementSibling;for(;l;){if(l.matches(i))return[l];l=l.nextElementSibling}return[]},focusableChildren(p){let i=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(l=>`${l}:not([tabindex^="-"])`).join(",");return this.find(i,p).filter(l=>!_t(l)&&ht(l))},getSelectorFromElement(p){let i=zo(p);return i&&$.findOne(i)?i:null},getElementFromSelector(p){let i=zo(p);return i?$.findOne(i):null},getMultipleElementsFromSelector(p){let i=zo(p);return i?$.find(i):[]}},ti=(p,i="hide")=>{let l=`click.dismiss${p.EVENT_KEY}`,u=p.NAME;k.on(document,l,`[data-bs-dismiss="${u}"]`,function(b){if(["A","AREA"].includes(this.tagName)&&b.preventDefault(),_t(this))return;let x=$.getElementFromSelector(this)||this.closest(`.${u}`);p.getOrCreateInstance(x)[i]()})},Rr=".bs.alert",pc=`close${Rr}`,uc=`closed${Rr}`;class Fn extends bt{static get NAME(){return"alert"}close(){if(k.trigger(this._element,pc).defaultPrevented)return;this._element.classList.remove("show");let i=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,i)}_destroyElement(){this._element.remove(),k.trigger(this._element,uc),this.dispose()}static jQueryInterface(i){return this.each(function(){let l=Fn.getOrCreateInstance(this);if(typeof i=="string"){if(l[i]===void 0||i.startsWith("_")||i==="constructor")throw new TypeError(`No method named "${i}"`);l[i](this)}})}}ti(Fn,"close"),rt(Fn);let Fr='[data-bs-toggle="button"]';class Vn extends bt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(i){return this.each(function(){let l=Vn.getOrCreateInstance(this);i==="toggle"&&l[i]()})}}k.on(document,"click.bs.button.data-api",Fr,p=>{p.preventDefault();let i=p.target.closest(Fr);Vn.getOrCreateInstance(i).toggle()}),rt(Vn);let an=".bs.swipe",gc=`touchstart${an}`,fc=`touchmove${an}`,hc=`touchend${an}`,_c=`pointerdown${an}`,bc=`pointerup${an}`,vc={endCallback:null,leftCallback:null,rightCallback:null},xc={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ni extends Rn{constructor(i,l){super(),this._element=i,i&&ni.isSupported()&&(this._config=this._getConfig(l),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return vc}static get DefaultType(){return xc}static get NAME(){return"swipe"}dispose(){k.off(this._element,an)}_start(i){this._supportPointerEvents?this._eventIsPointerPenTouch(i)&&(this._deltaX=i.clientX):this._deltaX=i.touches[0].clientX}_end(i){this._eventIsPointerPenTouch(i)&&(this._deltaX=i.clientX-this._deltaX),this._handleSwipe(),Je(this._config.endCallback)}_move(i){this._deltaX=i.touches&&i.touches.length>1?0:i.touches[0].clientX-this._deltaX}_handleSwipe(){let i=Math.abs(this._deltaX);if(i<=40)return;let l=i/this._deltaX;this._deltaX=0,l&&Je(l>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(k.on(this._element,_c,i=>this._start(i)),k.on(this._element,bc,i=>this._end(i)),this._element.classList.add("pointer-event")):(k.on(this._element,gc,i=>this._start(i)),k.on(this._element,fc,i=>this._move(i)),k.on(this._element,hc,i=>this._end(i)))}_eventIsPointerPenTouch(i){return this._supportPointerEvents&&(i.pointerType==="pen"||i.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}let qt=".bs.carousel",Vr=".data-api",Cc="ArrowLeft",Mc="ArrowRight",jn="next",sn="prev",cn="left",ii="right",yc=`slide${qt}`,Do=`slid${qt}`,wc=`keydown${qt}`,Pc=`mouseenter${qt}`,Oc=`mouseleave${qt}`,Sc=`dragstart${qt}`,Ic=`load${qt}${Vr}`,kc=`click${qt}${Vr}`,jr="carousel",oi="active",qr=".active",Ur=".carousel-item",Ec=qr+Ur,Tc={[Cc]:ii,[Mc]:cn},Nc={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Lc={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ln extends bt{constructor(i,l){super(i,l),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=$.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===jr&&this.cycle()}static get Default(){return Nc}static get DefaultType(){return Lc}static get NAME(){return"carousel"}next(){this._slide(jn)}nextWhenVisible(){!document.hidden&&ht(this._element)&&this.next()}prev(){this._slide(sn)}pause(){this._isSliding&&h(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?k.one(this._element,Do,()=>this.cycle()):this.cycle())}to(i){let l=this._getItems();if(i>l.length-1||i<0)return;if(this._isSliding)return void k.one(this._element,Do,()=>this.to(i));let u=this._getItemIndex(this._getActive());if(u===i)return;let b=i>u?jn:sn;this._slide(b,l[i])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(i){return i.defaultInterval=i.interval,i}_addEventListeners(){this._config.keyboard&&k.on(this._element,wc,i=>this._keydown(i)),this._config.pause==="hover"&&(k.on(this._element,Pc,()=>this.pause()),k.on(this._element,Oc,()=>this._maybeEnableCycle())),this._config.touch&&ni.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let l of $.find(".carousel-item img",this._element))k.on(l,Sc,u=>u.preventDefault());let i={leftCallback:()=>this._slide(this._directionToOrder(cn)),rightCallback:()=>this._slide(this._directionToOrder(ii)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new ni(this._element,i)}_keydown(i){if(/input|textarea/i.test(i.target.tagName))return;let l=Tc[i.key];l&&(i.preventDefault(),this._slide(this._directionToOrder(l)))}_getItemIndex(i){return this._getItems().indexOf(i)}_setActiveIndicatorElement(i){if(!this._indicatorsElement)return;let l=$.findOne(qr,this._indicatorsElement);l.classList.remove(oi),l.removeAttribute("aria-current");let u=$.findOne(`[data-bs-slide-to="${i}"]`,this._indicatorsElement);u&&(u.classList.add(oi),u.setAttribute("aria-current","true"))}_updateInterval(){let i=this._activeElement||this._getActive();if(!i)return;let l=Number.parseInt(i.getAttribute("data-bs-interval"),10);this._config.interval=l||this._config.defaultInterval}_slide(i,l=null){if(this._isSliding)return;let u=this._getActive(),b=i===jn,x=l||Eo(this._getItems(),u,b,this._config.wrap);if(x===u)return;let P=this._getItemIndex(x),I=R=>k.trigger(this._element,R,{relatedTarget:x,direction:this._orderToDirection(i),from:this._getItemIndex(u),to:P});if(I(yc).defaultPrevented||!u||!x)return;let A=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(P),this._activeElement=x;let j=b?"carousel-item-start":"carousel-item-end",q=b?"carousel-item-next":"carousel-item-prev";x.classList.add(q),Dn(x),u.classList.add(j),x.classList.add(j),this._queueCallback(()=>{x.classList.remove(j,q),x.classList.add(oi),u.classList.remove(oi,q,j),this._isSliding=!1,I(Do)},u,this._isAnimated()),A&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return $.findOne(Ec,this._element)}_getItems(){return $.find(Ur,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(i){return ot()?i===cn?sn:jn:i===cn?jn:sn}_orderToDirection(i){return ot()?i===sn?cn:ii:i===sn?ii:cn}static jQueryInterface(i){return this.each(function(){let l=ln.getOrCreateInstance(this,i);if(typeof i!="number"){if(typeof i=="string"){if(l[i]===void 0||i.startsWith("_")||i==="constructor")throw new TypeError(`No method named "${i}"`);l[i]()}}else l.to(i)})}}k.on(document,kc,"[data-bs-slide], [data-bs-slide-to]",function(p){let i=$.getElementFromSelector(this);if(!i||!i.classList.contains(jr))return;p.preventDefault();let l=ln.getOrCreateInstance(i),u=this.getAttribute("data-bs-slide-to");return u?(l.to(u),void l._maybeEnableCycle()):Lt.getDataAttribute(this,"slide")==="next"?(l.next(),void l._maybeEnableCycle()):(l.prev(),void l._maybeEnableCycle())}),k.on(window,Ic,()=>{let p=$.find('[data-bs-ride="carousel"]');for(let i of p)ln.getOrCreateInstance(i)}),rt(ln);let qn=".bs.collapse",Ac=`show${qn}`,zc=`shown${qn}`,Dc=`hide${qn}`,Rc=`hidden${qn}`,Fc=`click${qn}.data-api`,Ro="show",dn="collapse",ri="collapsing",Vc=`:scope .${dn} .${dn}`,Fo='[data-bs-toggle="collapse"]',jc={parent:null,toggle:!0},qc={parent:"(null|element)",toggle:"boolean"};class mn extends bt{constructor(i,l){super(i,l),this._isTransitioning=!1,this._triggerArray=[];let u=$.find(Fo);for(let b of u){let x=$.getSelectorFromElement(b),P=$.find(x).filter(I=>I===this._element);x!==null&&P.length&&this._triggerArray.push(b)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return jc}static get DefaultType(){return qc}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let i=[];if(this._config.parent&&(i=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(b=>b!==this._element).map(b=>mn.getOrCreateInstance(b,{toggle:!1}))),i.length&&i[0]._isTransitioning||k.trigger(this._element,Ac).defaultPrevented)return;for(let b of i)b.hide();let l=this._getDimension();this._element.classList.remove(dn),this._element.classList.add(ri),this._element.style[l]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let u=`scroll${l[0].toUpperCase()+l.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ri),this._element.classList.add(dn,Ro),this._element.style[l]="",k.trigger(this._element,zc)},this._element,!0),this._element.style[l]=`${this._element[u]}px`}hide(){if(this._isTransitioning||!this._isShown()||k.trigger(this._element,Dc).defaultPrevented)return;let i=this._getDimension();this._element.style[i]=`${this._element.getBoundingClientRect()[i]}px`,Dn(this._element),this._element.classList.add(ri),this._element.classList.remove(dn,Ro);for(let l of this._triggerArray){let u=$.getElementFromSelector(l);u&&!this._isShown(u)&&this._addAriaAndCollapsedClass([l],!1)}this._isTransitioning=!0,this._element.style[i]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ri),this._element.classList.add(dn),k.trigger(this._element,Rc)},this._element,!0)}_isShown(i=this._element){return i.classList.contains(Ro)}_configAfterMerge(i){return i.toggle=!!i.toggle,i.parent=Ue(i.parent),i}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;let i=this._getFirstLevelChildren(Fo);for(let l of i){let u=$.getElementFromSelector(l);u&&this._addAriaAndCollapsedClass([l],this._isShown(u))}}_getFirstLevelChildren(i){let l=$.find(Vc,this._config.parent);return $.find(i,this._config.parent).filter(u=>!l.includes(u))}_addAriaAndCollapsedClass(i,l){if(i.length)for(let u of i)u.classList.toggle("collapsed",!l),u.setAttribute("aria-expanded",l)}static jQueryInterface(i){let l={};return typeof i=="string"&&/show|hide/.test(i)&&(l.toggle=!1),this.each(function(){let u=mn.getOrCreateInstance(this,l);if(typeof i=="string"){if(u[i]===void 0)throw new TypeError(`No method named "${i}"`);u[i]()}})}}k.on(document,Fc,Fo,function(p){(p.target.tagName==="A"||p.delegateTarget&&p.delegateTarget.tagName==="A")&&p.preventDefault();for(let i of $.getMultipleElementsFromSelector(this))mn.getOrCreateInstance(i,{toggle:!1}).toggle()}),rt(mn);var Qe="top",et="bottom",tt="right",We="left",ai="auto",pn=[Qe,et,tt,We],Ht="start",un="end",Br="clippingParents",Vo="viewport",gn="popper",Qr="reference",jo=pn.reduce(function(p,i){return p.concat([i+"-"+Ht,i+"-"+un])},[]),qo=[].concat(pn,[ai]).reduce(function(p,i){return p.concat([i,i+"-"+Ht,i+"-"+un])},[]),Wr="beforeRead",$r="read",Yr="afterRead",Hr="beforeMain",Gr="main",Jr="afterMain",Kr="beforeWrite",Xr="write",Zr="afterWrite",ea=[Wr,$r,Yr,Hr,Gr,Jr,Kr,Xr,Zr];function Mt(p){return p?(p.nodeName||"").toLowerCase():null}function nt(p){if(p==null)return window;if(p.toString()!=="[object Window]"){var i=p.ownerDocument;return i&&i.defaultView||window}return p}function Gt(p){return p instanceof nt(p).Element||p instanceof Element}function at(p){return p instanceof nt(p).HTMLElement||p instanceof HTMLElement}function Uo(p){return typeof ShadowRoot<"u"&&(p instanceof nt(p).ShadowRoot||p instanceof ShadowRoot)}let Bo={name:"applyStyles",enabled:!0,phase:"write",fn:function(p){var i=p.state;Object.keys(i.elements).forEach(function(l){var u=i.styles[l]||{},b=i.attributes[l]||{},x=i.elements[l];at(x)&&Mt(x)&&(Object.assign(x.style,u),Object.keys(b).forEach(function(P){var I=b[P];I===!1?x.removeAttribute(P):x.setAttribute(P,I===!0?"":I)}))})},effect:function(p){var i=p.state,l={popper:{position:i.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(i.elements.popper.style,l.popper),i.styles=l,i.elements.arrow&&Object.assign(i.elements.arrow.style,l.arrow),function(){Object.keys(i.elements).forEach(function(u){var b=i.elements[u],x=i.attributes[u]||{},P=Object.keys(i.styles.hasOwnProperty(u)?i.styles[u]:l[u]).reduce(function(I,A){return I[A]="",I},{});at(b)&&Mt(b)&&(Object.assign(b.style,P),Object.keys(x).forEach(function(I){b.removeAttribute(I)}))})}},requires:["computeStyles"]};function yt(p){return p.split("-")[0]}var Jt=Math.max,si=Math.min,fn=Math.round;function Qo(){var p=navigator.userAgentData;return p!=null&&p.brands&&Array.isArray(p.brands)?p.brands.map(function(i){return i.brand+"/"+i.version}).join(" "):navigator.userAgent}function ta(){return!/^((?!chrome|android).)*safari/i.test(Qo())}function hn(p,i,l){i===void 0&&(i=!1),l===void 0&&(l=!1);var u=p.getBoundingClientRect(),b=1,x=1;i&&at(p)&&(b=p.offsetWidth>0&&fn(u.width)/p.offsetWidth||1,x=p.offsetHeight>0&&fn(u.height)/p.offsetHeight||1);var P=(Gt(p)?nt(p):window).visualViewport,I=!ta()&&l,A=(u.left+(I&&P?P.offsetLeft:0))/b,j=(u.top+(I&&P?P.offsetTop:0))/x,q=u.width/b,R=u.height/x;return{width:q,height:R,top:j,right:A+q,bottom:j+R,left:A,x:A,y:j}}function Wo(p){var i=hn(p),l=p.offsetWidth,u=p.offsetHeight;return Math.abs(i.width-l)<=1&&(l=i.width),Math.abs(i.height-u)<=1&&(u=i.height),{x:p.offsetLeft,y:p.offsetTop,width:l,height:u}}function na(p,i){var l=i.getRootNode&&i.getRootNode();if(p.contains(i))return!0;if(l&&Uo(l)){var u=i;do{if(u&&p.isSameNode(u))return!0;u=u.parentNode||u.host}while(u)}return!1}function At(p){return nt(p).getComputedStyle(p)}function Uc(p){return["table","td","th"].indexOf(Mt(p))>=0}function Ut(p){return((Gt(p)?p.ownerDocument:p.document)||window.document).documentElement}function ci(p){return Mt(p)==="html"?p:p.assignedSlot||p.parentNode||(Uo(p)?p.host:null)||Ut(p)}function ia(p){return at(p)&&At(p).position!=="fixed"?p.offsetParent:null}function Un(p){for(var i=nt(p),l=ia(p);l&&Uc(l)&&At(l).position==="static";)l=ia(l);return l&&(Mt(l)==="html"||Mt(l)==="body"&&At(l).position==="static")?i:l||(function(u){var b=/firefox/i.test(Qo());if(/Trident/i.test(Qo())&&at(u)&&At(u).position==="fixed")return null;var x=ci(u);for(Uo(x)&&(x=x.host);at(x)&&["html","body"].indexOf(Mt(x))<0;){var P=At(x);if(P.transform!=="none"||P.perspective!=="none"||P.contain==="paint"||["transform","perspective"].indexOf(P.willChange)!==-1||b&&P.willChange==="filter"||b&&P.filter&&P.filter!=="none")return x;x=x.parentNode}return null})(p)||i}function $o(p){return["top","bottom"].indexOf(p)>=0?"x":"y"}function Bn(p,i,l){return Jt(p,si(i,l))}function oa(p){return Object.assign({},{top:0,right:0,bottom:0,left:0},p)}function ra(p,i){return i.reduce(function(l,u){return l[u]=p,l},{})}let aa={name:"arrow",enabled:!0,phase:"main",fn:function(p){var i,l=p.state,u=p.name,b=p.options,x=l.elements.arrow,P=l.modifiersData.popperOffsets,I=yt(l.placement),A=$o(I),j=[We,tt].indexOf(I)>=0?"height":"width";if(x&&P){var q=(function(Ce,ve){return oa(typeof(Ce=typeof Ce=="function"?Ce(Object.assign({},ve.rects,{placement:ve.placement})):Ce)!="number"?Ce:ra(Ce,pn))})(b.padding,l),R=Wo(x),te=A==="y"?Qe:We,H=A==="y"?et:tt,X=l.rects.reference[j]+l.rects.reference[A]-P[A]-l.rects.popper[j],J=P[A]-l.rects.reference[A],Z=Un(x),xe=Z?A==="y"?Z.clientHeight||0:Z.clientWidth||0:0,Pe=X/2-J/2,re=q[te],he=xe-R[j]-q[H],ie=xe/2-R[j]/2+Pe,me=Bn(re,ie,he),be=A;l.modifiersData[u]=((i={})[be]=me,i.centerOffset=me-ie,i)}},effect:function(p){var i=p.state,l=p.options.element,u=l===void 0?"[data-popper-arrow]":l;u!=null&&(typeof u!="string"||(u=i.elements.popper.querySelector(u)))&&na(i.elements.popper,u)&&(i.elements.arrow=u)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function _n(p){return p.split("-")[1]}var Bc={top:"auto",right:"auto",bottom:"auto",left:"auto"};function sa(p){var i,l=p.popper,u=p.popperRect,b=p.placement,x=p.variation,P=p.offsets,I=p.position,A=p.gpuAcceleration,j=p.adaptive,q=p.roundOffsets,R=p.isFixed,te=P.x,H=te===void 0?0:te,X=P.y,J=X===void 0?0:X,Z=typeof q=="function"?q({x:H,y:J}):{x:H,y:J};H=Z.x,J=Z.y;var xe=P.hasOwnProperty("x"),Pe=P.hasOwnProperty("y"),re=We,he=Qe,ie=window;if(j){var me=Un(l),be="clientHeight",Ce="clientWidth";me===nt(l)&&At(me=Ut(l)).position!=="static"&&I==="absolute"&&(be="scrollHeight",Ce="scrollWidth"),(b===Qe||(b===We||b===tt)&&x===un)&&(he=et,J-=(R&&me===ie&&ie.visualViewport?ie.visualViewport.height:me[be])-u.height,J*=A?1:-1),b!==We&&(b!==Qe&&b!==et||x!==un)||(re=tt,H-=(R&&me===ie&&ie.visualViewport?ie.visualViewport.width:me[Ce])-u.width,H*=A?1:-1)}var ve,Te=Object.assign({position:I},j&&Bc),it=q===!0?(function(xt,$e){var ct=xt.x,lt=xt.y,ke=$e.devicePixelRatio||1;return{x:fn(ct*ke)/ke||0,y:fn(lt*ke)/ke||0}})({x:H,y:J},nt(l)):{x:H,y:J};return H=it.x,J=it.y,A?Object.assign({},Te,((ve={})[he]=Pe?"0":"",ve[re]=xe?"0":"",ve.transform=(ie.devicePixelRatio||1)<=1?"translate("+H+"px, "+J+"px)":"translate3d("+H+"px, "+J+"px, 0)",ve)):Object.assign({},Te,((i={})[he]=Pe?J+"px":"",i[re]=xe?H+"px":"",i.transform="",i))}let Yo={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(p){var i=p.state,l=p.options,u=l.gpuAcceleration,b=u===void 0||u,x=l.adaptive,P=x===void 0||x,I=l.roundOffsets,A=I===void 0||I,j={placement:yt(i.placement),variation:_n(i.placement),popper:i.elements.popper,popperRect:i.rects.popper,gpuAcceleration:b,isFixed:i.options.strategy==="fixed"};i.modifiersData.popperOffsets!=null&&(i.styles.popper=Object.assign({},i.styles.popper,sa(Object.assign({},j,{offsets:i.modifiersData.popperOffsets,position:i.options.strategy,adaptive:P,roundOffsets:A})))),i.modifiersData.arrow!=null&&(i.styles.arrow=Object.assign({},i.styles.arrow,sa(Object.assign({},j,{offsets:i.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:A})))),i.attributes.popper=Object.assign({},i.attributes.popper,{"data-popper-placement":i.placement})},data:{}};var li={passive:!0};let Ho={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(p){var i=p.state,l=p.instance,u=p.options,b=u.scroll,x=b===void 0||b,P=u.resize,I=P===void 0||P,A=nt(i.elements.popper),j=[].concat(i.scrollParents.reference,i.scrollParents.popper);return x&&j.forEach(function(q){q.addEventListener("scroll",l.update,li)}),I&&A.addEventListener("resize",l.update,li),function(){x&&j.forEach(function(q){q.removeEventListener("scroll",l.update,li)}),I&&A.removeEventListener("resize",l.update,li)}},data:{}};var Qc={left:"right",right:"left",bottom:"top",top:"bottom"};function di(p){return p.replace(/left|right|bottom|top/g,function(i){return Qc[i]})}var Wc={start:"end",end:"start"};function ca(p){return p.replace(/start|end/g,function(i){return Wc[i]})}function Go(p){var i=nt(p);return{scrollLeft:i.pageXOffset,scrollTop:i.pageYOffset}}function Jo(p){return hn(Ut(p)).left+Go(p).scrollLeft}function Ko(p){var i=At(p),l=i.overflow,u=i.overflowX,b=i.overflowY;return/auto|scroll|overlay|hidden/.test(l+b+u)}function la(p){return["html","body","#document"].indexOf(Mt(p))>=0?p.ownerDocument.body:at(p)&&Ko(p)?p:la(ci(p))}function Qn(p,i){var l;i===void 0&&(i=[]);var u=la(p),b=u===((l=p.ownerDocument)==null?void 0:l.body),x=nt(u),P=b?[x].concat(x.visualViewport||[],Ko(u)?u:[]):u,I=i.concat(P);return b?I:I.concat(Qn(ci(P)))}function Xo(p){return Object.assign({},p,{left:p.x,top:p.y,right:p.x+p.width,bottom:p.y+p.height})}function da(p,i,l){return i===Vo?Xo((function(u,b){var x=nt(u),P=Ut(u),I=x.visualViewport,A=P.clientWidth,j=P.clientHeight,q=0,R=0;if(I){A=I.width,j=I.height;var te=ta();(te||!te&&b==="fixed")&&(q=I.offsetLeft,R=I.offsetTop)}return{width:A,height:j,x:q+Jo(u),y:R}})(p,l)):Gt(i)?(function(u,b){var x=hn(u,!1,b==="fixed");return x.top=x.top+u.clientTop,x.left=x.left+u.clientLeft,x.bottom=x.top+u.clientHeight,x.right=x.left+u.clientWidth,x.width=u.clientWidth,x.height=u.clientHeight,x.x=x.left,x.y=x.top,x})(i,l):Xo((function(u){var b,x=Ut(u),P=Go(u),I=(b=u.ownerDocument)==null?void 0:b.body,A=Jt(x.scrollWidth,x.clientWidth,I?I.scrollWidth:0,I?I.clientWidth:0),j=Jt(x.scrollHeight,x.clientHeight,I?I.scrollHeight:0,I?I.clientHeight:0),q=-P.scrollLeft+Jo(u),R=-P.scrollTop;return At(I||x).direction==="rtl"&&(q+=Jt(x.clientWidth,I?I.clientWidth:0)-A),{width:A,height:j,x:q,y:R}})(Ut(p)))}function ma(p){var i,l=p.reference,u=p.element,b=p.placement,x=b?yt(b):null,P=b?_n(b):null,I=l.x+l.width/2-u.width/2,A=l.y+l.height/2-u.height/2;switch(x){case Qe:i={x:I,y:l.y-u.height};break;case et:i={x:I,y:l.y+l.height};break;case tt:i={x:l.x+l.width,y:A};break;case We:i={x:l.x-u.width,y:A};break;default:i={x:l.x,y:l.y}}var j=x?$o(x):null;if(j!=null){var q=j==="y"?"height":"width";switch(P){case Ht:i[j]=i[j]-(l[q]/2-u[q]/2);break;case un:i[j]=i[j]+(l[q]/2-u[q]/2)}}return i}function bn(p,i){i===void 0&&(i={});var l=i,u=l.placement,b=u===void 0?p.placement:u,x=l.strategy,P=x===void 0?p.strategy:x,I=l.boundary,A=I===void 0?Br:I,j=l.rootBoundary,q=j===void 0?Vo:j,R=l.elementContext,te=R===void 0?gn:R,H=l.altBoundary,X=H!==void 0&&H,J=l.padding,Z=J===void 0?0:J,xe=oa(typeof Z!="number"?Z:ra(Z,pn)),Pe=te===gn?Qr:gn,re=p.rects.popper,he=p.elements[X?Pe:te],ie=(function($e,ct,lt,ke){var wt=ct==="clippingParents"?(function(we){var Ye=Qn(ci(we)),dt=["absolute","fixed"].indexOf(At(we).position)>=0&&at(we)?Un(we):we;return Gt(dt)?Ye.filter(function(Qt){return Gt(Qt)&&na(Qt,dt)&&Mt(Qt)!=="body"}):[]})($e):[].concat(ct),Pt=[].concat(wt,[lt]),Cn=Pt[0],Ae=Pt.reduce(function(we,Ye){var dt=da($e,Ye,ke);return we.top=Jt(dt.top,we.top),we.right=si(dt.right,we.right),we.bottom=si(dt.bottom,we.bottom),we.left=Jt(dt.left,we.left),we},da($e,Cn,ke));return Ae.width=Ae.right-Ae.left,Ae.height=Ae.bottom-Ae.top,Ae.x=Ae.left,Ae.y=Ae.top,Ae})(Gt(he)?he:he.contextElement||Ut(p.elements.popper),A,q,P),me=hn(p.elements.reference),be=ma({reference:me,element:re,placement:b}),Ce=Xo(Object.assign({},re,be)),ve=te===gn?Ce:me,Te={top:ie.top-ve.top+xe.top,bottom:ve.bottom-ie.bottom+xe.bottom,left:ie.left-ve.left+xe.left,right:ve.right-ie.right+xe.right},it=p.modifiersData.offset;if(te===gn&&it){var xt=it[b];Object.keys(Te).forEach(function($e){var ct=[tt,et].indexOf($e)>=0?1:-1,lt=[Qe,et].indexOf($e)>=0?"y":"x";Te[$e]+=xt[lt]*ct})}return Te}function $c(p,i){i===void 0&&(i={});var l=i,u=l.placement,b=l.boundary,x=l.rootBoundary,P=l.padding,I=l.flipVariations,A=l.allowedAutoPlacements,j=A===void 0?qo:A,q=_n(u),R=q?I?jo:jo.filter(function(X){return _n(X)===q}):pn,te=R.filter(function(X){return j.indexOf(X)>=0});te.length===0&&(te=R);var H=te.reduce(function(X,J){return X[J]=bn(p,{placement:J,boundary:b,rootBoundary:x,padding:P})[yt(J)],X},{});return Object.keys(H).sort(function(X,J){return H[X]-H[J]})}let pa={name:"flip",enabled:!0,phase:"main",fn:function(p){var i=p.state,l=p.options,u=p.name;if(!i.modifiersData[u]._skip){for(var b=l.mainAxis,x=b===void 0||b,P=l.altAxis,I=P===void 0||P,A=l.fallbackPlacements,j=l.padding,q=l.boundary,R=l.rootBoundary,te=l.altBoundary,H=l.flipVariations,X=H===void 0||H,J=l.allowedAutoPlacements,Z=i.options.placement,xe=yt(Z),Pe=A||(xe!==Z&&X?(function(we){if(yt(we)===ai)return[];var Ye=di(we);return[ca(we),Ye,ca(Ye)]})(Z):[di(Z)]),re=[Z].concat(Pe).reduce(function(we,Ye){return we.concat(yt(Ye)===ai?$c(i,{placement:Ye,boundary:q,rootBoundary:R,padding:j,flipVariations:X,allowedAutoPlacements:J}):Ye)},[]),he=i.rects.reference,ie=i.rects.popper,me=new Map,be=!0,Ce=re[0],ve=0;ve<re.length;ve++){var Te=re[ve],it=yt(Te),xt=_n(Te)===Ht,$e=[Qe,et].indexOf(it)>=0,ct=$e?"width":"height",lt=bn(i,{placement:Te,boundary:q,rootBoundary:R,altBoundary:te,padding:j}),ke=$e?xt?tt:We:xt?et:Qe;he[ct]>ie[ct]&&(ke=di(ke));var wt=di(ke),Pt=[];if(x&&Pt.push(lt[it]<=0),I&&Pt.push(lt[ke]<=0,lt[wt]<=0),Pt.every(function(we){return we})){Ce=Te,be=!1;break}me.set(Te,Pt)}if(be)for(var Cn=function(we){var Ye=re.find(function(dt){var Qt=me.get(dt);if(Qt)return Qt.slice(0,we).every(function(vi){return vi})});if(Ye)return Ce=Ye,"break"},Ae=X?3:1;Ae>0&&Cn(Ae)!=="break";Ae--);i.placement!==Ce&&(i.modifiersData[u]._skip=!0,i.placement=Ce,i.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ua(p,i,l){return l===void 0&&(l={x:0,y:0}),{top:p.top-i.height-l.y,right:p.right-i.width+l.x,bottom:p.bottom-i.height+l.y,left:p.left-i.width-l.x}}function ga(p){return[Qe,tt,et,We].some(function(i){return p[i]>=0})}let fa={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(p){var i=p.state,l=p.name,u=i.rects.reference,b=i.rects.popper,x=i.modifiersData.preventOverflow,P=bn(i,{elementContext:"reference"}),I=bn(i,{altBoundary:!0}),A=ua(P,u),j=ua(I,b,x),q=ga(A),R=ga(j);i.modifiersData[l]={referenceClippingOffsets:A,popperEscapeOffsets:j,isReferenceHidden:q,hasPopperEscaped:R},i.attributes.popper=Object.assign({},i.attributes.popper,{"data-popper-reference-hidden":q,"data-popper-escaped":R})}},ha={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(p){var i=p.state,l=p.options,u=p.name,b=l.offset,x=b===void 0?[0,0]:b,P=qo.reduce(function(q,R){return q[R]=(function(te,H,X){var J=yt(te),Z=[We,Qe].indexOf(J)>=0?-1:1,xe=typeof X=="function"?X(Object.assign({},H,{placement:te})):X,Pe=xe[0],re=xe[1];return Pe=Pe||0,re=(re||0)*Z,[We,tt].indexOf(J)>=0?{x:re,y:Pe}:{x:Pe,y:re}})(R,i.rects,x),q},{}),I=P[i.placement],A=I.x,j=I.y;i.modifiersData.popperOffsets!=null&&(i.modifiersData.popperOffsets.x+=A,i.modifiersData.popperOffsets.y+=j),i.modifiersData[u]=P}},Zo={name:"popperOffsets",enabled:!0,phase:"read",fn:function(p){var i=p.state,l=p.name;i.modifiersData[l]=ma({reference:i.rects.reference,element:i.rects.popper,placement:i.placement})},data:{}},_a={name:"preventOverflow",enabled:!0,phase:"main",fn:function(p){var i=p.state,l=p.options,u=p.name,b=l.mainAxis,x=b===void 0||b,P=l.altAxis,I=P!==void 0&&P,A=l.boundary,j=l.rootBoundary,q=l.altBoundary,R=l.padding,te=l.tether,H=te===void 0||te,X=l.tetherOffset,J=X===void 0?0:X,Z=bn(i,{boundary:A,rootBoundary:j,padding:R,altBoundary:q}),xe=yt(i.placement),Pe=_n(i.placement),re=!Pe,he=$o(xe),ie=he==="x"?"y":"x",me=i.modifiersData.popperOffsets,be=i.rects.reference,Ce=i.rects.popper,ve=typeof J=="function"?J(Object.assign({},i.rects,{placement:i.placement})):J,Te=typeof ve=="number"?{mainAxis:ve,altAxis:ve}:Object.assign({mainAxis:0,altAxis:0},ve),it=i.modifiersData.offset?i.modifiersData.offset[i.placement]:null,xt={x:0,y:0};if(me){if(x){var $e,ct=he==="y"?Qe:We,lt=he==="y"?et:tt,ke=he==="y"?"height":"width",wt=me[he],Pt=wt+Z[ct],Cn=wt-Z[lt],Ae=H?-Ce[ke]/2:0,we=Pe===Ht?be[ke]:Ce[ke],Ye=Pe===Ht?-Ce[ke]:-be[ke],dt=i.elements.arrow,Qt=H&&dt?Wo(dt):{width:0,height:0},vi=i.modifiersData["arrow#persistent"]?i.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},is=vi[ct],os=vi[lt],xi=Bn(0,be[ke],Qt[ke]),wd=re?be[ke]/2-Ae-xi-is-Te.mainAxis:we-xi-is-Te.mainAxis,Pd=re?-be[ke]/2+Ae+xi+os+Te.mainAxis:Ye+xi+os+Te.mainAxis,ur=i.elements.arrow&&Un(i.elements.arrow),Od=ur?he==="y"?ur.clientTop||0:ur.clientLeft||0:0,rs=($e=it?.[he])!=null?$e:0,Sd=wt+Pd-rs,as=Bn(H?si(Pt,wt+wd-rs-Od):Pt,wt,H?Jt(Cn,Sd):Cn);me[he]=as,xt[he]=as-wt}if(I){var ss,Id=he==="x"?Qe:We,kd=he==="x"?et:tt,rn=me[ie],Ci=ie==="y"?"height":"width",cs=rn+Z[Id],ls=rn-Z[kd],gr=[Qe,We].indexOf(xe)!==-1,ds=(ss=it?.[ie])!=null?ss:0,ms=gr?cs:rn-be[Ci]-Ce[Ci]-ds+Te.altAxis,ps=gr?rn+be[Ci]+Ce[Ci]-ds-Te.altAxis:ls,us=H&&gr?(function(Ed,Td,fr){var gs=Bn(Ed,Td,fr);return gs>fr?fr:gs})(ms,rn,ps):Bn(H?ms:cs,rn,H?ps:ls);me[ie]=us,xt[ie]=us-rn}i.modifiersData[u]=xt}},requiresIfExists:["offset"]};function Yc(p,i,l){l===void 0&&(l=!1);var u,b,x=at(i),P=at(i)&&(function(R){var te=R.getBoundingClientRect(),H=fn(te.width)/R.offsetWidth||1,X=fn(te.height)/R.offsetHeight||1;return H!==1||X!==1})(i),I=Ut(i),A=hn(p,P,l),j={scrollLeft:0,scrollTop:0},q={x:0,y:0};return(x||!x&&!l)&&((Mt(i)!=="body"||Ko(I))&&(j=(u=i)!==nt(u)&&at(u)?{scrollLeft:(b=u).scrollLeft,scrollTop:b.scrollTop}:Go(u)),at(i)?((q=hn(i,!0)).x+=i.clientLeft,q.y+=i.clientTop):I&&(q.x=Jo(I))),{x:A.left+j.scrollLeft-q.x,y:A.top+j.scrollTop-q.y,width:A.width,height:A.height}}function Hc(p){var i=new Map,l=new Set,u=[];function b(x){l.add(x.name),[].concat(x.requires||[],x.requiresIfExists||[]).forEach(function(P){if(!l.has(P)){var I=i.get(P);I&&b(I)}}),u.push(x)}return p.forEach(function(x){i.set(x.name,x)}),p.forEach(function(x){l.has(x.name)||b(x)}),u}var ba={placement:"bottom",modifiers:[],strategy:"absolute"};function va(){for(var p=arguments.length,i=new Array(p),l=0;l<p;l++)i[l]=arguments[l];return!i.some(function(u){return!(u&&typeof u.getBoundingClientRect=="function")})}function mi(p){p===void 0&&(p={});var i=p,l=i.defaultModifiers,u=l===void 0?[]:l,b=i.defaultOptions,x=b===void 0?ba:b;return function(P,I,A){A===void 0&&(A=x);var j,q,R={placement:"bottom",orderedModifiers:[],options:Object.assign({},ba,x),modifiersData:{},elements:{reference:P,popper:I},attributes:{},styles:{}},te=[],H=!1,X={state:R,setOptions:function(Z){var xe=typeof Z=="function"?Z(R.options):Z;J(),R.options=Object.assign({},x,R.options,xe),R.scrollParents={reference:Gt(P)?Qn(P):P.contextElement?Qn(P.contextElement):[],popper:Qn(I)};var Pe,re,he=(function(ie){var me=Hc(ie);return ea.reduce(function(be,Ce){return be.concat(me.filter(function(ve){return ve.phase===Ce}))},[])})((Pe=[].concat(u,R.options.modifiers),re=Pe.reduce(function(ie,me){var be=ie[me.name];return ie[me.name]=be?Object.assign({},be,me,{options:Object.assign({},be.options,me.options),data:Object.assign({},be.data,me.data)}):me,ie},{}),Object.keys(re).map(function(ie){return re[ie]})));return R.orderedModifiers=he.filter(function(ie){return ie.enabled}),R.orderedModifiers.forEach(function(ie){var me=ie.name,be=ie.options,Ce=be===void 0?{}:be,ve=ie.effect;if(typeof ve=="function"){var Te=ve({state:R,name:me,instance:X,options:Ce});te.push(Te||function(){})}}),X.update()},forceUpdate:function(){if(!H){var Z=R.elements,xe=Z.reference,Pe=Z.popper;if(va(xe,Pe)){R.rects={reference:Yc(xe,Un(Pe),R.options.strategy==="fixed"),popper:Wo(Pe)},R.reset=!1,R.placement=R.options.placement,R.orderedModifiers.forEach(function(ve){return R.modifiersData[ve.name]=Object.assign({},ve.data)});for(var re=0;re<R.orderedModifiers.length;re++)if(R.reset!==!0){var he=R.orderedModifiers[re],ie=he.fn,me=he.options,be=me===void 0?{}:me,Ce=he.name;typeof ie=="function"&&(R=ie({state:R,options:be,name:Ce,instance:X})||R)}else R.reset=!1,re=-1}}},update:(j=function(){return new Promise(function(Z){X.forceUpdate(),Z(R)})},function(){return q||(q=new Promise(function(Z){Promise.resolve().then(function(){q=void 0,Z(j())})})),q}),destroy:function(){J(),H=!0}};if(!va(P,I))return X;function J(){te.forEach(function(Z){return Z()}),te=[]}return X.setOptions(A).then(function(Z){!H&&A.onFirstUpdate&&A.onFirstUpdate(Z)}),X}}var Gc=mi(),Jc=mi({defaultModifiers:[Ho,Zo,Yo,Bo]}),er=mi({defaultModifiers:[Ho,Zo,Yo,Bo,ha,pa,_a,aa,fa]});let xa=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Jr,afterRead:Yr,afterWrite:Zr,applyStyles:Bo,arrow:aa,auto:ai,basePlacements:pn,beforeMain:Hr,beforeRead:Wr,beforeWrite:Kr,bottom:et,clippingParents:Br,computeStyles:Yo,createPopper:er,createPopperBase:Gc,createPopperLite:Jc,detectOverflow:bn,end:un,eventListeners:Ho,flip:pa,hide:fa,left:We,main:Gr,modifierPhases:ea,offset:ha,placements:qo,popper:gn,popperGenerator:mi,popperOffsets:Zo,preventOverflow:_a,read:$r,reference:Qr,right:tt,start:Ht,top:Qe,variationPlacements:jo,viewport:Vo,write:Xr},Symbol.toStringTag,{value:"Module"})),Ca="dropdown",Kt=".bs.dropdown",tr=".data-api",Kc="ArrowUp",Ma="ArrowDown",Xc=`hide${Kt}`,Zc=`hidden${Kt}`,el=`show${Kt}`,tl=`shown${Kt}`,ya=`click${Kt}${tr}`,wa=`keydown${Kt}${tr}`,nl=`keyup${Kt}${tr}`,vn="show",Xt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',il=`${Xt}.${vn}`,pi=".dropdown-menu",ol=ot()?"top-end":"top-start",rl=ot()?"top-start":"top-end",al=ot()?"bottom-end":"bottom-start",sl=ot()?"bottom-start":"bottom-end",cl=ot()?"left-start":"right-start",ll=ot()?"right-start":"left-start",dl={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ml={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class vt extends bt{constructor(i,l){super(i,l),this._popper=null,this._parent=this._element.parentNode,this._menu=$.next(this._element,pi)[0]||$.prev(this._element,pi)[0]||$.findOne(pi,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return dl}static get DefaultType(){return ml}static get NAME(){return Ca}toggle(){return this._isShown()?this.hide():this.show()}show(){if(_t(this._element)||this._isShown())return;let i={relatedTarget:this._element};if(!k.trigger(this._element,el,i).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(let l of[].concat(...document.body.children))k.on(l,"mouseover",ei);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(vn),this._element.classList.add(vn),k.trigger(this._element,tl,i)}}hide(){if(_t(this._element)||!this._isShown())return;let i={relatedTarget:this._element};this._completeHide(i)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(i){if(!k.trigger(this._element,Xc,i).defaultPrevented){if("ontouchstart"in document.documentElement)for(let l of[].concat(...document.body.children))k.off(l,"mouseover",ei);this._popper&&this._popper.destroy(),this._menu.classList.remove(vn),this._element.classList.remove(vn),this._element.setAttribute("aria-expanded","false"),Lt.removeDataAttribute(this._menu,"popper"),k.trigger(this._element,Zc,i)}}_getConfig(i){if(typeof(i=super._getConfig(i)).reference=="object"&&!w(i.reference)&&typeof i.reference.getBoundingClientRect!="function")throw new TypeError(`${Ca.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return i}_createPopper(){if(xa===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let i=this._element;this._config.reference==="parent"?i=this._parent:w(this._config.reference)?i=Ue(this._config.reference):typeof this._config.reference=="object"&&(i=this._config.reference);let l=this._getPopperConfig();this._popper=er(i,this._menu,l)}_isShown(){return this._menu.classList.contains(vn)}_getPlacement(){let i=this._parent;if(i.classList.contains("dropend"))return cl;if(i.classList.contains("dropstart"))return ll;if(i.classList.contains("dropup-center"))return"top";if(i.classList.contains("dropdown-center"))return"bottom";let l=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return i.classList.contains("dropup")?l?rl:ol:l?sl:al}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){let{offset:i}=this._config;return typeof i=="string"?i.split(",").map(l=>Number.parseInt(l,10)):typeof i=="function"?l=>i(l,this._element):i}_getPopperConfig(){let i={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Lt.setDataAttribute(this._menu,"popper","static"),i.modifiers=[{name:"applyStyles",enabled:!1}]),Ne(Ne({},i),Je(this._config.popperConfig,[void 0,i]))}_selectMenuItem({key:i,target:l}){let u=$.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(b=>ht(b));u.length&&Eo(u,l,i===Ma,!u.includes(l)).focus()}static jQueryInterface(i){return this.each(function(){let l=vt.getOrCreateInstance(this,i);if(typeof i=="string"){if(l[i]===void 0)throw new TypeError(`No method named "${i}"`);l[i]()}})}static clearMenus(i){if(i.button===2||i.type==="keyup"&&i.key!=="Tab")return;let l=$.find(il);for(let u of l){let b=vt.getInstance(u);if(!b||b._config.autoClose===!1)continue;let x=i.composedPath(),P=x.includes(b._menu);if(x.includes(b._element)||b._config.autoClose==="inside"&&!P||b._config.autoClose==="outside"&&P||b._menu.contains(i.target)&&(i.type==="keyup"&&i.key==="Tab"||/input|select|option|textarea|form/i.test(i.target.tagName)))continue;let I={relatedTarget:b._element};i.type==="click"&&(I.clickEvent=i),b._completeHide(I)}}static dataApiKeydownHandler(i){let l=/input|textarea/i.test(i.target.tagName),u=i.key==="Escape",b=[Kc,Ma].includes(i.key);if(!b&&!u||l&&!u)return;i.preventDefault();let x=this.matches(Xt)?this:$.prev(this,Xt)[0]||$.next(this,Xt)[0]||$.findOne(Xt,i.delegateTarget.parentNode),P=vt.getOrCreateInstance(x);if(b)return i.stopPropagation(),P.show(),void P._selectMenuItem(i);P._isShown()&&(i.stopPropagation(),P.hide(),x.focus())}}k.on(document,wa,Xt,vt.dataApiKeydownHandler),k.on(document,wa,pi,vt.dataApiKeydownHandler),k.on(document,ya,vt.clearMenus),k.on(document,nl,vt.clearMenus),k.on(document,ya,Xt,function(p){p.preventDefault(),vt.getOrCreateInstance(this).toggle()}),rt(vt);let Pa="backdrop",Oa="show",Sa=`mousedown.bs.${Pa}`,pl={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ul={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ia extends Rn{constructor(i){super(),this._config=this._getConfig(i),this._isAppended=!1,this._element=null}static get Default(){return pl}static get DefaultType(){return ul}static get NAME(){return Pa}show(i){if(!this._config.isVisible)return void Je(i);this._append();let l=this._getElement();this._config.isAnimated&&Dn(l),l.classList.add(Oa),this._emulateAnimation(()=>{Je(i)})}hide(i){this._config.isVisible?(this._getElement().classList.remove(Oa),this._emulateAnimation(()=>{this.dispose(),Je(i)})):Je(i)}dispose(){this._isAppended&&(k.off(this._element,Sa),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let i=document.createElement("div");i.className=this._config.className,this._config.isAnimated&&i.classList.add("fade"),this._element=i}return this._element}_configAfterMerge(i){return i.rootElement=Ue(i.rootElement),i}_append(){if(this._isAppended)return;let i=this._getElement();this._config.rootElement.append(i),k.on(i,Sa,()=>{Je(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(i){Sr(i,this._getElement(),this._config.isAnimated)}}let ui=".bs.focustrap",gl=`focusin${ui}`,fl=`keydown.tab${ui}`,ka="backward",hl={autofocus:!0,trapElement:null},_l={autofocus:"boolean",trapElement:"element"};class Ea extends Rn{constructor(i){super(),this._config=this._getConfig(i),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return hl}static get DefaultType(){return _l}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),k.off(document,ui),k.on(document,gl,i=>this._handleFocusin(i)),k.on(document,fl,i=>this._handleKeydown(i)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,k.off(document,ui))}_handleFocusin(i){let{trapElement:l}=this._config;if(i.target===document||i.target===l||l.contains(i.target))return;let u=$.focusableChildren(l);u.length===0?l.focus():this._lastTabNavDirection===ka?u[u.length-1].focus():u[0].focus()}_handleKeydown(i){i.key==="Tab"&&(this._lastTabNavDirection=i.shiftKey?ka:"forward")}}let Ta=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Na=".sticky-top",gi="padding-right",La="margin-right";class nr{constructor(){this._element=document.body}getWidth(){let i=document.documentElement.clientWidth;return Math.abs(window.innerWidth-i)}hide(){let i=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,gi,l=>l+i),this._setElementAttributes(Ta,gi,l=>l+i),this._setElementAttributes(Na,La,l=>l-i)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,gi),this._resetElementAttributes(Ta,gi),this._resetElementAttributes(Na,La)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(i,l,u){let b=this.getWidth();this._applyManipulationCallback(i,x=>{if(x!==this._element&&window.innerWidth>x.clientWidth+b)return;this._saveInitialAttribute(x,l);let P=window.getComputedStyle(x).getPropertyValue(l);x.style.setProperty(l,`${u(Number.parseFloat(P))}px`)})}_saveInitialAttribute(i,l){let u=i.style.getPropertyValue(l);u&&Lt.setDataAttribute(i,l,u)}_resetElementAttributes(i,l){this._applyManipulationCallback(i,u=>{let b=Lt.getDataAttribute(u,l);b!==null?(Lt.removeDataAttribute(u,l),u.style.setProperty(l,b)):u.style.removeProperty(l)})}_applyManipulationCallback(i,l){if(w(i))l(i);else for(let u of $.find(i,this._element))l(u)}}let st=".bs.modal",bl=`hide${st}`,vl=`hidePrevented${st}`,Aa=`hidden${st}`,za=`show${st}`,xl=`shown${st}`,Cl=`resize${st}`,Ml=`click.dismiss${st}`,yl=`mousedown.dismiss${st}`,wl=`keydown.dismiss${st}`,Pl=`click${st}.data-api`,Da="modal-open",Ra="show",ir="modal-static",Ol={backdrop:!0,focus:!0,keyboard:!0},Sl={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Zt extends bt{constructor(i,l){super(i,l),this._dialog=$.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new nr,this._addEventListeners()}static get Default(){return Ol}static get DefaultType(){return Sl}static get NAME(){return"modal"}toggle(i){return this._isShown?this.hide():this.show(i)}show(i){this._isShown||this._isTransitioning||k.trigger(this._element,za,{relatedTarget:i}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Da),this._adjustDialog(),this._backdrop.show(()=>this._showElement(i)))}hide(){this._isShown&&!this._isTransitioning&&(k.trigger(this._element,bl).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ra),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){k.off(window,st),k.off(this._dialog,st),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ia({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ea({trapElement:this._element})}_showElement(i){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let l=$.findOne(".modal-body",this._dialog);l&&(l.scrollTop=0),Dn(this._element),this._element.classList.add(Ra),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,k.trigger(this._element,xl,{relatedTarget:i})},this._dialog,this._isAnimated())}_addEventListeners(){k.on(this._element,wl,i=>{i.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),k.on(window,Cl,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),k.on(this._element,yl,i=>{k.one(this._element,Ml,l=>{this._element===i.target&&this._element===l.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Da),this._resetAdjustments(),this._scrollBar.reset(),k.trigger(this._element,Aa)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(k.trigger(this._element,vl).defaultPrevented)return;let i=this._element.scrollHeight>document.documentElement.clientHeight,l=this._element.style.overflowY;l==="hidden"||this._element.classList.contains(ir)||(i||(this._element.style.overflowY="hidden"),this._element.classList.add(ir),this._queueCallback(()=>{this._element.classList.remove(ir),this._queueCallback(()=>{this._element.style.overflowY=l},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let i=this._element.scrollHeight>document.documentElement.clientHeight,l=this._scrollBar.getWidth(),u=l>0;if(u&&!i){let b=ot()?"paddingLeft":"paddingRight";this._element.style[b]=`${l}px`}if(!u&&i){let b=ot()?"paddingRight":"paddingLeft";this._element.style[b]=`${l}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(i,l){return this.each(function(){let u=Zt.getOrCreateInstance(this,i);if(typeof i=="string"){if(u[i]===void 0)throw new TypeError(`No method named "${i}"`);u[i](l)}})}}k.on(document,Pl,'[data-bs-toggle="modal"]',function(p){let i=$.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&p.preventDefault(),k.one(i,za,u=>{u.defaultPrevented||k.one(i,Aa,()=>{ht(this)&&this.focus()})});let l=$.findOne(".modal.show");l&&Zt.getInstance(l).hide(),Zt.getOrCreateInstance(i).toggle(this)}),ti(Zt),rt(Zt);let zt=".bs.offcanvas",Fa=".data-api",Il=`load${zt}${Fa}`,Va="show",ja="showing",qa="hiding",Ua=".offcanvas.show",kl=`show${zt}`,El=`shown${zt}`,Tl=`hide${zt}`,Ba=`hidePrevented${zt}`,Qa=`hidden${zt}`,Nl=`resize${zt}`,Ll=`click${zt}${Fa}`,Al=`keydown.dismiss${zt}`,zl={backdrop:!0,keyboard:!0,scroll:!1},Dl={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Dt extends bt{constructor(i,l){super(i,l),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return zl}static get DefaultType(){return Dl}static get NAME(){return"offcanvas"}toggle(i){return this._isShown?this.hide():this.show(i)}show(i){this._isShown||k.trigger(this._element,kl,{relatedTarget:i}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new nr().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ja),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Va),this._element.classList.remove(ja),k.trigger(this._element,El,{relatedTarget:i})},this._element,!0))}hide(){this._isShown&&(k.trigger(this._element,Tl).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(qa),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Va,qa),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new nr().reset(),k.trigger(this._element,Qa)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let i=!!this._config.backdrop;return new Ia({className:"offcanvas-backdrop",isVisible:i,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:i?()=>{this._config.backdrop!=="static"?this.hide():k.trigger(this._element,Ba)}:null})}_initializeFocusTrap(){return new Ea({trapElement:this._element})}_addEventListeners(){k.on(this._element,Al,i=>{i.key==="Escape"&&(this._config.keyboard?this.hide():k.trigger(this._element,Ba))})}static jQueryInterface(i){return this.each(function(){let l=Dt.getOrCreateInstance(this,i);if(typeof i=="string"){if(l[i]===void 0||i.startsWith("_")||i==="constructor")throw new TypeError(`No method named "${i}"`);l[i](this)}})}}k.on(document,Ll,'[data-bs-toggle="offcanvas"]',function(p){let i=$.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&p.preventDefault(),_t(this))return;k.one(i,Qa,()=>{ht(this)&&this.focus()});let l=$.findOne(Ua);l&&l!==i&&Dt.getInstance(l).hide(),Dt.getOrCreateInstance(i).toggle(this)}),k.on(window,Il,()=>{for(let p of $.find(Ua))Dt.getOrCreateInstance(p).show()}),k.on(window,Nl,()=>{for(let p of $.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(p).position!=="fixed"&&Dt.getOrCreateInstance(p).hide()}),ti(Dt),rt(Dt);let Wa={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Rl=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Fl=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Vl=(p,i)=>{let l=p.nodeName.toLowerCase();return i.includes(l)?!Rl.has(l)||!!Fl.test(p.nodeValue):i.filter(u=>u instanceof RegExp).some(u=>u.test(l))},jl={allowList:Wa,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},ql={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Ul={entry:"(string|element|function|null)",selector:"(string|element)"};class Bl extends Rn{constructor(i){super(),this._config=this._getConfig(i)}static get Default(){return jl}static get DefaultType(){return ql}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(i=>this._resolvePossibleFunction(i)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(i){return this._checkContent(i),this._config.content=Ne(Ne({},this._config.content),i),this}toHtml(){let i=document.createElement("div");i.innerHTML=this._maybeSanitize(this._config.template);for(let[b,x]of Object.entries(this._config.content))this._setContent(i,x,b);let l=i.children[0],u=this._resolvePossibleFunction(this._config.extraClass);return u&&l.classList.add(...u.split(" ")),l}_typeCheckConfig(i){super._typeCheckConfig(i),this._checkContent(i.content)}_checkContent(i){for(let[l,u]of Object.entries(i))super._typeCheckConfig({selector:l,entry:u},Ul)}_setContent(i,l,u){let b=$.findOne(u,i);b&&((l=this._resolvePossibleFunction(l))?w(l)?this._putElementInTemplate(Ue(l),b):this._config.html?b.innerHTML=this._maybeSanitize(l):b.textContent=l:b.remove())}_maybeSanitize(i){return this._config.sanitize?(function(l,u,b){if(!l.length)return l;if(b&&typeof b=="function")return b(l);let x=new window.DOMParser().parseFromString(l,"text/html"),P=[].concat(...x.body.querySelectorAll("*"));for(let I of P){let A=I.nodeName.toLowerCase();if(!Object.keys(u).includes(A)){I.remove();continue}let j=[].concat(...I.attributes),q=[].concat(u["*"]||[],u[A]||[]);for(let R of j)Vl(R,q)||I.removeAttribute(R.nodeName)}return x.body.innerHTML})(i,this._config.allowList,this._config.sanitizeFn):i}_resolvePossibleFunction(i){return Je(i,[void 0,this])}_putElementInTemplate(i,l){if(this._config.html)return l.innerHTML="",void l.append(i);l.textContent=i.textContent}}let Ql=new Set(["sanitize","allowList","sanitizeFn"]),or="fade",fi="show",Wl=".tooltip-inner",$a=".modal",Ya="hide.bs.modal",Wn="hover",rr="focus",ar="click",$l={AUTO:"auto",TOP:"top",RIGHT:ot()?"left":"right",BOTTOM:"bottom",LEFT:ot()?"right":"left"},Yl={allowList:Wa,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Hl={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class en extends bt{constructor(i,l){if(xa===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(i,l),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Yl}static get DefaultType(){return Hl}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),k.off(this._element.closest($a),Ya,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;let i=k.trigger(this._element,this.constructor.eventName("show")),l=(Pr(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(i.defaultPrevented||!l)return;this._disposePopper();let u=this._getTipElement();this._element.setAttribute("aria-describedby",u.getAttribute("id"));let{container:b}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(b.append(u),k.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(u),u.classList.add(fi),"ontouchstart"in document.documentElement)for(let x of[].concat(...document.body.children))k.on(x,"mouseover",ei);this._queueCallback(()=>{k.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!k.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(fi),"ontouchstart"in document.documentElement)for(let i of[].concat(...document.body.children))k.off(i,"mouseover",ei);this._activeTrigger[ar]=!1,this._activeTrigger[rr]=!1,this._activeTrigger[Wn]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),k.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(i){let l=this._getTemplateFactory(i).toHtml();if(!l)return null;l.classList.remove(or,fi),l.classList.add(`bs-${this.constructor.NAME}-auto`);let u=(b=>{do b+=Math.floor(1e6*Math.random());while(document.getElementById(b));return b})(this.constructor.NAME).toString();return l.setAttribute("id",u),this._isAnimated()&&l.classList.add(or),l}setContent(i){this._newContent=i,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(i){return this._templateFactory?this._templateFactory.changeContent(i):this._templateFactory=new Bl(Mn(Ne({},this._config),{content:i,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{[Wl]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(i){return this.constructor.getOrCreateInstance(i.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(or)}_isShown(){return this.tip&&this.tip.classList.contains(fi)}_createPopper(i){let l=Je(this._config.placement,[this,i,this._element]),u=$l[l.toUpperCase()];return er(this._element,i,this._getPopperConfig(u))}_getOffset(){let{offset:i}=this._config;return typeof i=="string"?i.split(",").map(l=>Number.parseInt(l,10)):typeof i=="function"?l=>i(l,this._element):i}_resolvePossibleFunction(i){return Je(i,[this._element,this._element])}_getPopperConfig(i){let l={placement:i,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:u=>{this._getTipElement().setAttribute("data-popper-placement",u.state.placement)}}]};return Ne(Ne({},l),Je(this._config.popperConfig,[void 0,l]))}_setListeners(){let i=this._config.trigger.split(" ");for(let l of i)if(l==="click")k.on(this._element,this.constructor.eventName("click"),this._config.selector,u=>{let b=this._initializeOnDelegatedTarget(u);b._activeTrigger[ar]=!(b._isShown()&&b._activeTrigger[ar]),b.toggle()});else if(l!=="manual"){let u=l===Wn?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),b=l===Wn?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");k.on(this._element,u,this._config.selector,x=>{let P=this._initializeOnDelegatedTarget(x);P._activeTrigger[x.type==="focusin"?rr:Wn]=!0,P._enter()}),k.on(this._element,b,this._config.selector,x=>{let P=this._initializeOnDelegatedTarget(x);P._activeTrigger[x.type==="focusout"?rr:Wn]=P._element.contains(x.relatedTarget),P._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},k.on(this._element.closest($a),Ya,this._hideModalHandler)}_fixTitle(){let i=this._element.getAttribute("title");i&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",i),this._element.setAttribute("data-bs-original-title",i),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(i,l){clearTimeout(this._timeout),this._timeout=setTimeout(i,l)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(i){let l=Lt.getDataAttributes(this._element);for(let u of Object.keys(l))Ql.has(u)&&delete l[u];return i=Ne(Ne({},l),typeof i=="object"&&i?i:{}),i=this._mergeConfigObj(i),i=this._configAfterMerge(i),this._typeCheckConfig(i),i}_configAfterMerge(i){return i.container=i.container===!1?document.body:Ue(i.container),typeof i.delay=="number"&&(i.delay={show:i.delay,hide:i.delay}),typeof i.title=="number"&&(i.title=i.title.toString()),typeof i.content=="number"&&(i.content=i.content.toString()),i}_getDelegateConfig(){let i={};for(let[l,u]of Object.entries(this._config))this.constructor.Default[l]!==u&&(i[l]=u);return i.selector=!1,i.trigger="manual",i}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(i){return this.each(function(){let l=en.getOrCreateInstance(this,i);if(typeof i=="string"){if(l[i]===void 0)throw new TypeError(`No method named "${i}"`);l[i]()}})}}rt(en);let Gl=".popover-header",Jl=".popover-body",Kl=Mn(Ne({},en.Default),{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),Xl=Mn(Ne({},en.DefaultType),{content:"(null|string|element|function)"});class hi extends en{static get Default(){return Kl}static get DefaultType(){return Xl}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Gl]:this._getTitle(),[Jl]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(i){return this.each(function(){let l=hi.getOrCreateInstance(this,i);if(typeof i=="string"){if(l[i]===void 0)throw new TypeError(`No method named "${i}"`);l[i]()}})}}rt(hi);let sr=".bs.scrollspy",Zl=`activate${sr}`,Ha=`click${sr}`,ed=`load${sr}.data-api`,xn="active",cr="[href]",Ga=".nav-link",td=`${Ga}, .nav-item > ${Ga}, .list-group-item`,nd={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},id={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class $n extends bt{constructor(i,l){super(i,l),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return nd}static get DefaultType(){return id}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(let i of this._observableSections.values())this._observer.observe(i)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(i){return i.target=Ue(i.target)||document.body,i.rootMargin=i.offset?`${i.offset}px 0px -30%`:i.rootMargin,typeof i.threshold=="string"&&(i.threshold=i.threshold.split(",").map(l=>Number.parseFloat(l))),i}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(k.off(this._config.target,Ha),k.on(this._config.target,Ha,cr,i=>{let l=this._observableSections.get(i.target.hash);if(l){i.preventDefault();let u=this._rootElement||window,b=l.offsetTop-this._element.offsetTop;if(u.scrollTo)return void u.scrollTo({top:b,behavior:"smooth"});u.scrollTop=b}}))}_getNewObserver(){let i={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(l=>this._observerCallback(l),i)}_observerCallback(i){let l=P=>this._targetLinks.get(`#${P.target.id}`),u=P=>{this._previousScrollData.visibleEntryTop=P.target.offsetTop,this._process(l(P))},b=(this._rootElement||document.documentElement).scrollTop,x=b>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=b;for(let P of i){if(!P.isIntersecting){this._activeTarget=null,this._clearActiveClass(l(P));continue}let I=P.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(x&&I){if(u(P),!b)return}else x||I||u(P)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;let i=$.find(cr,this._config.target);for(let l of i){if(!l.hash||_t(l))continue;let u=$.findOne(decodeURI(l.hash),this._element);ht(u)&&(this._targetLinks.set(decodeURI(l.hash),l),this._observableSections.set(l.hash,u))}}_process(i){this._activeTarget!==i&&(this._clearActiveClass(this._config.target),this._activeTarget=i,i.classList.add(xn),this._activateParents(i),k.trigger(this._element,Zl,{relatedTarget:i}))}_activateParents(i){if(i.classList.contains("dropdown-item"))$.findOne(".dropdown-toggle",i.closest(".dropdown")).classList.add(xn);else for(let l of $.parents(i,".nav, .list-group"))for(let u of $.prev(l,td))u.classList.add(xn)}_clearActiveClass(i){i.classList.remove(xn);let l=$.find(`${cr}.${xn}`,i);for(let u of l)u.classList.remove(xn)}static jQueryInterface(i){return this.each(function(){let l=$n.getOrCreateInstance(this,i);if(typeof i=="string"){if(l[i]===void 0||i.startsWith("_")||i==="constructor")throw new TypeError(`No method named "${i}"`);l[i]()}})}}k.on(window,ed,()=>{for(let p of $.find('[data-bs-spy="scroll"]'))$n.getOrCreateInstance(p)}),rt($n);let tn=".bs.tab",od=`hide${tn}`,rd=`hidden${tn}`,ad=`show${tn}`,sd=`shown${tn}`,cd=`click${tn}`,ld=`keydown${tn}`,dd=`load${tn}`,md="ArrowLeft",Ja="ArrowRight",pd="ArrowUp",Ka="ArrowDown",lr="Home",Xa="End",nn="active",Za="fade",dr="show",es=".dropdown-toggle",mr=`:not(${es})`,ts='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',pr=`.nav-link${mr}, .list-group-item${mr}, [role="tab"]${mr}, ${ts}`,ud=`.${nn}[data-bs-toggle="tab"], .${nn}[data-bs-toggle="pill"], .${nn}[data-bs-toggle="list"]`;class on extends bt{constructor(i){super(i),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),k.on(this._element,ld,l=>this._keydown(l)))}static get NAME(){return"tab"}show(){let i=this._element;if(this._elemIsActive(i))return;let l=this._getActiveElem(),u=l?k.trigger(l,od,{relatedTarget:i}):null;k.trigger(i,ad,{relatedTarget:l}).defaultPrevented||u&&u.defaultPrevented||(this._deactivate(l,i),this._activate(i,l))}_activate(i,l){i&&(i.classList.add(nn),this._activate($.getElementFromSelector(i)),this._queueCallback(()=>{i.getAttribute("role")==="tab"?(i.removeAttribute("tabindex"),i.setAttribute("aria-selected",!0),this._toggleDropDown(i,!0),k.trigger(i,sd,{relatedTarget:l})):i.classList.add(dr)},i,i.classList.contains(Za)))}_deactivate(i,l){i&&(i.classList.remove(nn),i.blur(),this._deactivate($.getElementFromSelector(i)),this._queueCallback(()=>{i.getAttribute("role")==="tab"?(i.setAttribute("aria-selected",!1),i.setAttribute("tabindex","-1"),this._toggleDropDown(i,!1),k.trigger(i,rd,{relatedTarget:l})):i.classList.remove(dr)},i,i.classList.contains(Za)))}_keydown(i){if(![md,Ja,pd,Ka,lr,Xa].includes(i.key))return;i.stopPropagation(),i.preventDefault();let l=this._getChildren().filter(b=>!_t(b)),u;if([lr,Xa].includes(i.key))u=l[i.key===lr?0:l.length-1];else{let b=[Ja,Ka].includes(i.key);u=Eo(l,i.target,b,!0)}u&&(u.focus({preventScroll:!0}),on.getOrCreateInstance(u).show())}_getChildren(){return $.find(pr,this._parent)}_getActiveElem(){return this._getChildren().find(i=>this._elemIsActive(i))||null}_setInitialAttributes(i,l){this._setAttributeIfNotExists(i,"role","tablist");for(let u of l)this._setInitialAttributesOnChild(u)}_setInitialAttributesOnChild(i){i=this._getInnerElement(i);let l=this._elemIsActive(i),u=this._getOuterElement(i);i.setAttribute("aria-selected",l),u!==i&&this._setAttributeIfNotExists(u,"role","presentation"),l||i.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(i,"role","tab"),this._setInitialAttributesOnTargetPanel(i)}_setInitialAttributesOnTargetPanel(i){let l=$.getElementFromSelector(i);l&&(this._setAttributeIfNotExists(l,"role","tabpanel"),i.id&&this._setAttributeIfNotExists(l,"aria-labelledby",`${i.id}`))}_toggleDropDown(i,l){let u=this._getOuterElement(i);if(!u.classList.contains("dropdown"))return;let b=(x,P)=>{let I=$.findOne(x,u);I&&I.classList.toggle(P,l)};b(es,nn),b(".dropdown-menu",dr),u.setAttribute("aria-expanded",l)}_setAttributeIfNotExists(i,l,u){i.hasAttribute(l)||i.setAttribute(l,u)}_elemIsActive(i){return i.classList.contains(nn)}_getInnerElement(i){return i.matches(pr)?i:$.findOne(pr,i)}_getOuterElement(i){return i.closest(".nav-item, .list-group-item")||i}static jQueryInterface(i){return this.each(function(){let l=on.getOrCreateInstance(this);if(typeof i=="string"){if(l[i]===void 0||i.startsWith("_")||i==="constructor")throw new TypeError(`No method named "${i}"`);l[i]()}})}}k.on(document,cd,ts,function(p){["A","AREA"].includes(this.tagName)&&p.preventDefault(),_t(this)||on.getOrCreateInstance(this).show()}),k.on(window,dd,()=>{for(let p of $.find(ud))on.getOrCreateInstance(p)}),rt(on);let Bt=".bs.toast",gd=`mouseover${Bt}`,fd=`mouseout${Bt}`,hd=`focusin${Bt}`,_d=`focusout${Bt}`,bd=`hide${Bt}`,vd=`hidden${Bt}`,xd=`show${Bt}`,Cd=`shown${Bt}`,ns="hide",_i="show",bi="showing",Md={animation:"boolean",autohide:"boolean",delay:"number"},yd={animation:!0,autohide:!0,delay:5e3};class Yn extends bt{constructor(i,l){super(i,l),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return yd}static get DefaultType(){return Md}static get NAME(){return"toast"}show(){k.trigger(this._element,xd).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(ns),Dn(this._element),this._element.classList.add(_i,bi),this._queueCallback(()=>{this._element.classList.remove(bi),k.trigger(this._element,Cd),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(k.trigger(this._element,bd).defaultPrevented||(this._element.classList.add(bi),this._queueCallback(()=>{this._element.classList.add(ns),this._element.classList.remove(bi,_i),k.trigger(this._element,vd)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(_i),super.dispose()}isShown(){return this._element.classList.contains(_i)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(i,l){switch(i.type){case"mouseover":case"mouseout":this._hasMouseInteraction=l;break;case"focusin":case"focusout":this._hasKeyboardInteraction=l}if(l)return void this._clearTimeout();let u=i.relatedTarget;this._element===u||this._element.contains(u)||this._maybeScheduleHide()}_setListeners(){k.on(this._element,gd,i=>this._onInteraction(i,!0)),k.on(this._element,fd,i=>this._onInteraction(i,!1)),k.on(this._element,hd,i=>this._onInteraction(i,!0)),k.on(this._element,_d,i=>this._onInteraction(i,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(i){return this.each(function(){let l=Yn.getOrCreateInstance(this,i);if(typeof i=="string"){if(l[i]===void 0)throw new TypeError(`No method named "${i}"`);l[i](this)}})}}return ti(Yn),rt(Yn),{Alert:Fn,Button:Vn,Carousel:ln,Collapse:mn,Dropdown:vt,Modal:Zt,Offcanvas:Dt,Popover:hi,ScrollSpy:$n,Tab:on,Toast:Yn,Tooltip:en}})});var Li=class o{heroImage="assets/img/education/hero2-removebg-preview.png";title="Find your Perfect Course";subtitle="No 1 Platform for Learning";description="Education in began prehistory, as adult trained the young in the knowledge and skills deemed necessary in their society.";static \u0275fac=function(e){return new(e||o)};static \u0275cmp=T({type:o,selectors:[["app-hero-section"]],inputs:{heroImage:"heroImage",title:"title",subtitle:"subtitle",description:"description"},decls:39,vars:3,consts:[[1,"hero-section"],[1,"hero-content"],[1,"container"],[1,"row","align-items-center"],[1,"col-lg-6"],[1,"hero-text"],[1,"hero-subtitle"],[1,"hero-buttons"],[1,"btn","btn-primary"],[1,"bi","bi-arrow-right"],[1,"btn","btn-outline"],[1,"hero-features"],[1,"feature"],[1,"bi","bi-shield-check"],[1,"bi","bi-clock"],[1,"bi","bi-people"],[1,"hero-image"],[1,"main-image"],["alt","Online Learning",1,"img-fluid",3,"src"],[1,"hero-background"],[1,"bg-shapes"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"]],template:function(e,n){e&1&&(S(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),G(6,"h3",6),S(7,"h1"),s(8),L(),S(9,"p"),s(10),L(),S(11,"div",7)(12,"button",8),s(13," Get Started "),G(14,"i",9),L(),S(15,"button",10),s(16," Learn More "),L()(),S(17,"div",11)(18,"div",12),G(19,"i",13),S(20,"span"),s(21,"Certified Programs"),L()(),S(22,"div",12),G(23,"i",14),S(24,"span"),s(25,"Lifetime Access"),L()(),S(26,"div",12),G(27,"i",15),S(28,"span"),s(29,"Expert Instructors"),L()()()()(),S(30,"div",4)(31,"div",16)(32,"div",17),G(33,"img",18),L()()()()()(),S(34,"div",19)(35,"div",20),G(36,"div",21)(37,"div",22)(38,"div",23),L()()()),e&2&&(c(8),N(n.title),c(2),N(n.description),c(23),Os("src",n.heroImage,ne))},styles:[".hero-section[_ngcontent-%COMP%]{position:relative;min-height:70vh;display:flex;align-items:center;overflow:hidden;padding:40px 0 60px;background:linear-gradient(135deg,var(--surface-color) 0%,var(--background-color) 100%)}.hero-content[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%}.hero-text[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted);margin-bottom:15px;text-transform:uppercase;letter-spacing:1px;font-weight:600}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:52px;font-weight:800;line-height:1.2;margin-bottom:20px;color:var(--heading-color)}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:1.6;margin-bottom:30px;color:var(--text-muted)}.hero-buttons[_ngcontent-%COMP%]{display:flex;gap:15px;margin-bottom:35px}.hero-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:14px 32px;font-weight:600;font-size:15px;border-radius:8px;transition:all .3s ease;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:8px}.hero-buttons[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:var(--accent-color );color:var(--background-color)}.hero-buttons[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--accent-color),black 15%);transform:translateY(-2px);box-shadow:0 6px 20px color-mix(in srgb,var(--accent-color),transparent 70%)}.hero-buttons[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s}.hero-buttons[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:translate(4px)}.hero-buttons[_ngcontent-%COMP%]   .btn.btn-outline[_ngcontent-%COMP%]{background:transparent;border:2px solid #e0e0e0;color:var(--nav-color );border:2px solid var(--border-color)}.hero-buttons[_ngcontent-%COMP%]   .btn.btn-outline[_ngcontent-%COMP%]:hover{border-color:var(--accent-color );color:var(--accent-color );transform:translateY(-2px)}.hero-features[_ngcontent-%COMP%]{display:flex;gap:30px}.hero-features[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.hero-features[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:var(--accent-color )}.hero-features[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--nav-color)}.hero-image[_ngcontent-%COMP%]{position:relative;padding:20px}.hero-image[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{position:relative;overflow:hidden}.hero-image[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.hero-background[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:1;overflow:hidden}.hero-background[_ngcontent-%COMP%]   .bg-shapes[_ngcontent-%COMP%]{position:absolute;inset:0}.hero-background[_ngcontent-%COMP%]   .bg-shapes[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{position:absolute;border-radius:50%;background:linear-gradient(135deg,#0d5c3f0d,#4ade800d)}.hero-background[_ngcontent-%COMP%]   .bg-shapes[_ngcontent-%COMP%]   .shape.shape-1[_ngcontent-%COMP%]{width:400px;height:400px;top:5%;right:5%;animation:_ngcontent-%COMP%_float-slow 8s ease-in-out infinite}.hero-background[_ngcontent-%COMP%]   .bg-shapes[_ngcontent-%COMP%]   .shape.shape-2[_ngcontent-%COMP%]{width:250px;height:250px;bottom:10%;left:5%;animation:_ngcontent-%COMP%_float-slow 10s ease-in-out infinite reverse}.hero-background[_ngcontent-%COMP%]   .bg-shapes[_ngcontent-%COMP%]   .shape.shape-3[_ngcontent-%COMP%]{width:180px;height:180px;top:50%;right:25%;animation:_ngcontent-%COMP%_float-slow 9s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}@keyframes _ngcontent-%COMP%_float-slow{0%,to{transform:translate(0)}50%{transform:translate(20px,-20px)}}@media (max-width: 992px){.hero-section[_ngcontent-%COMP%]{padding:100px 0 60px;min-height:auto}.hero-text[_ngcontent-%COMP%]{margin-bottom:50px}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}.hero-image[_ngcontent-%COMP%]   .floating-cards[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]{display:none}}@media (max-width: 768px){.hero-section[_ngcontent-%COMP%]{text-align:center;padding:80px 0 40px}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.hero-stats[_ngcontent-%COMP%]{flex-direction:column;gap:15px;align-items:center}.hero-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{width:100%;max-width:300px}.hero-buttons[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.hero-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;max-width:300px;justify-content:center}.hero-features[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:15px}}@media (max-width: 576px){.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px}.hero-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{padding:15px 20px}}body.dark-theme[_nghost-%COMP%]   .hero-section[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .hero-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a1a1a,#2a2a2a)}body.dark-theme[_nghost-%COMP%]   .hero-text[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .hero-text[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{color:#999}body.dark-theme[_nghost-%COMP%]   .hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff}body.dark-theme[_nghost-%COMP%]   .hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#999}body.dark-theme[_nghost-%COMP%]   .hero-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .hero-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{background:#2a2a2a}body.dark-theme[_nghost-%COMP%]   .hero-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .hero-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:#999}body.dark-theme[_nghost-%COMP%]   .btn-outline[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .btn-outline[_ngcontent-%COMP%]{border-color:var(--border-color)!important;color:var(--nav-color)!important}body.dark-theme[_nghost-%COMP%]   .btn-outline[_ngcontent-%COMP%]:hover, body.dark-theme   [_nghost-%COMP%]   .btn-outline[_ngcontent-%COMP%]:hover{border-color:var(--accent-color)!important;color:var(--accent-color)!important}body.dark-theme[_nghost-%COMP%]   .hero-features[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .hero-features[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--secondary-accent)}body.dark-theme[_nghost-%COMP%]   .hero-features[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .hero-features[_ngcontent-%COMP%]   .feature[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-muted)}body.dark-theme[_nghost-%COMP%]   .floating-cards[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .floating-cards[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]{background:#2a2a2a}body.dark-theme[_nghost-%COMP%]   .floating-cards[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .floating-cards[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:var(--heading-color)}body.dark-theme[_nghost-%COMP%]   .floating-cards[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .floating-cards[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-muted)}body.dark-theme[_nghost-%COMP%]   .hero-background[_ngcontent-%COMP%]   .bg-shapes[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%], body.dark-theme   [_nghost-%COMP%]   .hero-background[_ngcontent-%COMP%]   .bg-shapes[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{background:linear-gradient(135deg,color-mix(in srgb,var(--accent-color),transparent 95%),color-mix(in srgb,var(--secondary-accent),transparent 95%))}"]})};var ft=class o{constructor(t){this.http=t}apiUrl="https://elearningg.runasp.net/api";addCourseRating(t){return this.http.post(`${this.apiUrl}/CourseRating`,t)}addInstructorRating(t){return this.http.post(`${this.apiUrl}/InstructorRating`,t)}getCourseAverage(t){return this.http.get(`${this.apiUrl}/CourseRating/average/${t}`)}getInstructorAverage(t){return this.http.get(`${this.apiUrl}/InstructorRating/average/${t}`)}getCourseRatings(t){return this.http.get(`${this.apiUrl}/CourseRating/course/${t}`)}getInstructorRatings(t){return this.http.get(`${this.apiUrl}/InstructorRating/instructor/${t}`)}hasUserRatedInstructor(t){return this.http.get(`${this.apiUrl}/InstructorRating/hasRated/${t}`)}hasUserRatedCourse(t){return this.http.get(`${this.apiUrl}/CourseRating/hasRated/${t}`)}static \u0275fac=function(e){return new(e||o)(wn(Oi))};static \u0275prov=mt({token:o,factory:o.\u0275fac,providedIn:"root"})};var zd=()=>[1,2,3,4,5];function Dd(o,t){if(o&1&&(St(0),f(1,"i",17),It()),o&2){let e=t.$implicit,n=g().$implicit;c(),d("ngClass",e<=(n.rating||0)?"bi-star-fill text-warning":"bi-star text-muted")}}function Rd(o,t){if(o&1){let e=E();a(0,"div",7)(1,"div",8),f(2,"img",9),a(3,"div",10)(4,"h5",11),s(5),r(),a(6,"div",12),_(7,Dd,2,1,"ng-container",13),a(8,"span"),s(9),Ee(10,"number"),r()(),a(11,"div",14),f(12,"i",15),s(13),r(),a(14,"button",16),y("click",function(){let m=C(e).$implicit,h=g();return M(h.goToProfile(m.id))}),s(15," View Profile "),r()()()()}if(o&2){let e=t.$implicit;c(2),d("alt",Ft(e.fullName))("src",e.photoUrl||"assets/images/default-instructor.jpg",ne),c(3),N(e.fullName),c(2),d("ngForOf",pe(10,zd)),c(2),O("(",He(10,7,e.rating||0,"1.1-1"),")"),c(4),O("",e.numberOfStudents," Students ")}}var Ai=class o{constructor(t,e,n){this.instructorService=t;this.ratingService=e;this.router=n}instructors=[];loadingInstructors=!0;ngOnInit(){this.loadInstructors()}loadInstructors(){this.instructorService.getAll().subscribe({next:t=>{this.instructors=t,this.loadInstructorRatings()},error:t=>{console.error(t),this.loadingInstructors=!1}})}loadInstructorRatings(){let t=this.instructors.map(e=>this.ratingService.getInstructorAverage(e.id));yn(t).subscribe({next:e=>{e.forEach((n,m)=>{this.instructors[m].rating=n.average||0}),this.loadingInstructors=!1},error:()=>{this.loadingInstructors=!1}})}goToProfile(t){t&&this.router.navigate(["/instructor",t])}static \u0275fac=function(e){return new(e||o)(v(Le),v(ft),v(V))};static \u0275cmp=T({type:o,selectors:[["app-instructors-section"]],decls:13,vars:5,consts:[["id","our-teachers",1,"py-5"],["data-aos","fade-up",1,"container"],[1,"section-title","text-center","mb-4"],[1,"row","g-4"],["class","col-lg-3 col-md-6",4,"ngFor","ngForOf"],[1,"text-center","mt-4"],["routerLink","/instructors",1,"btn","btn-view-all"],[1,"col-lg-3","col-md-6"],[1,"card","h-100","shadow-sm"],[1,"card-img-top",3,"src","alt"],[1,"card-body","text-center"],[1,"card-title"],[1,"d-flex","justify-content-center","align-items-center","gap-2","mb-2"],[4,"ngFor","ngForOf"],[1,"mb-2"],[1,"bi","bi-people-fill","me-1"],[1,"btn","btn-outline-accent","btn-sm",3,"click"],[1,"bi",3,"ngClass"]],template:function(e,n){e&1&&(a(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),s(4,"Our Expert Instructors"),r(),a(5,"p"),s(6,"Meet our experienced instructors who will guide your learning journey"),r()(),a(7,"div",3),_(8,Rd,16,11,"div",4),Ee(9,"slice"),r()(),a(10,"div",5)(11,"button",6),s(12," View All Instructors "),r()()()),e&2&&(c(8),d("ngForOf",Es(9,1,n.instructors,0,4)))},dependencies:[z,Se,ee,ue,Ds,$t],styles:["#our-teachers[_ngcontent-%COMP%]   .btn-view-all[_ngcontent-%COMP%]{background-color:var(--accent-color);color:var(--contrast-color);font-weight:600;padding:10px 25px;border-radius:8px;border:none;transition:all .3s ease}#our-teachers[_ngcontent-%COMP%]   .btn-view-all[_ngcontent-%COMP%]:hover{background-color:color-mix(in srgb,var(--accent-color),black 15%);transform:translateY(-2px);box-shadow:0 6px 18px #00000026}@media (max-width: 576px){#our-teachers[_ngcontent-%COMP%]   .btn-view-all[_ngcontent-%COMP%]{width:100%;padding:12px 0;font-size:.9rem}}"]})};var zi=class o{constructor(t){this.router=t}goToRegister(){this.router.navigate(["/register"])}goToInstructor(){this.router.navigate(["/register-instructor"])}static \u0275fac=function(e){return new(e||o)(v(V))};static \u0275cmp=T({type:o,selectors:[["app-cta-section"]],decls:50,vars:0,consts:[["id","cta",1,"cta","section","light-background"],["data-aos","fade-up","data-aos-delay","100",1,"container"],[1,"row","align-items-center"],["data-aos","fade-right","data-aos-delay","200",1,"col-lg-6"],[1,"cta-content"],[1,"features-list"],["data-aos","fade-up","data-aos-delay","300",1,"feature-item"],[1,"bi","bi-check-circle-fill"],["data-aos","fade-up","data-aos-delay","350",1,"feature-item"],["data-aos","fade-up","data-aos-delay","400",1,"feature-item"],["data-aos","fade-up","data-aos-delay","450",1,"feature-item"],["data-aos","fade-up","data-aos-delay","500",1,"cta-actions"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-outline",3,"click"],["data-aos","fade-left","data-aos-delay","300",1,"col-lg-6"],[1,"cta-image"],["src","assets/img/education/courses-4.webp","alt","Online Learning Platform",1,"img-fluid"],["data-aos","zoom-in","data-aos-delay","600",1,"floating-element","student-card"],[1,"card-content"],[1,"bi","bi-person-check-fill"],[1,"text"],[1,"number"],[1,"label"],["data-aos","zoom-in","data-aos-delay","700",1,"floating-element","course-card"],[1,"bi","bi-play-circle-fill"]],template:function(e,n){e&1&&(S(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2"),s(6,"Transform Your Future with Expert-Led Online Courses"),L(),S(7,"p"),s(8,"Join thousands of successful learners who have advanced their careers through our comprehensive online education platform."),L(),S(9,"div",5)(10,"div",6),G(11,"i",7),S(12,"span"),s(13,"20+ Expert instructors with industry experience"),L()(),S(14,"div",8),G(15,"i",7),S(16,"span"),s(17,"Certificate of completion for every course"),L()(),S(18,"div",9),G(19,"i",7),S(20,"span"),s(21,"24/7 access to course materials and resources"),L()(),S(22,"div",10),G(23,"i",7),S(24,"span"),s(25,"Interactive assignments and real-world projects"),L()()(),S(26,"div",11)(27,"a",12),br("click",function(){return n.goToRegister()}),s(28,"Sign Up for Free"),L(),S(29,"a",13),br("click",function(){return n.goToInstructor()}),s(30,"Join as Instructor"),L()()()(),S(31,"div",14)(32,"div",15),G(33,"img",16),S(34,"div",17)(35,"div",18),G(36,"i",19),S(37,"div",20)(38,"span",21),s(39,"2,450"),L(),S(40,"span",22),s(41,"New Students This Month"),L()()()(),S(42,"div",23)(43,"div",18),G(44,"i",24),S(45,"div",20)(46,"span",21),s(47,"50+"),L(),S(48,"span",22),s(49,"Hours of Content"),L()()()()()()()()())},styles:['.cta[_ngcontent-%COMP%]{position:relative;overflow:hidden;padding:4rem 0}.cta[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;opacity:.03;z-index:1}.cta[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;z-index:2}.cta[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]{padding-right:30px}@media (max-width: 991px){.cta[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]{padding-right:0;margin-bottom:40px}}.cta[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:24px;line-height:1.2}@media (max-width: 768px){.cta[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}.cta[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:32px;color:color-mix(in srgb,var(--default-color),transparent 20%);line-height:1.6}.cta[_ngcontent-%COMP%]   .features-list[_ngcontent-%COMP%]{margin-bottom:32px}.cta[_ngcontent-%COMP%]   .features-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:16px}.cta[_ngcontent-%COMP%]   .features-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--accent-color);margin-right:12px;flex-shrink:0}.cta[_ngcontent-%COMP%]   .features-list[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;color:var(--default-color)}.cta[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]{margin-bottom:40px}.cta[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:12px 30px;border-radius:25px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;margin-right:16px;margin-bottom:12px;transition:all .3s ease}.cta[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:var(--accent-color);border:2px solid var(--accent-color);color:var(--contrast-color)}.cta[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--accent-color),black 10%);border-color:color-mix(in srgb,var(--accent-color),black 10%);transform:translateY(-2px)}.cta[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn.btn-outline[_ngcontent-%COMP%]{background:transparent;border:2px solid var(--accent-color);color:var(--accent-color)}.cta[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn.btn-outline[_ngcontent-%COMP%]:hover{background:var(--accent-color);color:var(--contrast-color);transform:translateY(-2px)}.cta[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]{display:flex;gap:40px}@media (max-width: 576px){.cta[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]{flex-direction:column;gap:24px}}.cta[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:800;color:var(--accent-color);margin-bottom:8px;line-height:1}.cta[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:var(--heading-color);margin:0;text-transform:uppercase;letter-spacing:.5px}.cta[_ngcontent-%COMP%]   .cta-image[_ngcontent-%COMP%]{position:relative}.cta[_ngcontent-%COMP%]   .cta-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:20px;box-shadow:0 20px 60px #0000001a}.cta[_ngcontent-%COMP%]   .cta-image[_ngcontent-%COMP%]   .floating-element[_ngcontent-%COMP%]{position:absolute;background:var(--surface-color);border-radius:15px;padding:20px;box-shadow:0 15px 35px #0000001a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.cta[_ngcontent-%COMP%]   .cta-image[_ngcontent-%COMP%]   .floating-element.student-card[_ngcontent-%COMP%]{top:20px;right:-20px}@media (max-width: 576px){.cta[_ngcontent-%COMP%]   .cta-image[_ngcontent-%COMP%]   .floating-element.student-card[_ngcontent-%COMP%]{right:10px;padding:15px}}.cta[_ngcontent-%COMP%]   .cta-image[_ngcontent-%COMP%]   .floating-element.course-card[_ngcontent-%COMP%]{bottom:30px;left:-20px}@media (max-width: 576px){.cta[_ngcontent-%COMP%]   .cta-image[_ngcontent-%COMP%]   .floating-element.course-card[_ngcontent-%COMP%]{left:10px;padding:15px}}.cta[_ngcontent-%COMP%]   .cta-image[_ngcontent-%COMP%]   .floating-element[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.cta[_ngcontent-%COMP%]   .cta-image[_ngcontent-%COMP%]   .floating-element[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;color:var(--accent-color)}.cta[_ngcontent-%COMP%]   .cta-image[_ngcontent-%COMP%]   .floating-element[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{display:block;font-size:1.5rem;font-weight:700;color:var(--heading-color);line-height:1}.cta[_ngcontent-%COMP%]   .cta-image[_ngcontent-%COMP%]   .floating-element[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.8rem;color:color-mix(in srgb,var(--default-color),transparent 30%);font-weight:500}']})};var Di=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=T({type:o,selectors:[["app-why-us"]],decls:40,vars:0,consts:[[1,"why-us","py-5"],[1,"container"],[1,"section-title"],[1,"row","g-4"],[1,"col-lg-3","col-md-6"],[1,"why-card","text-center","h-100","p-4"],[1,"icon","mb-3"],[1,"fas","fa-chalkboard-teacher"],[1,"fas","fa-book-open"],[1,"fas","fa-video"],[1,"fas","fa-robot"]],template:function(e,n){e&1&&(S(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),s(4,"Why Choose Us"),L(),S(5,"p"),s(6,"Everything you need to learn smarter and faster"),L()(),S(7,"div",3)(8,"div",4)(9,"div",5)(10,"div",6),G(11,"i",7),L(),S(12,"h5"),s(13,"Expert Teachers"),L(),S(14,"p"),s(15,"Learn from qualified instructors with real experience."),L()()(),S(16,"div",4)(17,"div",5)(18,"div",6),G(19,"i",8),L(),S(20,"h5"),s(21,"Quality Courses"),L(),S(22,"p"),s(23,"Well-structured courses designed for all levels."),L()()(),S(24,"div",4)(25,"div",5)(26,"div",6),G(27,"i",9),L(),S(28,"h5"),s(29,"Live Meetings"),L(),S(30,"p"),s(31,"Interactive live sessions with direct communication."),L()()(),S(32,"div",4)(33,"div",5)(34,"div",6),G(35,"i",10),L(),S(36,"h5"),s(37,"Smart Chatbot"),L(),S(38,"p"),s(39,"Instant support and course recommendations 24/7."),L()()()()()())},styles:[".why-us[_ngcontent-%COMP%]{background-color:var(--background-color)}.why-card[_ngcontent-%COMP%]{background-color:var(--surface-color);border:1px solid var(--border-color);border-radius:16px;transition:all .3s ease}.why-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 10px 30px color-mix(in srgb,var(--accent-color),transparent 80%)}.why-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:70px;height:70px;margin:0 auto;border-radius:50%;background-color:color-mix(in srgb,var(--accent-color),transparent 85%);display:flex;align-items:center;justify-content:center}.why-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:28px;color:var(--accent-color)}.why-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700;margin-bottom:10px}.why-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted);margin-bottom:0}"]})};var Ri=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=T({type:o,selectors:[["app-meating-section"]],decls:32,vars:0,consts:[["id","live-meetings",1,"py-5"],["data-aos","fade-up",1,"container"],[1,"section-title","text-center","mb-5"],[1,"row","g-4","text-center"],[1,"col-md-4"],[1,"feature-box","p-4","shadow-sm","rounded"],[1,"bi","bi-calendar-event","display-4","text-accent","mb-3"],[1,"bi","bi-chat-dots","display-4","text-accent","mb-3"],[1,"bi","bi-people-fill","display-4","text-accent","mb-3"],[1,"text-center","mt-4"],["routerLink","/live-meetings",1,"btn","btn-accent"]],template:function(e,n){e&1&&(S(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),s(4,"Meet Live "),L(),S(5,"p"),s(6,"Join our weekly live sessions and interact with instructors in real-time"),L()(),S(7,"div",3)(8,"div",4)(9,"div",5),G(10,"i",6),S(11,"h5"),s(12,"Weekly Meetings"),L(),S(13,"p"),s(14,"Participate in live sessions every week to stay up-to-date."),L()()(),S(15,"div",4)(16,"div",5),G(17,"i",7),S(18,"h5"),s(19,"Q&A Sessions"),L(),S(20,"p"),s(21,"Ask your questions directly and get instant feedback from instructors."),L()()(),S(22,"div",4)(23,"div",5),G(24,"i",8),S(25,"h5"),s(26,"Interactive Learning"),L(),S(27,"p"),s(28,"Engage with instructors and fellow students for a dynamic learning experience."),L()()()(),S(29,"div",9)(30,"button",10),s(31," View Upcoming Meetings "),L()()()())},styles:["#live-meetings[_ngcontent-%COMP%]{background-color:var(--surface-color)}#live-meetings[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:var(--heading-color)}#live-meetings[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-muted);font-size:16px}#live-meetings[_ngcontent-%COMP%]   .feature-box[_ngcontent-%COMP%]{background-color:var(--card-background);transition:transform .3s,box-shadow .3s;border:1px solid var(--border-color)}#live-meetings[_ngcontent-%COMP%]   .feature-box[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 20px #00000026}#live-meetings[_ngcontent-%COMP%]   .feature-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--accent-color)}#live-meetings[_ngcontent-%COMP%]   .feature-box[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin-top:15px;margin-bottom:10px;color:var(--heading-color)}#live-meetings[_ngcontent-%COMP%]   .feature-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted)}#live-meetings[_ngcontent-%COMP%]   .btn-accent[_ngcontent-%COMP%]{margin-top:30px;padding:10px 25px;font-weight:600}"]})};var Fd=()=>["/chatRome"];function Vd(o,t){if(o&1){let e=E();a(0,"div",16)(1,"div",17)(2,"div",18),f(3,"img",19),a(4,"div",20),s(5),r()(),a(6,"div",21)(7,"h3")(8,"a",22),s(9),r()(),a(10,"p"),s(11),r(),a(12,"div",23),f(13,"img",24),a(14,"div",25)(15,"h6"),s(16),r(),a(17,"span"),s(18),r()()(),a(19,"button",26),y("click",function(){let m=C(e).$implicit,h=g();return M(h.viewDetails(m))}),s(20,"View Details"),r()()()()}if(o&2){let e=t.$implicit,n=t.index,m=g();wi("data-aos-delay",200+n*100),c(3),d("alt",Ft(e.crs_Name))("src",m.getCourseImage(e),ne),c(2),N(e.price>0?e.price+" EGP":"Free"),c(4),N(e.crs_Name),c(2),N(e.crs_Description),c(2),d("src",m.getInstructorImage(e),ne),c(3),N(m.getInstructorName(e)),c(2),N("Instructor")}}var Fi=class o{constructor(t,e,n){this.instructorService=t;this.courseService=e;this.router=n}courses=[];instructors=[];imageBase=Ge.imageBase;featuredCourses=[];isLoading=!0;ngOnInit(){this.loadData()}loadData(){this.isLoading=!0,yn({courses:this.courseService.getAllCourses(),instructors:this.instructorService.getAll()}).subscribe({next:t=>{this.courses=t.courses,this.instructors=t.instructors,this.featuredCourses=this.courses.slice(0,3),this.isLoading=!1},error:t=>{console.error("Error loading data:",t),this.isLoading=!1}})}getCourseImage(t){let e=t.imageUrl;return e?e.startsWith("http://")||e.startsWith("https://")?e:this.imageBase+e:"/assets/img/education/course-1.jpg"}getInstructorName(t){return this.instructors.find(n=>n.id===t.instructorId)?.fullName||"Unknown"}getInstructorImage(t){let e=this.instructors.find(n=>n.id===t.instructorId);return!e||!e.photoUrl?"/assets/img/person/person-1.jpg":e.photoUrl}viewDetails(t){t.crs_Id&&this.router.navigate(["/courses",t.crs_Id,"details"])}static \u0275fac=function(e){return new(e||o)(v(Le),v(Ke),v(V))};static \u0275cmp=T({type:o,selectors:[["app-home"]],decls:39,vars:3,consts:[["id","featured-courses",1,"featured-courses","section"],["data-aos","fade-up",1,"container","section-title"],["data-aos","fade-up","data-aos-delay","100",1,"container"],[1,"row","gy-4"],["class","col-lg-4 col-md-6","data-aos","fade-up",4,"ngFor","ngForOf"],["data-aos","fade-up","data-aos-delay","500",1,"more-courses","text-center"],["routerLink","/Courses","routerLinkActive","active",1,"btn-more"],["id","chatbot",1,"py-5"],["data-aos","fade-up",1,"container"],[1,"section-title","text-center","mb-5"],[1,"chatbot-card","mx-auto","p-4","shadow-sm","rounded-4","text-center"],[1,"chatbot-header","mb-3"],[1,"bi","bi-chat-dots-fill","chatbot-icon"],[1,"list-unstyled","fs-6","chatbot-features","mb-3"],[1,"bi","bi-check-circle-fill","text-accent","me-2"],[1,"btn","btn-accent","btn-lg",3,"routerLink"],["data-aos","fade-up",1,"col-lg-4","col-md-6"],[1,"course-card"],[1,"course-image"],[1,"img-fluid",3,"src","alt"],[1,"price-badge"],[1,"course-content"],["href","#"],[1,"instructor"],["alt","Instructor",1,"instructor-img",3,"src"],[1,"instructor-info"],[1,"btn-course",3,"click"]],template:function(e,n){e&1&&(f(0,"app-hero-section")(1,"app-why-us"),a(2,"section",0)(3,"div",1)(4,"h2"),s(5,"Featured Courses"),r(),a(6,"p"),s(7,"Check out our top courses"),r()(),a(8,"div",2)(9,"div",3),_(10,Vd,21,10,"div",4),r(),a(11,"div",5)(12,"a",6),s(13,"View All Courses"),r()()()(),f(14,"app-instructors-section")(15,"app-meating-section"),a(16,"section",7)(17,"div",8)(18,"div",9)(19,"h2"),s(20,"Smart Chatbot Support"),r(),a(21,"p"),s(22,"Not sure where to start? Our intelligent chatbot will guide you to the right course!"),r()(),a(23,"div",10)(24,"div",11),f(25,"i",12),r(),a(26,"ul",13)(27,"li"),f(28,"i",14),s(29,"Suggests suitable courses based on your interests"),r(),a(30,"li"),f(31,"i",14),s(32,"Answers your questions instantly"),r(),a(33,"li"),f(34,"i",14),s(35,"Provides 24/7 support"),r()(),a(36,"button",15),s(37,"Chat Now"),r()()()(),f(38,"app-cta-section")),e&2&&(c(10),d("ngForOf",n.featuredCourses),c(26),d("routerLink",pe(2,Fd)))},dependencies:[z,ee,ue,Li,Ai,zi,Di,Ri],styles:[".courses-hero[_ngcontent-%COMP%]{position:relative;min-height:70vh;display:flex;align-items:center;overflow:hidden;padding:120px 0 60px}.featured-courses[_ngcontent-%COMP%]{padding:4rem 0;background-color:var(--surface-color)}.featured-courses[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]{background:var(--surface-color);border-radius:15px;overflow:hidden;box-shadow:0 5px 25px color-mix(in srgb,var(--default-color),transparent 90%);transition:all .3s ease;height:100%;display:flex;flex-direction:column}.featured-courses[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 15px 40px color-mix(in srgb,var(--default-color),transparent 85%)}.featured-courses[_ngcontent-%COMP%]   .course-image[_ngcontent-%COMP%]{position:relative;overflow:hidden;height:220px}.featured-courses[_ngcontent-%COMP%]   .course-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.featured-courses[_ngcontent-%COMP%]   .course-image[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.05)}.featured-courses[_ngcontent-%COMP%]   .course-image[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:15px;left:15px;padding:6px 12px;border-radius:20px;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.featured-courses[_ngcontent-%COMP%]   .course-image[_ngcontent-%COMP%]   .badge.featured[_ngcontent-%COMP%]{background:var(--accent-color);color:var(--contrast-color)}.featured-courses[_ngcontent-%COMP%]   .course-image[_ngcontent-%COMP%]   .badge.new[_ngcontent-%COMP%]{background:#28a745;color:#fff}.featured-courses[_ngcontent-%COMP%]   .course-image[_ngcontent-%COMP%]   .badge.certificate[_ngcontent-%COMP%]{background:#ffc107;color:#212529}.featured-courses[_ngcontent-%COMP%]   .course-image[_ngcontent-%COMP%]   .badge.popular[_ngcontent-%COMP%]{background:#ff6b35;color:#fff}.featured-courses[_ngcontent-%COMP%]   .course-image[_ngcontent-%COMP%]   .price-badge[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px;background:var(--heading-color);color:var(--contrast-color);padding:8px 15px;border-radius:25px;font-weight:700;font-size:14px}.featured-courses[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]{padding:25px;flex:1;display:flex;flex-direction:column}.featured-courses[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]{display:flex;gap:15px;margin-bottom:15px}.featured-courses[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;padding:4px 10px;border-radius:15px;font-weight:500}.featured-courses[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   span.level[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--accent-color),transparent 85%);color:var(--accent-color)}.featured-courses[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   span.duration[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--heading-color),transparent 85%);color:var(--heading-color)}.featured-courses[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:15px;font-size:20px;line-height:1.3}.featured-courses[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--heading-color);text-decoration:none;transition:color .3s ease}.featured-courses[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--accent-color)}.featured-courses[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:color-mix(in srgb,var(--default-color),transparent 20%);font-size:14px;line-height:1.6;margin-bottom:20px}.featured-courses[_ngcontent-%COMP%]   .instructor[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:20px}.featured-courses[_ngcontent-%COMP%]   .instructor[_ngcontent-%COMP%]   .instructor-img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover}.featured-courses[_ngcontent-%COMP%]   .instructor[_ngcontent-%COMP%]   .instructor-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0;font-size:14px;font-weight:600;color:var(--heading-color)}.featured-courses[_ngcontent-%COMP%]   .instructor[_ngcontent-%COMP%]   .instructor-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;color:color-mix(in srgb,var(--default-color),transparent 40%)}.featured-courses[_ngcontent-%COMP%]   .course-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:25px;padding-top:15px;border-top:1px solid color-mix(in srgb,var(--default-color),transparent 90%)}.featured-courses[_ngcontent-%COMP%]   .course-stats[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:3px}.featured-courses[_ngcontent-%COMP%]   .course-stats[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffc107;font-size:12px}.featured-courses[_ngcontent-%COMP%]   .course-stats[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:color-mix(in srgb,var(--default-color),transparent 30%);font-size:12px;margin-left:8px;font-weight:500}.featured-courses[_ngcontent-%COMP%]   .course-stats[_ngcontent-%COMP%]   .students[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.featured-courses[_ngcontent-%COMP%]   .course-stats[_ngcontent-%COMP%]   .students[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--accent-color);font-size:14px}.featured-courses[_ngcontent-%COMP%]   .course-stats[_ngcontent-%COMP%]   .students[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:color-mix(in srgb,var(--default-color),transparent 30%);font-size:12px;font-weight:500}.featured-courses[_ngcontent-%COMP%]   .btn-course[_ngcontent-%COMP%]{display:inline-block;background:var(--accent-color);color:var(--contrast-color);padding:12px 25px;border-radius:25px;text-decoration:none;font-weight:600;text-align:center;transition:all .3s ease;margin-top:auto}.featured-courses[_ngcontent-%COMP%]   .btn-course[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--accent-color),black 10%);transform:translateY(-2px)}.featured-courses[_ngcontent-%COMP%]   .more-courses[_ngcontent-%COMP%]{margin-top:50px}.featured-courses[_ngcontent-%COMP%]   .more-courses[_ngcontent-%COMP%]   .btn-more[_ngcontent-%COMP%]{display:inline-block;background:transparent;color:var(--accent-color);padding:15px 40px;border:2px solid var(--accent-color);border-radius:30px;text-decoration:none;font-weight:600;transition:all .3s ease}.featured-courses[_ngcontent-%COMP%]   .more-courses[_ngcontent-%COMP%]   .btn-more[_ngcontent-%COMP%]:hover{background:var(--accent-color);color:var(--contrast-color);transform:translateY(-3px)}@media (max-width: 768px){.featured-courses[_ngcontent-%COMP%]   .course-image[_ngcontent-%COMP%]{height:200px}.featured-courses[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]{padding:20px}.featured-courses[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}.featured-courses[_ngcontent-%COMP%]   .course-stats[_ngcontent-%COMP%]{flex-direction:column;gap:10px;align-items:flex-start}}#chatbot[_ngcontent-%COMP%]{background-color:var(--contrast-color)}#chatbot[_ngcontent-%COMP%]   .chatbot-card[_ngcontent-%COMP%]{max-width:500px;background-color:var(--background-color);border:1px solid var(--border-color);border-radius:20px;padding:30px 20px;transition:transform .3s,box-shadow .3s}#chatbot[_ngcontent-%COMP%]   .chatbot-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 20px #00000026}#chatbot[_ngcontent-%COMP%]   .chatbot-icon[_ngcontent-%COMP%]{font-size:50px;color:var(--accent-color);margin-bottom:20px}#chatbot[_ngcontent-%COMP%]   .chatbot-features[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;text-align:left}.dark-mode[_ngcontent-%COMP%]   #chatbot[_ngcontent-%COMP%]{background-color:var(--card-background)}.dark-mode[_ngcontent-%COMP%]   #chatbot[_ngcontent-%COMP%]   .chatbot-card[_ngcontent-%COMP%]{background-color:var(--surface-color);border-color:var(--border-color)}.dark-mode[_ngcontent-%COMP%]   #chatbot[_ngcontent-%COMP%]   .chatbot-icon[_ngcontent-%COMP%]{color:var(--secondary-accent)}.dark-mode[_ngcontent-%COMP%]   #chatbot[_ngcontent-%COMP%]   .chatbot-features[_ngcontent-%COMP%]{color:var(--text-muted)}"]})};var jd=o=>({"show-modal":o});function qd(o,t){if(o&1){let e=E();a(0,"button",36),y("click",function(){C(e);let m=g(2);return M(m.toggleEdit())}),f(1,"i",37),s(2," Edit Profile "),r()}}function Ud(o,t){if(o&1){let e=E();a(0,"button",38),y("click",function(){C(e);let m=g(2);return M(m.goToMyCourses())}),f(1,"i",39),s(2," My Courses "),r()}}function Bd(o,t){if(o&1&&(a(0,"div",17)(1,"div",18)(2,"div",19),f(3,"img",20),r(),a(4,"h2",21),s(5),r(),a(6,"p",22),s(7,"Student"),r(),a(8,"p",23),f(9,"i",24),s(10),r(),_(11,qd,3,0,"button",25)(12,Ud,3,0,"button",26),r(),a(13,"div",27)(14,"h3",28),s(15,"Profile Information"),r(),a(16,"div",29)(17,"span",30),f(18,"i",31),s(19," Full Name"),r(),a(20,"span",32),s(21),r()(),a(22,"div",29)(23,"span",30),f(24,"i",33),s(25," Date of Birth"),r(),a(26,"span",32),s(27),Ee(28,"date"),r()(),a(29,"div",29)(30,"span",30),f(31,"i",34),s(32," Phone Number"),r(),a(33,"span",32),s(34),r()(),a(35,"div",29)(36,"span",30),f(37,"i",35),s(38," Address"),r(),a(39,"span",32),s(40),r()()()()),o&2){let e=g();c(5),ze(" ",e.profile.firstName," ",e.profile.lastName," "),c(5),ze(" ",e.profile.city,", ",e.profile.address," "),c(),d("ngIf",!e.isReadOnly),c(),d("ngIf",!e.isReadOnly),c(9),ze("",e.profile.firstName," ",e.profile.lastName),c(6),N(He(28,12,e.profile.dateOfBirth,"mediumDate")),c(7),N(e.profile.phoneNumber),c(6),ze("",e.profile.address,", ",e.profile.city)}}function Qd(o,t){o&1&&(a(0,"small",40),s(1," First Name is required "),r())}function Wd(o,t){o&1&&(a(0,"small",40),s(1," Last Name is required. "),r())}function $d(o,t){o&1&&(a(0,"small",40),s(1," Phone Number is required. "),r())}function Yd(o,t){o&1&&(a(0,"small",40),s(1," Date of Birth is required. "),r())}function Hd(o,t){o&1&&(a(0,"small",40),s(1," Address is required. "),r())}function Gd(o,t){o&1&&(a(0,"small",40),s(1," City is required. "),r())}var Jn=class o{constructor(t,e,n,m,h,w){this.formBuilder=t;this.student=e;this.authService=n;this.router=m;this.route=h;this.snackbar=w;this.profileForm=this.formBuilder.group({firstName:["",U.required],lastName:["",U.required],phoneNumber:["",[U.required,U.pattern("^[0-9]{11}$")]],dateOfBirth:["",[U.required,this.pastDateValidator]],address:["",U.required],city:["",U.required]})}profileForm;profile=null;loading=!1;editing=!1;error="";success="";isReadOnly=!1;ngOnInit(){this.route.paramMap.subscribe(t=>{let e=t.get("id");e?(this.isReadOnly=!0,this.loadStudentProfile(e)):(this.isReadOnly=!1,this.loadProfile())})}loadProfile(){this.loading=!0,this.student.getProfile().subscribe({next:t=>{this.profile=t,this.populateForm(t),this.loading=!1,this.profileForm.enable()},error:t=>{this.error=t.error?.message||"Failed to load profile",this.loading=!1}})}loadStudentProfile(t){this.loading=!0,this.student.getStudentById(t).subscribe({next:e=>{this.profile=e,this.populateForm(e),this.loading=!1,this.profileForm.disable()},error:e=>{this.error=e.error?.message||"Failed to load student profile",this.loading=!1}})}populateForm(t){this.profileForm.patchValue({firstName:t.firstName,lastName:t.lastName,phoneNumber:t.phoneNumber,dateOfBirth:t.dateOfBirth.split("T")[0],address:t.address,city:t.city})}toggleEdit(){console.log("Toggle clicked!"),this.editing=!this.editing,this.error="",this.success=""}onSubmit(){this.profileForm.invalid||(this.loading=!0,this.student.updateProfile(this.profileForm.value).subscribe({next:()=>{this.success="Profile updated successfully!",this.snackbar.open(this.success,"success"),this.profile=Ne(Ne({},this.profile),this.profileForm.value),this.editing=!1,this.loading=!1,setTimeout(()=>this.success="",3e3)},error:t=>{this.error=t.error?.message||"Failed to update profile",this.snackbar.open(this.error,"error"),this.loading=!1}}))}onCancel(){this.editing=!1,this.profile&&this.populateForm(this.profile)}get f(){return this.profileForm.controls}goToMyCourses(){let t=this.authService.UserId;console.log("Current User ID:",this.authService.UserId),this.router.navigate(["/student",t,"courses"])}pastDateValidator(t){return new Date(t.value)>new Date?{futureDate:!0}:null}static \u0275fac=function(e){return new(e||o)(v(kt),v(Gs),v(Oe),v(V),v(oe),v(ae))};static \u0275cmp=T({type:o,selectors:[["app-user-profile"]],features:[Pn([Pi])],decls:43,vars:12,consts:[["class","profile-container",4,"ngIf"],[1,"modal-overlay",3,"ngClass"],[1,"modal-content"],[1,"close-btn",3,"click"],[1,"modal-title"],[3,"ngSubmit","formGroup"],[1,"input-group"],["formControlName","firstName","placeholder","firstName"],["class","text-danger",4,"ngIf"],["formControlName","lastName","placeholder","lastName"],["formControlName","phoneNumber","placeholder","phoneNumber"],["type","date","formControlName","dateOfBirth","placeholder","dateOfBirth"],["formControlName","address","placeholder","Address"],["formControlName","city","placeholder","City"],[1,"modal-actions"],["type","button",1,"btn-cancel",3,"click"],["type","submit",1,"btn-save",3,"disabled"],[1,"profile-container"],[1,"profile-sidebar","glass-card"],[1,"avatar-container"],["alt","","src","https://bootdey.com/img/Content/avatar/avatar7.png",1,"avatar-img"],[1,"profile-name"],[1,"profile-role"],[1,"profile-location"],[1,"bi","bi-geo-alt-fill"],["class","btn-edit",3,"click",4,"ngIf"],["class","btn-courses",3,"click",4,"ngIf"],[1,"profile-main","glass-card"],[1,"section-title"],[1,"info-row"],[1,"info-label"],[1,"bi","bi-person"],[1,"info-value"],[1,"bi","bi-cake"],[1,"bi","bi-phone"],[1,"bi","bi-house"],[1,"btn-edit",3,"click"],[1,"bi","bi-pencil-square"],[1,"btn-courses",3,"click"],[1,"bi","bi-journal-bookmark-fill"],[1,"text-danger"]],template:function(e,n){e&1&&(_(0,Bd,41,15,"div",0),a(1,"div",1)(2,"div",2)(3,"button",3),y("click",function(){return n.onCancel()}),s(4,"\xD7"),r(),a(5,"h3",4),s(6,"Edit Profile"),r(),a(7,"form",5),y("ngSubmit",function(){return n.onSubmit()}),a(8,"div",6)(9,"label"),s(10,"First Name"),r(),f(11,"input",7),_(12,Qd,2,0,"small",8),r(),a(13,"div",6)(14,"label"),s(15,"Last Name"),r(),f(16,"input",9),_(17,Wd,2,0,"small",8),r(),a(18,"div",6)(19,"label"),s(20,"Phone Number"),r(),f(21,"input",10),_(22,$d,2,0,"small",8),r(),a(23,"div",6)(24,"label"),s(25,"Date of Birth"),r(),f(26,"input",11),_(27,Yd,2,0,"small",8),r(),a(28,"div",6)(29,"label"),s(30,"Address"),r(),f(31,"input",12),_(32,Hd,2,0,"small",8),r(),a(33,"div",6)(34,"label"),s(35,"City"),r(),f(36,"input",13),_(37,Gd,2,0,"small",8),r(),a(38,"div",14)(39,"button",15),y("click",function(){return n.onCancel()}),s(40,"Cancel"),r(),a(41,"button",16),s(42,"Save"),r()()()()()),e&2&&(d("ngIf",n.profile),c(),d("ngClass",Be(10,jd,n.editing)),c(6),d("formGroup",n.profileForm),c(5),d("ngIf",n.f.firstName.touched&&n.f.firstName.invalid),c(5),d("ngIf",n.f.lastName.touched&&n.f.lastName.invalid),c(5),d("ngIf",n.f.phoneNumber.touched&&n.f.phoneNumber.invalid),c(5),d("ngIf",n.f.dateOfBirth.touched&&n.f.dateOfBirth.invalid),c(5),d("ngIf",n.f.address.touched&&n.f.address.invalid),c(5),d("ngIf",n.f.city.touched&&n.f.city.invalid),c(4),d("disabled",n.profileForm.invalid))},dependencies:[Ze,ye,ce,le,Me,Fe,ut,z,Se,F,de,Pi],styles:[".profile-container[_ngcontent-%COMP%]{display:flex;gap:30px;padding:40px;justify-content:center}.glass-card[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);background:#ffffff26;border-radius:18px;padding:25px;box-shadow:0 8px 25px #00000026;transition:.3s}.glass-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.profile-sidebar[_ngcontent-%COMP%]{width:300px;text-align:center}.avatar-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.avatar-img[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;object-fit:cover;box-shadow:0 5px 20px #0000004d}.profile-name[_ngcontent-%COMP%]{margin-top:15px;font-size:1.7rem;color:var(--accent-color)}.profile-role[_ngcontent-%COMP%]{font-size:1rem;color:var(--heading-color)}.profile-location[_ngcontent-%COMP%]{margin-top:8px;color:var(--heading-color)}.btn-edit[_ngcontent-%COMP%]{margin-top:20px;padding:10px 15px;width:100%;border:none;border-radius:10px;background:var(--accent-color);color:var(--background-color);cursor:pointer;transition:.3s}.btn-edit[_ngcontent-%COMP%]:hover{background:var(--nav-hover-color)}.profile-main[_ngcontent-%COMP%]{width:500px}.section-title[_ngcontent-%COMP%]{color:var(--accent-color);margin-bottom:20px}.info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:12px 0;border-bottom:1px solid rgba(255,255,255,.2)}.info-value[_ngcontent-%COMP%]{color:var(--heading-color)!important;font-weight:600}.info-label[_ngcontent-%COMP%]{color:var(--heading-color)!important}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:none;justify-content:center;align-items:center;z-index:9000}.show-modal[_ngcontent-%COMP%]{display:flex!important}.modal-content[_ngcontent-%COMP%]{background:#fff3;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);padding:25px;width:420px;border-radius:18px;color:var(--background-color);animation:_ngcontent-%COMP%_scaleIn .3s ease-out;position:relative}.modal-title[_ngcontent-%COMP%]{color:var(--accent-color)}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}.close-btn[_ngcontent-%COMP%]{border:none;background:transparent;position:absolute;right:15px;top:10px;font-size:24px;cursor:pointer;color:var(--background-color)}.input-group[_ngcontent-%COMP%]{margin-bottom:15px}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-size:.9rem}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:10px;border:none;outline:none}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:15px;margin-top:10px}.btn-cancel[_ngcontent-%COMP%]{padding:10px 20px;border-radius:10px;background:#ccc;border:none;cursor:pointer}.btn-save[_ngcontent-%COMP%]{padding:10px 20px;border-radius:10px;background:var(--accent-color);border:none;color:var(--background-color);cursor:pointer}.btn-save[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-courses[_ngcontent-%COMP%]{margin-top:10px;width:100%;padding:10px;border-radius:8px;border:none;background:var(--accent-color);color:#fff;font-weight:600;cursor:pointer;transition:.3s}.btn-courses[_ngcontent-%COMP%]:hover{background:var(--accent-color);transform:translateY(-2px)}"]})};function Jd(o,t){o&1&&(a(0,"div",5),s(1," You have not enrolled in any courses yet. "),r())}function Kd(o,t){if(o&1){let e=E();a(0,"div",6)(1,"div",7),f(2,"img",8),a(3,"div",9)(4,"h5",10),s(5),r(),a(6,"p",11),s(7),r(),a(8,"p",12),s(9),r(),a(10,"button",13),y("click",function(){let m=C(e).$implicit,h=g();return M(h.goToUnits(m))}),s(11," View Units "),r()()()()}if(o&2){let e=t.$implicit,n=g();c(2),d("alt",Ft(e.crs_Name))("src",n.getCourseImage(e),ne),c(3),N(e.crs_Name),c(2),N(e.crs_Description),c(2),O("Price: ",e.price," EGP")}}var Vi=class o{constructor(t,e,n,m){this.enrollmentService=t;this.authService=e;this.router=n;this.snackbar=m}enrolledCourses=[];studentId;ngOnInit(){if(this.studentId=this.authService.UserId,!this.studentId){this.snackbar.open("Please login first.","error"),this.router.navigate(["/login"]);return}this.loadStudentCourses()}loadStudentCourses(){this.enrollmentService.getStudentCourses(this.studentId).subscribe({next:t=>{this.enrolledCourses=t},error:t=>{console.error(t),this.snackbar.open("Failed to load your courses.","error")}})}imageBase=Ge.imageBase;getCourseImage(t){let e=t.imageUrl;return e?e.startsWith("http://")||e.startsWith("https://")?e:this.imageBase+e:"/assets/img/education/course-1.jpg"}goToUnits(t){this.router.navigate(["/Courses",t.crs_Id,"units"])}static \u0275fac=function(e){return new(e||o)(v(Yt),v(Oe),v(V),v(ae))};static \u0275cmp=T({type:o,selectors:[["app-my-courses"]],decls:6,vars:2,consts:[[1,"container","py-4"],[1,"mb-4"],["class","alert alert-info",4,"ngIf"],[1,"row"],["class","col-md-4 mb-4",4,"ngFor","ngForOf"],[1,"alert","alert-info"],[1,"col-md-4","mb-4"],[1,"card","shadow-sm","h-100"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text","text-muted"],[1,"fw-bold"],[1,"btn-units",3,"click"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"h2",1),s(2,"\u{1F4DA} My Enrolled Courses"),r(),_(3,Jd,2,0,"div",2),a(4,"div",3),_(5,Kd,12,6,"div",4),r()()),e&2&&(c(3),d("ngIf",n.enrolledCourses.length===0),c(2),d("ngForOf",n.enrolledCourses))},dependencies:[z,ee,F,de],styles:[".btn-units[_ngcontent-%COMP%]{margin-top:10px;width:100%;padding:10px;border-radius:8px;border:none;background:var(--accent-color);color:#fff;font-weight:600;cursor:pointer;transition:.3s}.btn-units[_ngcontent-%COMP%]:hover{background:var(--accent-color);transform:translateY(-2px)}"]})};var Xd=(o,t,e)=>({"skeleton-pulse":o,"skeleton-wave":t,"skeleton-last-line":e});function Zd(o,t){if(o&1&&f(0,"div",2),o&2){let e=t.last,n=g();Rt("margin-bottom",!e&&n.lines>1?"0.5rem":"0")("width",e&&n.lines>1?"70%":n.width),d("ngClass",Vt(6,Xd,n.animation==="pulse",n.animation==="wave",e&&n.lines>1))("ngStyle",n.getSkeletonStyles())}}var Nn=class o{type="text";width="100%";height="1rem";borderRadius="4px";lines=1;customClass="";animation="wave";get linesArray(){return Array(this.lines).fill(0)}getSkeletonStyles(){let t={width:this.width,height:this.height,borderRadius:this.borderRadius};switch(this.type){case"circle":case"avatar":t.borderRadius="50%",(!this.width||this.width==="100%")&&(t.width="40px"),(!this.height||this.height==="1rem")&&(t.height="40px");break;case"button":t.borderRadius="8px",(!this.width||this.width==="100%")&&(t.width="120px"),(!this.height||this.height==="1rem")&&(t.height="40px");break;case"card":t.borderRadius="12px",(!this.height||this.height==="1rem")&&(t.height="200px");break}return t}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=T({type:o,selectors:[["app-skeleton"]],inputs:{type:"type",width:"width",height:"height",borderRadius:"borderRadius",lines:"lines",customClass:"customClass",animation:"animation"},decls:2,vars:2,consts:[[1,"skeleton-wrapper",3,"ngClass"],["class","skeleton",3,"ngClass","ngStyle","margin-bottom","width",4,"ngFor","ngForOf"],[1,"skeleton",3,"ngClass","ngStyle"]],template:function(e,n){e&1&&(a(0,"div",0),_(1,Zd,1,10,"div",1),r()),e&2&&(d("ngClass",n.customClass),c(),d("ngForOf",n.linesArray))},dependencies:[z,Se,ee,Ls],styles:[".skeleton-wrapper[_ngcontent-%COMP%]{display:block;width:100%}.skeleton[_ngcontent-%COMP%]{background-color:#e0e0e0;background:linear-gradient(90deg,#f0f0f0,#e0e0e0 20%,#f0f0f0 40% 100%);background-size:200% 100%;display:block;position:relative;overflow:hidden}.skeleton-wave[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_skeleton-wave 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_skeleton-wave{0%{background-position:200% 0}to{background-position:-200% 0}}.skeleton-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_skeleton-pulse 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_skeleton-pulse{0%,to{opacity:1}50%{opacity:.5}}@media (prefers-color-scheme: dark){.skeleton[_ngcontent-%COMP%]{background-color:#2a2a2a;background:linear-gradient(90deg,#2a2a2a,#3a3a3a 20%,#2a2a2a 40% 100%)}}@media (max-width: 768px){.skeleton-last-line[_ngcontent-%COMP%]{width:60%!important}}"]})};function em(o,t){if(o&1&&(a(0,"div",6),f(1,"app-skeleton",7),r()),o&2){let e=g(2);c(),d("width",e.avatarSize)("height",e.avatarSize)("animation",e.animation)}}function tm(o,t){if(o&1&&(a(0,"div",2),_(1,em,2,3,"div",3),a(2,"div",4),f(3,"app-skeleton",5),r()()),o&2){let e=g();c(),d("ngIf",e.showAvatar),c(2),d("lines",e.lines)("animation",e.animation)}}var ji=class o{items=5;showAvatar=!0;lines=2;animation="wave";avatarSize="48px";get itemsArray(){return Array(this.items).fill(0)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=T({type:o,selectors:[["app-skeleton-list"]],inputs:{items:"items",showAvatar:"showAvatar",lines:"lines",animation:"animation",avatarSize:"avatarSize"},decls:2,vars:1,consts:[[1,"skeleton-list"],["class","skeleton-list-item",4,"ngFor","ngForOf"],[1,"skeleton-list-item"],["class","skeleton-list-avatar",4,"ngIf"],[1,"skeleton-list-content"],["type","text",3,"lines","animation"],[1,"skeleton-list-avatar"],["type","circle",3,"width","height","animation"]],template:function(e,n){e&1&&(a(0,"div",0),_(1,tm,4,3,"div",1),r()),e&2&&(c(),d("ngForOf",n.itemsArray))},dependencies:[z,ee,F,Nn],styles:[".skeleton-list[_ngcontent-%COMP%]{width:100%}.skeleton-list-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;padding:1rem;border-bottom:1px solid var(--border-color, #e0e0e0)}.skeleton-list-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.skeleton-list-avatar[_ngcontent-%COMP%]{flex-shrink:0}.skeleton-list-content[_ngcontent-%COMP%]{flex:1;min-width:0}@media (max-width: 768px){.skeleton-list-item[_ngcontent-%COMP%]{padding:.75rem;gap:.75rem}}"]})};var qi=class o{constructor(t){this.http=t}apiUrl="https://elearningg.runasp.net/api/chat";askChatGPT(t){let e={messages:t};return this.http.post(this.apiUrl,e,{responseType:"text"}).toPromise()}uploadPdf(t){let e=new FormData;return e.append("file",t),this.http.post("http://localhost:5163/api/chat/upload-pdf",e,{responseType:"text"}).toPromise()}static \u0275fac=function(e){return new(e||o)(wn(Oi))};static \u0275prov=mt({token:o,factory:o.\u0275fac,providedIn:"root"})};function im(o,t){o&1&&f(0,"app-skeleton-list",16),o&2&&d("items",5)("showAvatar",!0)("lines",2)}function om(o,t){if(o&1&&(a(0,"span",27),s(1),r()),o&2){let e=g().$implicit;c(),O(" ",e.messages.length," ")}}function rm(o,t){if(o&1){let e=E();a(0,"li",19),y("click",function(){let m=C(e).$implicit,h=g(2);return M(h.selectSession(m))}),a(1,"div",20),f(2,"i",21),r(),a(3,"div",22)(4,"div",23),s(5),r(),a(6,"div",24),s(7),r()(),a(8,"div",25),_(9,om,2,1,"span",26),r()()}if(o&2){let e=t.$implicit,n=g(2);D("active",(n.selectedSession==null?null:n.selectedSession.id)===e.id),c(5),N(e.name),c(2),O(" ",e.messages.length>0?e.messages[e.messages.length-1].text:"No messages"," "),c(2),d("ngIf",e.messages.length>0)}}function am(o,t){if(o&1&&(a(0,"ul",17),_(1,rm,10,5,"li",18),r()),o&2){let e=g();c(),d("ngForOf",e.sessions)}}function sm(o,t){o&1&&(a(0,"div",28),f(1,"i",4),a(2,"p"),s(3,"No chats yet"),r(),a(4,"small"),s(5,"Click the + button to start a new chat"),r()())}function cm(o,t){if(o&1){let e=E();a(0,"div",29)(1,"div",30),f(2,"i",31),a(3,"div")(4,"h4"),s(5),r(),a(6,"span",32),f(7,"i",33),s(8," Online"),r()()(),a(9,"div",34)(10,"app-search-bar",35),y("searchTextChange",function(m){C(e);let h=g();return M(h.onSearchTextChange(m))}),r(),a(11,"button",36),f(12,"i",37),r()()()}if(o&2){let e=g();c(5),N(e.selectedSession.name)}}function lm(o,t){o&1&&(a(0,"div",38),f(1,"i",4),a(2,"h3"),s(3,"Welcome to AI Chat"),r(),a(4,"p"),s(5,"Select a chat from the sidebar or create a new one to get started"),r()())}function dm(o,t){if(o&1&&(a(0,"li",41)(1,"div",42),f(2,"i",43),r(),a(3,"div",44)(4,"div",45)(5,"strong"),s(6),r(),a(7,"span",46),s(8,"Just now"),r()(),f(9,"div",47),r()()),o&2){let e=t.$implicit,n=g(2);D("message-user",e.sender==="user")("message-bot",e.sender==="bot"),c(2),d("ngClass",e.sender==="user"?"fa-user":"fa-robot"),c(4),N(e.sender==="user"?"You":"AI Assistant"),c(3),d("innerHTML",n.highlightText(e.text),ys)}}function mm(o,t){if(o&1&&(a(0,"ul",39),_(1,dm,10,7,"li",40),r()),o&2){let e=g();c(),d("ngForOf",e.selectedSession.messages)}}function pm(o,t){if(o&1){let e=E();a(0,"div",48)(1,"div",49)(2,"label",50)(3,"input",51),y("change",function(m){C(e);let h=g();return M(h.onPdfSelected(m))}),r(),f(4,"i",52),r(),a(5,"input",53),W("ngModelChange",function(m){C(e);let h=g();return Q(h.messageText,m)||(h.messageText=m),M(m)}),y("keyup.enter",function(){C(e);let m=g();return M(m.sendMessage())}),r(),a(6,"button",54),y("click",function(){C(e);let m=g();return M(m.sendMessage())}),f(7,"i",55),r()()()}if(o&2){let e=g();c(5),B("ngModel",e.messageText),c(),d("disabled",!e.messageText.trim())}}var Ui=class o{constructor(t){this.chatService=t}STORAGE_KEY="chat-sessions";messageText="";messages=[];sessions=[];isLoadingSessions=!1;searchBar;searchText="";selectedSession=null;nextSessionId=1;chatHistory=[];ngOnInit(){this.loadSessions()}saveSessions(){try{let t={sessions:this.sessions,nextSessionId:this.nextSessionId,selectedSessionId:this.selectedSession?.id||null};localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t))}catch(t){console.error("Error saving sessions to localStorage:",t)}}loadSessions(){try{let t=localStorage.getItem(this.STORAGE_KEY);if(t){let e=JSON.parse(t);this.sessions=e.sessions||[],this.nextSessionId=e.nextSessionId||1,e.selectedSessionId?this.selectedSession=this.sessions.find(n=>n.id===e.selectedSessionId)||null:this.sessions.length>0&&(this.selectedSession=this.sessions[0])}}catch(t){console.error("Error loading sessions from localStorage:",t)}}clearAllChats(){confirm("Are you sure you want to clear all chat history? This cannot be undone.")&&(this.sessions=[],this.selectedSession=null,this.nextSessionId=1,localStorage.removeItem(this.STORAGE_KEY))}createNewSession(t){let e={id:this.nextSessionId++,name:t,messages:[],chatHistory:[]};this.sessions.push(e),this.selectedSession=e,this.saveSessions()}sendMessage(){return Ot(this,null,function*(){if(!this.messageText.trim()||!this.selectedSession)return;this.selectedSession.messages.push({text:this.messageText,sender:"user"}),this.selectedSession.chatHistory.push({role:"user",content:this.messageText});let t=this.messageText;this.messageText="";let e=(yield this.chatService.askChatGPT(this.selectedSession.chatHistory))??"No response";this.selectedSession.messages.push({text:e,sender:"bot"}),this.selectedSession.chatHistory.push({role:"assistant",content:e}),this.saveSessions()})}selectSession(t){this.selectedSession=t,this.saveSessions()}onPdfSelected(t){return Ot(this,null,function*(){if(!this.selectedSession)return;let e=t.target.files[0];if(!e)return;this.selectedSession.messages.push({text:`\u{1F4C4} Uploaded PDF: ${e.name}`,sender:"user"});let n=(yield this.chatService.uploadPdf(e))??"No summary available";this.selectedSession.messages.push({text:n,sender:"bot"}),this.selectedSession.chatHistory.push({role:"assistant",content:n}),this.saveSessions()})}onSearchTextChange(t){this.searchText=t}highlightText(t){return this.searchBar?.highlightText(t)||t}static \u0275fac=function(e){return new(e||o)(v(qi))};static \u0275cmp=T({type:o,selectors:[["app-chat-rome"]],viewQuery:function(e,n){if(e&1&&Ss(vr,5),e&2){let m;Is(m=ks())&&(n.searchBar=m.first)}},decls:18,vars:7,consts:[[1,"chat-container"],[1,"chat-wrapper"],[1,"chat-sidebar"],[1,"sidebar-header"],[1,"fas","fa-comments"],[1,"btn-new-chat",3,"click"],[1,"fas","fa-plus"],["avatarSize","40px","animation","wave",3,"items","showAvatar","lines",4,"ngIf"],["class","sessions-list",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"chat-main"],["class","chat-header",4,"ngIf"],[1,"messages-container"],["class","welcome-message",4,"ngIf"],["class","messages-list",4,"ngIf"],["class","chat-input-wrapper",4,"ngIf"],["avatarSize","40px","animation","wave",3,"items","showAvatar","lines"],[1,"sessions-list"],["class","session-item",3,"active","click",4,"ngFor","ngForOf"],[1,"session-item",3,"click"],[1,"session-avatar"],[1,"fas","fa-user-circle"],[1,"session-info"],[1,"session-name"],[1,"session-preview"],[1,"session-meta"],["class","message-count",4,"ngIf"],[1,"message-count"],[1,"empty-state"],[1,"chat-header"],[1,"chat-header-info"],[1,"fas","fa-robot"],[1,"status-online"],[1,"fas","fa-circle"],[1,"chat-header-actions"],["placeholder","Search messages...",3,"searchTextChange"],["title","More options",1,"btn-icon"],[1,"fas","fa-ellipsis-v"],[1,"welcome-message"],[1,"messages-list"],["class","message-item",3,"message-user","message-bot",4,"ngFor","ngForOf"],[1,"message-item"],[1,"message-avatar"],[1,"fas",3,"ngClass"],[1,"message-content"],[1,"message-header"],[1,"message-time"],[1,"message-text",3,"innerHTML"],[1,"chat-input-wrapper"],[1,"chat-input-container"],["title","Attach PDF",1,"btn-attachment"],["type","file","accept","application/pdf",3,"change"],[1,"fas","fa-paperclip"],["type","text","placeholder","Type your message...",1,"message-input",3,"ngModelChange","keyup.enter","ngModel"],[1,"btn-send",3,"click","disabled"],[1,"fas","fa-paper-plane"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3"),f(5,"i",4),s(6," Chats"),r(),a(7,"button",5),y("click",function(){return n.createNewSession("New Chat")}),f(8,"i",6),r()(),_(9,im,1,3,"app-skeleton-list",7)(10,am,2,1,"ul",8)(11,sm,6,0,"div",9),r(),a(12,"div",10),_(13,cm,13,1,"div",11),a(14,"div",12),_(15,lm,6,0,"div",13)(16,mm,2,1,"ul",14),r(),_(17,pm,8,2,"div",15),r()()()),e&2&&(c(9),d("ngIf",n.isLoadingSessions),c(),d("ngIf",!n.isLoadingSessions),c(),d("ngIf",!n.isLoadingSessions&&n.sessions.length===0),c(2),d("ngIf",n.selectedSession),c(2),d("ngIf",!n.selectedSession),c(),d("ngIf",n.selectedSession),c(),d("ngIf",n.selectedSession))},dependencies:[z,Se,ee,F,ge,ce,le,Ie,Ii,ji,vr],styles:[".chat-container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 60px);padding:1rem;background:var(--background-color, #f5f7fa)}.chat-wrapper[_ngcontent-%COMP%]{display:flex;height:100%;background:var(--background-color);border-radius:16px;overflow:hidden;box-shadow:0 4px 20px #00000014}.chat-sidebar[_ngcontent-%COMP%]{width:320px;background:var(--background-color);border-right:1px solid #e5e7eb;display:flex;flex-direction:column}.sidebar-header[_ngcontent-%COMP%]{padding:1.13rem;border-bottom:1px solid #e5e7eb;display:flex;align-items:center;justify-content:space-between}.sidebar-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;color:var(--heading-color, #223a58);display:flex;align-items:center;gap:.5rem}.sidebar-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--accent-color, #074226)}.btn-new-chat[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;border:none;background:var(--accent-color, #074226);color:var(--background-color);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease}.btn-new-chat[_ngcontent-%COMP%]:hover{background:var(--secondary-accent, #4ade80);transform:scale(1.1)}.sessions-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;overflow-y:auto;flex:1}.session-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem 1.5rem;cursor:pointer;transition:all .2s ease;border-bottom:1px solid #f3f4f6}.session-item[_ngcontent-%COMP%]:hover{background:#f9fafb}.session-item.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--background-color) 0%,var(--default-color) 100%);border-left:3px solid var(--accent-color, #074226)}.session-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,var(--accent-color, #074226),var(--secondary-accent, #4ade80));display:flex;align-items:center;justify-content:center;color:var(--background-color);font-size:1.5rem;flex-shrink:0}.session-info[_ngcontent-%COMP%]{flex:1;min-width:0}.session-name[_ngcontent-%COMP%]{font-weight:600;color:var(--heading-color);margin-bottom:.25rem;font-size:.95rem}.session-preview[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.session-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:.25rem}.message-count[_ngcontent-%COMP%]{background:var(--accent-color, #074226);color:var(--background-color);font-size:.75rem;padding:.25rem .5rem;border-radius:12px;font-weight:600}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1.5rem;text-align:center;color:var(--text-muted, #666666)}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:#d1d5db;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;font-weight:600;color:var(--default-color, #394450)}.empty-state[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--text-muted, #666666)}.chat-main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;background:var(--background-color)}.chat-header[_ngcontent-%COMP%]{padding:.75rem;background:var(--background-color);border-bottom:1px solid #e5e7eb;display:flex;align-items:center;justify-content:space-between}.chat-header-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.chat-header-info[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,var(--accent-color, #074226),var(--secondary-accent, #4ade80));display:flex;align-items:center;justify-content:center;color:var(--background-color);font-size:1.5rem}.chat-header-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;font-weight:600;color:var(--heading-color, #223a58)}.status-online[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-muted, #666666);display:flex;align-items:center;gap:.35rem}.status-online[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#10b981;font-size:.5rem}.chat-header-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.search-container[_ngcontent-%COMP%]{position:relative;width:36px;height:36px;display:flex;align-items:center;justify-content:center}.search-input[_ngcontent-%COMP%]{position:absolute;right:0;top:0;height:100%;width:36px;border-radius:20px;background:var(--background-color);border:1px solid transparent;padding:0;transition:all .3s cubic-bezier(.4,0,.2,1);opacity:0;z-index:1;pointer-events:none;font-size:.9rem;color:var(--default-color, #394450)}.search-container.active[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:240px;opacity:1;padding:0 40px 0 15px;border-color:#e5e7eb;box-shadow:0 4px 12px #0000001a;pointer-events:auto}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--accent-color, #074226)}.btn-icon[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;border:none;background:var(--background-color);color:var(--default-color, #394450);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;position:relative;z-index:2;flex-shrink:0}.search-container.active[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{background:transparent;color:var(--accent-color, #074226)}.btn-icon[_ngcontent-%COMP%]:hover{background:#e5e7eb;color:var(--accent-color, #074226)}.messages-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1.5rem;min-height:200px;max-height:none}.welcome-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;text-align:center;color:var(--text-muted, #666666)}.welcome-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#d1d5db;margin-bottom:1.5rem}.welcome-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;color:var(--heading-color, #223a58)}.welcome-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-muted, #666666)}.messages-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:1.5rem}.message-item[_ngcontent-%COMP%]{display:flex;gap:.75rem;animation:_ngcontent-%COMP%_messageSlideIn .3s ease-out}@keyframes _ngcontent-%COMP%_messageSlideIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.message-user[_ngcontent-%COMP%]{flex-direction:row-reverse}.message-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.2rem;flex-shrink:0}.message-user[_ngcontent-%COMP%]   .message-avatar[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--accent-color, #074226),var(--secondary-accent, #4ade80))}.message-bot[_ngcontent-%COMP%]   .message-avatar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6366f1,#8b5cf6)}.message-content[_ngcontent-%COMP%]{max-width:70%;display:flex;flex-direction:column;gap:.5rem}.message-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.85rem}.message-header[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--heading-color, #223a58)}.message-time[_ngcontent-%COMP%]{color:var(--text-muted, #666666);font-size:.75rem}.message-text[_ngcontent-%COMP%]{padding:.875rem 1rem;border-radius:12px;line-height:1.5;word-wrap:break-word;white-space:pre-wrap;overflow-wrap:break-word}.message-user[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{background:var(--accent-color, #074226);color:var(--background-color);border-bottom-right-radius:4px}.message-bot[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{background:var(--background-color);color:var(--default-color, #394450);border:1px solid #e5e7eb;border-bottom-left-radius:4px}mark.highlight[_ngcontent-%COMP%]{background-color:#fef08a;color:#854d0e;padding:0 2px;border-radius:2px;font-weight:600}.message-user[_ngcontent-%COMP%]   mark.highlight[_ngcontent-%COMP%]{background-color:#ffffff4d;color:var(--background-color);text-shadow:0 1px 2px rgba(0,0,0,.1)}.chat-input-wrapper[_ngcontent-%COMP%]{padding:0rem 1rem .5rem;background:var(--background-color)}.chat-input-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;background:var(--background-color);padding:.5rem;border-radius:24px;border:1px solid #e5e7eb;transition:all .2s ease}.chat-input-container[_ngcontent-%COMP%]:focus-within{border-color:var(--accent-color, #074226);box-shadow:0 0 0 3px #0742261a}.btn-attachment[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;color:var(--text-muted, #666666);transition:all .2s ease;background:transparent}.btn-attachment[_ngcontent-%COMP%]:hover{background:#e5e7eb;color:var(--accent-color, #074226)}.btn-attachment[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.message-input[_ngcontent-%COMP%]{flex:1;border:none;outline:none;background:transparent;font-size:.95rem;padding:.5rem;color:var(--default-color, #394450)}.message-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.btn-send[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:none;background:var(--accent-color, #074226);color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.btn-send[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--secondary-accent, #4ade80);transform:scale(1.05)}.btn-send[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}@media (max-width: 768px){.chat-container[_ngcontent-%COMP%]{padding:0;height:100vh}.chat-wrapper[_ngcontent-%COMP%]{border-radius:0}.chat-sidebar[_ngcontent-%COMP%]{width:280px}.message-content[_ngcontent-%COMP%]{max-width:85%}}@media (max-width: 576px){.chat-sidebar[_ngcontent-%COMP%]{position:absolute;left:0;top:0;height:100%;z-index:10;transform:translate(-100%);transition:transform .3s ease}.chat-sidebar.open[_ngcontent-%COMP%]{transform:translate(0)}}.sessions-list[_ngcontent-%COMP%]::-webkit-scrollbar, .messages-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.sessions-list[_ngcontent-%COMP%]::-webkit-scrollbar-track, .messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.sessions-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:3px}.sessions-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover, .messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#9ca3af}"]})};function um(o,t){if(o&1&&(a(0,"div",7),f(1,"app-skeleton",8),r()),o&2){let e=g();c(),d("height",e.imageHeight)("animation",e.animation)}}function gm(o,t){if(o&1&&(a(0,"div",9),f(1,"app-skeleton",10)(2,"app-skeleton",10),r()),o&2){let e=g();c(),d("animation",e.animation),c(),d("animation",e.animation)}}var Nt=class o{showImage=!0;lines=3;showActions=!1;animation="wave";imageHeight="200px";static \u0275fac=function(e){return new(e||o)};static \u0275cmp=T({type:o,selectors:[["app-skeleton-card"]],inputs:{showImage:"showImage",lines:"lines",showActions:"showActions",animation:"animation",imageHeight:"imageHeight"},decls:7,vars:5,consts:[[1,"skeleton-card"],["class","skeleton-card-image",4,"ngIf"],[1,"skeleton-card-content"],["type","text","height","1.5rem","width","80%",3,"animation"],[1,"skeleton-card-description"],["type","text",3,"lines","animation"],["class","skeleton-card-actions",4,"ngIf"],[1,"skeleton-card-image"],["type","rectangle","width","100%",3,"height","animation"],[1,"skeleton-card-actions"],["type","button","width","100px","height","36px",3,"animation"]],template:function(e,n){e&1&&(a(0,"div",0),_(1,um,2,2,"div",1),a(2,"div",2),f(3,"app-skeleton",3),a(4,"div",4),f(5,"app-skeleton",5),r(),_(6,gm,3,2,"div",6),r()()),e&2&&(c(),d("ngIf",n.showImage),c(2),d("animation",n.animation),c(2),d("lines",n.lines)("animation",n.animation),c(),d("ngIf",n.showActions))},dependencies:[z,F,Nn],styles:[".skeleton-card[_ngcontent-%COMP%]{background:var(--surface-color, #ffffff);border-radius:12px;overflow:hidden;box-shadow:0 2px 8px #0000001a;margin-bottom:1rem}.skeleton-card-image[_ngcontent-%COMP%]{width:100%}.skeleton-card-content[_ngcontent-%COMP%]{padding:1.5rem}.skeleton-card-description[_ngcontent-%COMP%]{margin-top:1rem}.skeleton-card-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1.5rem;padding-top:1rem;border-top:1px solid var(--border-color, #e0e0e0)}@media (max-width: 768px){.skeleton-card-content[_ngcontent-%COMP%]{padding:1rem}.skeleton-card-actions[_ngcontent-%COMP%]{flex-direction:column}}"]})};var fm=()=>[1,2,3,4,5,6,7,8],hm=(o,t)=>({"bi-star-fill ":o,"bi-star":t});function _m(o,t){if(o&1){let e=E();a(0,"button",7),y("click",function(){C(e);let m=g();return M(m.goToAdd())}),f(1,"i",8),a(2,"span"),s(3,"Add New Instructor"),r()()}}function bm(o,t){o&1&&(a(0,"div",11),f(1,"app-skeleton-card",12),r()),o&2&&(c(),d("showImage",!0)("lines",3)("showActions",!0))}function vm(o,t){o&1&&(a(0,"div",9),_(1,bm,2,3,"div",10),r()),o&2&&(c(),d("ngForOf",pe(1,fm)))}function xm(o,t){if(o&1&&(St(0),f(1,"i",35),It()),o&2){let e=t.$implicit,n=g().$implicit;c(),d("ngClass",De(1,hm,e<=n.rating,e>n.rating))}}function Cm(o,t){if(o&1){let e=E();a(0,"button",36),y("click",function(){C(e);let m=g().$implicit,h=g(2);return M(h.goToEdit(m.id))}),f(1,"i",37),r()}}function Mm(o,t){if(o&1){let e=E();a(0,"button",38),y("click",function(){C(e);let m=g().$implicit,h=g(2);return M(h.goToDeleteConfirm(m.id))}),f(1,"i",39),r()}}function ym(o,t){if(o&1&&(a(0,"a",40),f(1,"i",41),r()),o&2){let e=g().$implicit;d("href",e.youtubeChannelUrl,ne)}}function wm(o,t){if(o&1){let e=E();a(0,"div",11)(1,"div",13)(2,"div",14),f(3,"img",15),a(4,"div",16)(5,"div",17),_(6,xm,2,4,"ng-container",18),a(7,"span"),s(8),r()(),a(9,"div",19),f(10,"i",20),a(11,"span"),s(12),r()()()(),a(13,"div",21)(14,"h5",22),s(15),r(),a(16,"div",23)(17,"div",24)(18,"span",25),f(19,"i",26),s(20),r(),a(21,"span",27),s(22,"Rating"),r()(),a(23,"div",28)(24,"span",25),f(25,"i",20),s(26),r(),a(27,"span",27),s(28,"Students"),r()()(),a(29,"div",29)(30,"button",30),y("click",function(){let m=C(e).$implicit,h=g(2);return M(h.goToProfile(m.id))}),s(31," View Profile "),r(),a(32,"div",31),_(33,Cm,2,0,"button",32)(34,Mm,2,0,"button",33)(35,ym,2,1,"a",34),r()()()()()}if(o&2){let e=t.$implicit,n=g(2);c(3),d("src",e.photoUrl||"assets/images/default-instructor.jpg",ne),c(3),d("ngForOf",n.getStarsArray()),c(2),N(e.rating),c(4),O("",e.numberOfStudents," Students"),c(3),O(" ",e.fullName," "),c(5),O(" ",e.rating),c(6),O(" ",e.numberOfStudents),c(7),d("ngIf",n.isAdmin),c(),d("ngIf",n.isAdmin),c(),d("ngIf",e.youtubeChannelUrl)}}function Pm(o,t){if(o&1&&(a(0,"div",9),_(1,wm,36,10,"div",10),r()),o&2){let e=g();c(),d("ngForOf",e.paginatedInstructors)}}function Om(o,t){if(o&1){let e=E();a(0,"div",42)(1,"app-pagination",43),y("pageChange",function(m){C(e);let h=g();return M(h.onPageChange(m))}),r()()}if(o&2){let e=g();c(),d("currentPage",e.currentPage)("totalItems",e.instructors.length)("itemsPerPage",e.itemsPerPage)}}var Bi=class o{constructor(t,e,n,m){this.service=t;this.router=e;this.authService=n;this.ratingService=m}instructors=[];loading=!0;currentPage=1;itemsPerPage=8;get paginatedInstructors(){let t=(this.currentPage-1)*this.itemsPerPage;return this.instructors.slice(t,t+this.itemsPerPage)}onPageChange(t){this.currentPage=t,window.scrollTo(0,0)}get isInstructor(){return this.authService.isInstructor()}get isAdmin(){return this.authService.isAdmin()}ngOnInit(){this.service.getAll().subscribe({next:t=>{this.instructors=t,this.instructors.forEach(e=>{e.id&&this.ratingService.getInstructorAverage(e.id).subscribe({next:n=>{e.rating=n.average},error:n=>{console.error("Error loading rating for instructor "+e.id,n),e.rating=0}})}),this.loading=!1}})}getStarsArray(){return[1,2,3,4,5]}goToProfile(t){t&&this.router.navigate(["/instructor",t])}goToAdd(){this.router.navigate(["/instructors/add"])}goToEdit(t){t&&this.router.navigate(["/instructors/edit",t])}goToDeleteConfirm(t){t&&this.router.navigate(["/instructors",t,"confirm-delete"])}static \u0275fac=function(e){return new(e||o)(v(Le),v(V),v(Oe),v(ft))};static \u0275cmp=T({type:o,selectors:[["app-instructors-list"]],decls:9,vars:4,consts:[[1,"featured-instructors","container","py-4"],[1,"list-header","d-flex","justify-content-between","align-items-center","mb-4","p-3","rounded-3","shadow-sm"],[1,"mb-0","text-dark-heading"],[1,"bi","bi-person-badge-fill","me-2","text-accent"],["class","btn btn-accent btn-add","type","button",3,"click",4,"ngIf"],["class","row g-4",4,"ngIf"],["class","mt-5 mb-3 d-flex justify-content-center",4,"ngIf"],["type","button",1,"btn","btn-accent","btn-add",3,"click"],[1,"bi","bi-plus-lg","me-1"],[1,"row","g-4"],["class","col-xl-3 col-lg-4 col-md-6",4,"ngFor","ngForOf"],[1,"col-xl-3","col-lg-4","col-md-6"],["imageHeight","250px","animation","wave",3,"showImage","lines","showActions"],[1,"instructor-card-new","h-100","shadow-sm","border"],[1,"instructor-image"],["alt","Instructor Photo",1,"img-fluid","w-100","h-100","object-fit-cover",3,"src"],[1,"overlay-content","p-3"],[1,"rating-badge","bg-white","text-dark","px-3","py-1","rounded-pill","d-flex","align-items-center"],[4,"ngFor","ngForOf"],[1,"students-badge","bg-white","text-dark","px-3","py-1","rounded-pill","d-flex","align-items-center"],[1,"bi","bi-people-fill","me-1"],[1,"instructor-info","p-3","d-flex","flex-column","grow"],[1,"text-center","fw-bold","mb-2","instructor-name"],[1,"stats-grid-new","row","g-2","text-center","my-2"],[1,"col-6","stat","border-end"],[1,"number","d-block","fw-bold","fs-5","text-accent"],[1,"bi","bi-star-fill","me-1"],[1,"label","small"],[1,"col-6","stat"],[1,"action-row","mt-3","d-flex","justify-content-between","align-items-center"],["type","button",1,"btn","btn-sm","btn-outline-accent","grow","me-2",3,"click"],[1,"icon-actions","d-flex","gap-2"],["class","icon-btn-new btn btn-sm btn-light","type","button","title","Edit",3,"click",4,"ngIf"],["class","icon-btn-new btn btn-sm btn-light","type","button","title","Delete",3,"click",4,"ngIf"],["class","icon-btn-new btn btn-sm btn-light","target","_blank","rel","noopener noreferrer","title","Youtube",3,"href",4,"ngIf"],[1,"bi",3,"ngClass"],["type","button","title","Edit",1,"icon-btn-new","btn","btn-sm","btn-light",3,"click"],[1,"bi","bi-pencil-square","text-primary"],["type","button","title","Delete",1,"icon-btn-new","btn","btn-sm","btn-light",3,"click"],[1,"bi","bi-trash","text-danger"],["target","_blank","rel","noopener noreferrer","title","Youtube",1,"icon-btn-new","btn","btn-sm","btn-light",3,"href"],[1,"bi","bi-youtube","text-danger"],[1,"mt-5","mb-3","d-flex","justify-content-center"],[3,"pageChange","currentPage","totalItems","itemsPerPage"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"h2",2),f(3,"i",3),s(4," Our Expert Instructors "),r(),_(5,_m,4,0,"button",4),r(),_(6,vm,2,2,"div",5)(7,Pm,2,1,"div",5)(8,Om,2,3,"div",6),r()),e&2&&(c(5),d("ngIf",n.isAdmin),c(),d("ngIf",n.loading),c(),d("ngIf",!n.loading),c(),d("ngIf",!n.loading))},dependencies:[z,Se,ee,F,Nt,Ni],styles:[".list-header[_ngcontent-%COMP%]{margin-top:10px}.list-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:var(--heading-color)}.btn-accent.btn-add[_ngcontent-%COMP%]{border-radius:999px;padding:8px 20px;font-size:15px;transition:all .2s ease-in-out}.featured-instructors[_ngcontent-%COMP%]{margin-top:20px}.instructor-card-new[_ngcontent-%COMP%]{background:var(--surface-color);border-radius:12px;overflow:hidden;transition:transform .25s ease,box-shadow .25s ease,border-color .25s ease;height:100%}.instructor-card-new[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 30px #0000001a;border-color:var(--accent-color)}.instructor-image[_ngcontent-%COMP%]{position:relative;height:200px;overflow:hidden}.instructor-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform .3s ease}.instructor-card-new[_ngcontent-%COMP%]:hover   .instructor-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.03)}.overlay-content[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;justify-content:space-between;align-items:flex-start;opacity:0;transition:opacity .3s ease;background:linear-gradient(to top,#0000001a,#0006)}.instructor-card-new[_ngcontent-%COMP%]:hover   .overlay-content[_ngcontent-%COMP%]{opacity:1}.rating-badge[_ngcontent-%COMP%], .students-badge[_ngcontent-%COMP%]{font-size:13px;height:fit-content;box-shadow:0 2px 4px #0003}.rating-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffc107}.students-badge[_ngcontent-%COMP%], .rating-badge[_ngcontent-%COMP%]{color:var(--default-color)}.instructor-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:19px;color:var(--heading-color);font-weight:700}.specialty[_ngcontent-%COMP%]{color:var(--accent-color);font-size:13px}.stats-grid-new[_ngcontent-%COMP%]{background:var(--background-color);border-radius:8px;padding:8px 0;border:1px dashed #eee}.stat[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-weight:800;font-size:1.25rem;color:var(--accent-color)}.stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.7rem;text-transform:uppercase;letter-spacing:.5px}.btn-outline-accent[_ngcontent-%COMP%]{color:var(--accent-color);border-color:var(--accent-color);border-radius:20px;font-size:13px;font-weight:600;transition:all .2s ease}.btn-outline-accent[_ngcontent-%COMP%]:hover{background-color:var(--accent-color);color:var(--contrast-color)}.icon-btn-new[_ngcontent-%COMP%]{width:38px;height:38px;border-radius:50%;border:1px solid var(--border-color);background-color:var(--surface-color);box-shadow:0 1px 3px #0000000d;transition:all .15s ease;display:flex;justify-content:center;align-items:center}.icon-btn-new[_ngcontent-%COMP%]:hover{transform:translateY(-1px);border-color:var(--accent-color)}.stars[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;cursor:pointer;color:#ccc}.stars[_ngcontent-%COMP%]   span.filled[_ngcontent-%COMP%]{color:gold}.flex-grow-1[_ngcontent-%COMP%]{flex-grow:1}"]})};var Sm=(o,t)=>({"bi-star-fill":o,"bi-star":t}),Im=()=>[1,2,3,4,5];function km(o,t){if(o&1&&(St(0),f(1,"i",45),It()),o&2){let e=t.$implicit,n=g().ngIf;c(),d("ngClass",De(1,Sm,e<=n.rating,e>n.rating))}}function Em(o,t){if(o&1&&(a(0,"a",46),f(1,"i",44),s(2," Contact Instructor "),r()),o&2){let e=g().ngIf;d("href","mailto:"+e.email,ne)}}function Tm(o,t){if(o&1&&(a(0,"a",47),f(1,"i",48),r()),o&2){let e=g().ngIf;d("href",e.youtubeChannelUrl,ne)}}function Nm(o,t){if(o&1&&(a(0,"a",47),f(1,"i",49),r()),o&2){let e=g().ngIf;d("href",e.certificateUrl,ne)}}function Lm(o,t){if(o&1){let e=E();a(0,"span",56),y("click",function(){let m=C(e).index,h=g(3);return M(!h.hasRated&&h.setRating(m+1))})("mouseenter",function(){let m=C(e).index,h=g(3);return M(!h.hasRated&&h.hoverRating(m+1))})("mouseleave",function(){C(e);let m=g(3);return M(!m.hasRated&&m.hoverRating(0))}),s(1,` \u2605
`),r()}if(o&2){let e=t.index,n=g(3);D("filled",e<(n.hoveredRating>0?n.hoveredRating:n.ratingValue))("disabled",n.hasRated)}}function Am(o,t){o&1&&(a(0,"p",57),s(1," You already rated this instructor. \u2705 "),r())}function zm(o,t){if(o&1){let e=E();a(0,"div",50)(1,"h5"),s(2),r(),a(3,"div",51),_(4,Lm,2,4,"span",52),r(),a(5,"textarea",53),W("ngModelChange",function(m){C(e);let h=g(2);return Q(h.feedback,m)||(h.feedback=m),M(m)}),r(),a(6,"button",54),y("click",function(){C(e);let m=g(2);return M(m.submitRating())}),s(7," Submit Rating "),r(),_(8,Am,2,0,"p",55),r()}if(o&2){let e=g(2);c(2),O("Rate ",e.instructor.fullName),c(2),d("ngForOf",pe(6,Im)),c(),B("ngModel",e.feedback),d("disabled",e.hasRated),c(),d("disabled",e.hasRated||e.ratingValue===0),c(2),d("ngIf",e.hasRated)}}function Dm(o,t){if(o&1&&(a(0,"div",58)(1,"h4"),s(2),r(),a(3,"p"),s(4," This instructor works as "),a(5,"strong"),s(6),r(),s(7," and currently teaches "),a(8,"strong"),s(9),r(),s(10," students. "),r(),a(11,"p"),s(12," You can reach them at "),a(13,"strong"),s(14),r(),s(15," or phone "),a(16,"strong"),s(17),r(),s(18,". "),r(),f(19,"p"),r()),o&2){let e=g().ngIf;c(2),O("About ",e.fullName),c(4),N(e.jobTitle),c(3),N(e.numberOfStudents),c(5),N(e.email),c(3),N(e.phoneNumber)}}function Rm(o,t){if(o&1&&(a(0,"div",60)(1,"div",61)(2,"div",62),f(3,"img",63),r(),a(4,"div",64)(5,"h5"),s(6,"Official Instructor Certificate"),r(),a(7,"p"),s(8),r(),a(9,"a",65),f(10,"i",66),s(11," View Certificate "),r()()()()),o&2){let e=g(2).ngIf;c(3),d("src",e.certificateUrl,ne),c(5),ze(" Verified certification for ",e.fullName," as a professional ",e.jobTitle,". "),c(),d("href",e.certificateUrl,ne)}}function Fm(o,t){o&1&&(a(0,"p"),s(1,"No certifications added yet."),r())}function Vm(o,t){if(o&1&&(a(0,"div",58)(1,"h4"),s(2,"Certifications"),r(),_(3,Rm,12,4,"div",59)(4,Fm,2,0,"ng-template",null,0,Wt),r()),o&2){let e=_e(5),n=g().ngIf;c(3),d("ngIf",n.certificateUrl)("ngIfElse",e)}}function jm(o,t){if(o&1&&(a(0,"div",69)(1,"div",70)(2,"span",71),s(3),r()(),a(4,"h5"),s(5),r(),a(6,"div",72)(7,"span"),f(8,"i",73),s(9),r(),a(10,"span"),f(11,"i",74),s(12),r()(),a(13,"p",75),f(14,"i",76),s(15),r()()),o&2){let e=t.$implicit;c(3),N(e.level),c(2),N(e.title),c(4),O(" ",e.students," students"),c(3),O(" ",e.rating),c(3),O(" ",e.duration," ")}}function qm(o,t){if(o&1&&(a(0,"div",58)(1,"h4"),s(2),r(),a(3,"div",67),_(4,jm,16,5,"div",68),r()()),o&2){let e=g().ngIf,n=g();c(2),O("Courses by ",e.fullName),c(2),d("ngForOf",n.courses)}}function Um(o,t){if(o&1){let e=E();a(0,"section",2)(1,"div",3)(2,"div",4)(3,"div",5),f(4,"img",6)(5,"div",7),r(),a(6,"div",8)(7,"div",9),f(8,"img",10),a(9,"div",11),f(10,"i",12),a(11,"span"),s(12,"Verified"),r()()(),a(13,"div",13)(14,"h2"),s(15),r(),a(16,"p",14),s(17),r(),a(18,"div",15)(19,"span",16),s(20),r(),a(21,"span",16),s(22),r()(),a(23,"div",17)(24,"div",18),_(25,km,2,4,"ng-container",19),r(),a(26,"span",20),s(27),r()(),a(28,"div",21),_(29,Em,3,1,"a",22),a(30,"div",23),_(31,Tm,2,1,"a",24),a(32,"a",25),f(33,"i",26),r(),_(34,Nm,2,1,"a",24),r()()()()(),a(35,"div",27)(36,"div",28)(37,"div",29)(38,"div",30)(39,"button",31),y("click",function(){C(e);let m=g();return M(m.setTab("about"))}),f(40,"i",32),s(41," About "),r(),a(42,"button",31),y("click",function(){C(e);let m=g();return M(m.setTab("certifications"))}),f(43,"i",33),s(44," Certifications "),r(),a(45,"button",31),y("click",function(){C(e);let m=g();return M(m.setTab("courses"))}),f(46,"i",34),s(47," Courses "),r()()(),_(48,zm,9,7,"div",35)(49,Dm,20,5,"div",36)(50,Vm,6,2,"div",36)(51,qm,5,2,"div",36),r()(),a(52,"div",37)(53,"div",38)(54,"h4"),s(55,"Teaching Impact"),r(),a(56,"div",39)(57,"div",40)(58,"div",41),s(59),r(),a(60,"div",42),s(61,"Students"),r()(),a(62,"div",40)(63,"div",41),s(64),r(),a(65,"div",42),s(66,"Rating"),r()()(),a(67,"div",43)(68,"h5"),s(69,"Contact"),r(),a(70,"p"),f(71,"i",44),s(72),r(),a(73,"p"),f(74,"i",26),s(75),r()()()()()()}if(o&2){let e=t.ngIf,n=g();c(8),d("src",e.photoUrl,ne),c(7),N(e.fullName),c(2),N(e.jobTitle),c(3),O("",e.numberOfStudents," Students"),c(2),O("Rating ",e.rating),c(3),d("ngForOf",n.getStarsArray(e.rating)),c(2),O("",e.rating," / 5"),c(2),d("ngIf",e.email),c(2),d("ngIf",e.youtubeChannelUrl),c(),d("href","tel:"+e.phoneNumber,ne),c(2),d("ngIf",e.certificateUrl),c(5),D("active",n.activeTab==="about"),c(3),D("active",n.activeTab==="certifications"),c(3),D("active",n.activeTab==="courses"),c(3),d("ngIf",n.instructor),c(),d("ngIf",n.activeTab==="about"),c(),d("ngIf",n.activeTab==="certifications"),c(),d("ngIf",n.activeTab==="courses"),c(8),N(e.numberOfStudents),c(5),N(e.rating),c(8),O(" ",e.email),c(3),O(" ",e.phoneNumber)}}var Kn=class o{constructor(t,e,n){this.route=t;this.instructorService=e;this.ratingService=n}instructor;activeTab="about";courses=[{title:"Full-Stack Web Development",level:"Advanced",students:320,rating:4.8,duration:"24h content"},{title:"Angular & ASP.NET Core API",level:"Intermediate",students:210,rating:4.6,duration:"18h content"},{title:"Intro to Programming",level:"Beginner",students:500,rating:4.4,duration:"12h content"}];hoveredRating=0;ratingValue=0;feedback="";hasRated=!1;ngOnInit(){let t=this.route.snapshot.paramMap.get("id");if(t){let e=Number(t);this.instructorService.getById(e).subscribe({next:n=>{this.instructor=n,this.loadRatingAndStudents(e),this.checkIfUserRated(e)},error:n=>console.error(n)})}else this.instructorService.getMyProfile().subscribe({next:e=>{this.instructor=e,this.instructor.id&&(this.loadRatingAndStudents(this.instructor.id),this.checkIfUserRated(this.instructor.id))},error:e=>console.error(e)})}setTab(t){this.activeTab=t}getStarsArray(t){return[1,2,3,4,5]}hoverRating(t){this.hasRated||(this.hoveredRating=t)}setRating(t){this.hasRated||(this.ratingValue=t)}submitRating(){if(!this.instructor||this.hasRated||this.ratingValue===0)return;let t={instructorId:this.instructor.id,ratingValue:this.ratingValue,feedback:this.feedback};this.ratingService.addInstructorRating(t).subscribe({next:()=>{this.hasRated=!0,this.loadRatingAndStudents(this.instructor.id)},error:e=>{console.error("Failed to submit rating",e),this.hasRated=!0}})}checkIfUserRated(t){this.ratingService.hasUserRatedInstructor(t).subscribe({next:e=>{this.hasRated=e.hasRated,e.hasRated&&(this.ratingValue=e.ratingValue||0,this.feedback=e.feedback||"",this.hoveredRating=0)},error:e=>console.error(e)})}loadRatingAndStudents(t){this.ratingService.getInstructorAverage(t).subscribe({next:e=>{this.instructor&&(this.instructor.rating=e.average)},error:e=>console.error(e)})}static \u0275fac=function(e){return new(e||o)(v(oe),v(Le),v(ft))};static \u0275cmp=T({type:o,selectors:[["app-instructor-profile"]],decls:1,vars:1,consts:[["noCert",""],["class","instructor-profile section",4,"ngIf"],[1,"instructor-profile","section"],[1,"container"],[1,"instructor-hero-banner"],[1,"hero-background"],["src","assets/img/education/showcase-4.webp","alt","Background",1,"img-fluid"],[1,"hero-overlay"],[1,"hero-content"],[1,"instructor-avatar"],["alt","Instructor",1,"img-fluid",3,"src"],[1,"status-badge"],[1,"bi","bi-patch-check-fill"],[1,"instructor-info"],[1,"title"],[1,"credentials"],[1,"credential"],[1,"rating-overview"],[1,"stars"],[4,"ngFor","ngForOf"],[1,"rating-text"],[1,"contact-actions"],["class","btn-contact",3,"href",4,"ngIf"],[1,"social-media"],["target","_blank",3,"href",4,"ngIf"],[3,"href"],[1,"bi","bi-telephone"],[1,"row","gy-4","mt-4"],[1,"col-lg-8"],[1,"profile-tabs"],[1,"tab-buttons"],[1,"tab-button",3,"click"],[1,"bi","bi-person"],[1,"bi","bi-mortarboard"],[1,"bi","bi-book"],["class","add-rating mt-4",4,"ngIf"],["class","tab-panel",4,"ngIf"],[1,"col-lg-4"],[1,"profile-side-widget"],[1,"side-stats"],[1,"side-stat-box"],[1,"number"],[1,"label"],[1,"side-contact"],[1,"bi","bi-envelope"],[1,"bi",3,"ngClass"],[1,"btn-contact",3,"href"],["target","_blank",3,"href"],[1,"bi","bi-youtube"],[1,"bi","bi-patch-check"],[1,"add-rating","mt-4"],[1,"stars","mb-2"],[3,"filled","disabled","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["rows","3","placeholder","Write your feedback",1,"form-control","mb-2",3,"ngModelChange","ngModel","disabled"],[1,"btn","btn-accent",3,"click","disabled"],["class","text-success mt-2",4,"ngIf"],[3,"click","mouseenter","mouseleave"],[1,"text-success","mt-2"],[1,"tab-panel"],["class","cert-grid",4,"ngIf","ngIfElse"],[1,"cert-grid"],[1,"cert-card"],[1,"cert-image-wrapper"],["alt","Certificate","onerror","this.src='assets/img/apple-touch-icon.png'",1,"cert-image",3,"src"],[1,"cert-info"],["target","_blank",1,"cert-link",3,"href"],[1,"bi","bi-box-arrow-up-right"],[1,"courses-grid"],["class","course-card",4,"ngFor","ngForOf"],[1,"course-card"],[1,"course-header"],[1,"course-level"],[1,"course-meta"],[1,"bi","bi-people"],[1,"bi","bi-star-fill"],[1,"course-duration"],[1,"bi","bi-clock"]],template:function(e,n){e&1&&_(0,Um,76,25,"section",1),e&2&&d("ngIf",n.instructor)},dependencies:[z,Se,ee,F,ge,ce,le,Ie],styles:[".instructor-profile[_ngcontent-%COMP%]   .instructor-hero-banner[_ngcontent-%COMP%]{position:relative;border-radius:25px;overflow:hidden;background:linear-gradient(135deg,var(--accent-color),var(--heading-color));margin-bottom:40px}.instructor-profile[_ngcontent-%COMP%]   .instructor-hero-banner[_ngcontent-%COMP%]   .hero-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.instructor-profile[_ngcontent-%COMP%]   .instructor-hero-banner[_ngcontent-%COMP%]   .hero-background[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.instructor-profile[_ngcontent-%COMP%]   .instructor-hero-banner[_ngcontent-%COMP%]   .hero-background[_ngcontent-%COMP%]   .hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,color-mix(in srgb,var(--accent-color),transparent 20%),color-mix(in srgb,var(--accent-color),transparent 30%))}.instructor-profile[_ngcontent-%COMP%]   .instructor-hero-banner[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{position:relative;z-index:2;padding:60px 40px;display:flex;align-items:center;gap:40px}.instructor-profile[_ngcontent-%COMP%]   .instructor-hero-banner[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .instructor-avatar[_ngcontent-%COMP%]{position:relative;flex-shrink:0}.instructor-profile[_ngcontent-%COMP%]   .instructor-hero-banner[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .instructor-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:180px;height:180px;border-radius:50%;border:6px solid var(--contrast-color);object-fit:cover;box-shadow:0 20px 40px color-mix(in srgb,var(--default-color),transparent 70%)}.instructor-profile[_ngcontent-%COMP%]   .instructor-hero-banner[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .instructor-avatar[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:10px;background-color:var(--contrast-color);color:var(--accent-color);padding:8px 12px;border-radius:20px;font-size:12px;font-weight:600;display:flex;align-items:center;gap:5px}.instructor-profile[_ngcontent-%COMP%]   .instructor-hero-banner[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .instructor-info[_ngcontent-%COMP%]{color:var(--contrast-color)}.instructor-profile[_ngcontent-%COMP%]   .instructor-hero-banner[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .instructor-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--contrast-color);font-size:42px;font-weight:700;margin-bottom:10px}.instructor-profile[_ngcontent-%COMP%]   .instructor-hero-banner[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .instructor-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;margin-bottom:20px;opacity:.9}.instructor-profile[_ngcontent-%COMP%]   .credentials[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:25px}.instructor-profile[_ngcontent-%COMP%]   .credentials[_ngcontent-%COMP%]   .credential[_ngcontent-%COMP%]{background-color:color-mix(in srgb,var(--contrast-color),transparent 80%);color:var(--contrast-color);padding:8px 16px;border-radius:15px;font-size:14px;font-weight:600;border:2px solid transparent;transition:all .25s ease;cursor:pointer}.instructor-profile[_ngcontent-%COMP%]   .credentials[_ngcontent-%COMP%]   .credential[_ngcontent-%COMP%]:hover{border-color:var(--accent-color);background-color:color-mix(in srgb,var(--accent-color),transparent 85%);color:var(--accent-color);transform:translateY(-2px)}.add-rating[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   span.disabled[_ngcontent-%COMP%]:hover, .add-rating[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   span.disabled[_ngcontent-%COMP%]:hover ~ span[_ngcontent-%COMP%]{transform:none;color:#ffc107;cursor:not-allowed}.instructor-profile[_ngcontent-%COMP%]   .rating-overview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:30px;padding:8px 14px;border-radius:15px;border:2px solid transparent;transition:all .25s ease;cursor:pointer;width:fit-content;background-color:color-mix(in srgb,var(--contrast-color),transparent 80%)}.instructor-profile[_ngcontent-%COMP%]   .rating-overview[_ngcontent-%COMP%]:hover{border-color:var(--accent-color);background-color:color-mix(in srgb,var(--accent-color),transparent 90%);transform:translateY(-2px)}.instructor-profile[_ngcontent-%COMP%]   .rating-overview[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffc107;font-size:18px;margin-right:2px}.instructor-profile[_ngcontent-%COMP%]   .rating-overview[_ngcontent-%COMP%]   .rating-text[_ngcontent-%COMP%]{font-size:16px;opacity:.9}.instructor-profile[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.instructor-profile[_ngcontent-%COMP%]   .btn-contact[_ngcontent-%COMP%]{background-color:var(--contrast-color);color:var(--accent-color);padding:15px 30px;border-radius:25px;font-weight:600;text-decoration:none;display:flex;align-items:center;gap:8px;transition:all .3s ease}.instructor-profile[_ngcontent-%COMP%]   .btn-contact[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px color-mix(in srgb,var(--default-color),transparent 70%)}.instructor-profile[_ngcontent-%COMP%]   .social-media[_ngcontent-%COMP%]{display:flex;gap:10px}.instructor-profile[_ngcontent-%COMP%]   .social-media[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:45px;height:45px;background-color:color-mix(in srgb,var(--contrast-color),transparent 80%);color:var(--contrast-color);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:18px;transition:all .3s ease}.instructor-profile[_ngcontent-%COMP%]   .social-media[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--contrast-color);color:var(--accent-color);transform:translateY(-3px)}@media (max-width: 992px){.instructor-profile[_ngcontent-%COMP%]   .instructor-hero-banner[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:30px}}@media (max-width: 768px){.instructor-profile[_ngcontent-%COMP%]   .instructor-hero-banner[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{padding:40px 20px}.instructor-profile[_ngcontent-%COMP%]   .instructor-hero-banner[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .instructor-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:140px;height:140px}.instructor-profile[_ngcontent-%COMP%]   .instructor-hero-banner[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .instructor-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px}}.instructor-profile[_ngcontent-%COMP%]   .profile-tabs[_ngcontent-%COMP%]{background-color:var(--surface-color);border-radius:18px;padding:16px;box-shadow:0 5px 20px color-mix(in srgb,var(--default-color),transparent 90%)}.instructor-profile[_ngcontent-%COMP%]   .tab-buttons[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:16px}.instructor-profile[_ngcontent-%COMP%]   .tab-button[_ngcontent-%COMP%]{border:none;border-radius:12px;padding:10px 18px;font-size:14px;display:flex;align-items:center;gap:6px;background-color:transparent;color:var(--default-color);cursor:pointer;transition:.25s}.instructor-profile[_ngcontent-%COMP%]   .tab-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.instructor-profile[_ngcontent-%COMP%]   .tab-button.active[_ngcontent-%COMP%]{background-color:var(--accent-color);color:var(--contrast-color)}.instructor-profile[_ngcontent-%COMP%]   .tab-button[_ngcontent-%COMP%]:hover:not(.active){background-color:color-mix(in srgb,var(--accent-color),transparent 90%);color:var(--accent-color)}.instructor-profile[_ngcontent-%COMP%]   .tab-panel[_ngcontent-%COMP%]{padding:20px 8px 10px}.instructor-profile[_ngcontent-%COMP%]   .tab-panel[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px;margin-bottom:12px;color:var(--heading-color)}.instructor-profile[_ngcontent-%COMP%]   .cert-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.instructor-profile[_ngcontent-%COMP%]   .cert-card[_ngcontent-%COMP%]{display:flex;gap:18px;padding:16px;border-radius:14px;background-color:var(--surface-color);border:2px solid transparent;box-shadow:0 3px 15px #00000014;transition:all .3s ease;cursor:pointer}.instructor-profile[_ngcontent-%COMP%]   .cert-card[_ngcontent-%COMP%]:hover{border-color:var(--accent-color);transform:translateY(-5px);box-shadow:0 12px 28px #0000001f}.instructor-profile[_ngcontent-%COMP%]   .cert-image-wrapper[_ngcontent-%COMP%]{flex-shrink:0}.instructor-profile[_ngcontent-%COMP%]   .cert-image[_ngcontent-%COMP%]{width:140px;height:100px;object-fit:cover;border-radius:10px;box-shadow:0 5px 15px color-mix(in srgb,var(--default-color),transparent 85%)}.instructor-profile[_ngcontent-%COMP%]   .cert-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 6px;font-size:16px;color:var(--heading-color)}.instructor-profile[_ngcontent-%COMP%]   .cert-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin-bottom:8px}.instructor-profile[_ngcontent-%COMP%]   .cert-link[_ngcontent-%COMP%]{font-size:13px;font-weight:600;text-decoration:none;color:var(--accent-color)}.instructor-profile[_ngcontent-%COMP%]   .cert-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.instructor-profile[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px}.instructor-profile[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]{background-color:var(--surface-color);border-radius:14px;padding:16px;box-shadow:0 4px 16px color-mix(in srgb,var(--default-color),transparent 92%);transition:.25s}.instructor-profile[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 22px color-mix(in srgb,var(--default-color),transparent 86%)}.instructor-profile[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.instructor-profile[_ngcontent-%COMP%]   .course-level[_ngcontent-%COMP%]{font-size:11px;text-transform:uppercase;padding:4px 10px;border-radius:999px;background-color:color-mix(in srgb,var(--accent-color),transparent 90%);color:var(--accent-color);font-weight:600}.instructor-profile[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;margin:10px 0;color:var(--heading-color)}.instructor-profile[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:13px;margin-bottom:8px;color:color-mix(in srgb,var(--default-color),transparent 20%)}.instructor-profile[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--accent-color)}.instructor-profile[_ngcontent-%COMP%]   .course-duration[_ngcontent-%COMP%]{font-size:13px;color:color-mix(in srgb,var(--default-color),transparent 30%)}.add-rating[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{display:flex;gap:5px;font-size:28px;cursor:pointer}.add-rating[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transition:transform .2s,color .2s;color:#ddd}.add-rating[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   span.filled[_ngcontent-%COMP%]{color:#ffc107}.add-rating[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover, .add-rating[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover ~ span[_ngcontent-%COMP%]{transform:scale(1.2);color:#ffca28}.instructor-profile[_ngcontent-%COMP%]   .profile-side-widget[_ngcontent-%COMP%]{background-color:var(--surface-color);padding:20px;border-radius:16px;box-shadow:0 5px 20px color-mix(in srgb,var(--default-color),transparent 90%)}.instructor-profile[_ngcontent-%COMP%]   .profile-side-widget[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;margin-bottom:16px;color:var(--heading-color)}.instructor-profile[_ngcontent-%COMP%]   .side-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-bottom:16px}.instructor-profile[_ngcontent-%COMP%]   .side-stat-box[_ngcontent-%COMP%]{text-align:center;padding:10px;border-radius:10px;border:2px solid color-mix(in srgb,var(--accent-color),transparent 85%);transition:all .25s ease;cursor:pointer}.instructor-profile[_ngcontent-%COMP%]   .side-stat-box[_ngcontent-%COMP%]:hover{border-color:var(--accent-color);background-color:color-mix(in srgb,var(--accent-color),transparent 92%);transform:translateY(-3px)}.instructor-profile[_ngcontent-%COMP%]   .side-stat-box[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--heading-color)}.instructor-profile[_ngcontent-%COMP%]   .side-stat-box[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:11px;text-transform:uppercase;color:color-mix(in srgb,var(--default-color),transparent 40%)}.instructor-profile[_ngcontent-%COMP%]   .side-contact[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;margin-bottom:8px}.instructor-profile[_ngcontent-%COMP%]   .side-contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;margin:2px 0}.instructor-profile[_ngcontent-%COMP%]   .side-contact[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:6px}@media (max-width: 992px){.instructor-profile[_ngcontent-%COMP%]   .profile-tabs[_ngcontent-%COMP%]{margin-bottom:20px}}@media (max-width: 768px){.instructor-profile[_ngcontent-%COMP%]   .cert-card[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}.instructor-profile[_ngcontent-%COMP%]   .cert-image[_ngcontent-%COMP%]{width:100%;height:auto}}"]})};function Bm(o,t){o&1&&(a(0,"small",21),s(1," Valid email is required "),r())}function Qm(o,t){o&1&&(a(0,"small",21),s(1," Password is required (min 6 characters) "),r())}function Wm(o,t){o&1&&(a(0,"small",21),s(1," Full Name is required "),r())}function $m(o,t){o&1&&(a(0,"small",21),s(1," Job Title is required "),r())}function Ym(o,t){o&1&&(a(0,"small",21),s(1," Rating must be between 1 and 5 "),r())}function Hm(o,t){o&1&&(a(0,"small",21),s(1," Phone number is required "),r())}function Gm(o,t){o&1&&f(0,"span",22)}var Qi=class o{constructor(t,e,n,m){this.service=t;this.auth=e;this.router=n;this.snackBar=m}model={email:"",password:"",fullName:"",jobTitle:"",rating:1,phoneNumber:"",youtubeChannelUrl:"",photoUrl:"",certificateUrl:""};isSubmitting=!1;submit(t){if(this.isSubmitting=!0,t.invalid){this.snackBar.open("Please fill in all required fields correctly","error"),this.isSubmitting=!1;return}this.service.create(this.model).subscribe({next:e=>{this.snackBar.open("Instructor created successfully","success"),this.isSubmitting=!1,this.router.navigate(["/instructors"])},error:e=>{this.snackBar.open(e.error?.message||"Failed to create instructor","error"),console.error("Error creating instructor:",e),this.isSubmitting=!1}})}static \u0275fac=function(e){return new(e||o)(v(Le),v(Oe),v(V),v(ae))};static \u0275cmp=T({type:o,selectors:[["app-add-instructor"]],decls:47,vars:17,consts:[["instructorForm","ngForm"],["email","ngModel"],["password","ngModel"],["fullName","ngModel"],["jobTitle","ngModel"],["rating","ngModel"],["phone","ngModel"],[1,"form-container"],[3,"ngSubmit"],["type","email","name","email","required","","email","","placeholder","Email",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["type","password","name","password","required","","minlength","6","placeholder","Password",3,"ngModelChange","ngModel"],["type","text","name","fullName","required","","placeholder","Full Name",3,"ngModelChange","ngModel"],["type","text","name","jobTitle","required","","placeholder","Job Title",3,"ngModelChange","ngModel"],["type","number","name","rating","min","1","max","5","placeholder","Rating",3,"ngModelChange","ngModel"],["type","text","name","phoneNumber","required","","placeholder","Phone Number",3,"ngModelChange","ngModel"],["type","text","name","youtubeChannelUrl","placeholder","Youtube Channel URL",3,"ngModelChange","ngModel"],["type","text","name","photoUrl","placeholder","Photo URL",3,"ngModelChange","ngModel"],["type","text","name","certificateUrl","placeholder","Certificate URL",3,"ngModelChange","ngModel"],["type","submit",1,"btn-save",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(e,n){if(e&1){let m=E();a(0,"div",7)(1,"h2"),s(2,"Add Instructor"),r(),a(3,"form",8,0),y("ngSubmit",function(){C(m);let w=_e(4);return M(n.submit(w))}),a(5,"label"),s(6,"Email *"),r(),a(7,"input",9,1),W("ngModelChange",function(w){return C(m),Q(n.model.email,w)||(n.model.email=w),M(w)}),r(),_(9,Bm,2,0,"small",10),a(10,"label"),s(11,"Password *"),r(),a(12,"input",11,2),W("ngModelChange",function(w){return C(m),Q(n.model.password,w)||(n.model.password=w),M(w)}),r(),_(14,Qm,2,0,"small",10),a(15,"label"),s(16,"Full Name *"),r(),a(17,"input",12,3),W("ngModelChange",function(w){return C(m),Q(n.model.fullName,w)||(n.model.fullName=w),M(w)}),r(),_(19,Wm,2,0,"small",10),a(20,"label"),s(21,"Job Title *"),r(),a(22,"input",13,4),W("ngModelChange",function(w){return C(m),Q(n.model.jobTitle,w)||(n.model.jobTitle=w),M(w)}),r(),_(24,$m,2,0,"small",10),a(25,"label"),s(26,"Rating"),r(),a(27,"input",14,5),W("ngModelChange",function(w){return C(m),Q(n.model.rating,w)||(n.model.rating=w),M(w)}),r(),_(29,Ym,2,0,"small",10),a(30,"label"),s(31,"Phone Number *"),r(),a(32,"input",15,6),W("ngModelChange",function(w){return C(m),Q(n.model.phoneNumber,w)||(n.model.phoneNumber=w),M(w)}),r(),_(34,Hm,2,0,"small",10),a(35,"label"),s(36,"Youtube Channel"),r(),a(37,"input",16),W("ngModelChange",function(w){return C(m),Q(n.model.youtubeChannelUrl,w)||(n.model.youtubeChannelUrl=w),M(w)}),r(),a(38,"label"),s(39,"Photo URL"),r(),a(40,"input",17),W("ngModelChange",function(w){return C(m),Q(n.model.photoUrl,w)||(n.model.photoUrl=w),M(w)}),r(),a(41,"label"),s(42,"Certificate URL"),r(),a(43,"input",18),W("ngModelChange",function(w){return C(m),Q(n.model.certificateUrl,w)||(n.model.certificateUrl=w),M(w)}),r(),a(44,"button",19),_(45,Gm,1,0,"span",20),s(46," Save "),r()()()}if(e&2){let m=_e(8),h=_e(13),w=_e(18),Ue=_e(23),ht=_e(28),_t=_e(33);c(7),B("ngModel",n.model.email),c(2),d("ngIf",m.invalid&&(m.touched||n.isSubmitting)),c(3),B("ngModel",n.model.password),c(2),d("ngIf",h.invalid&&(h.touched||n.isSubmitting)),c(3),B("ngModel",n.model.fullName),c(2),d("ngIf",w.invalid&&(w.touched||n.isSubmitting)),c(3),B("ngModel",n.model.jobTitle),c(2),d("ngIf",Ue.invalid&&(Ue.touched||n.isSubmitting)),c(3),B("ngModel",n.model.rating),c(2),d("ngIf",ht.invalid&&(ht.touched||n.isSubmitting)),c(3),B("ngModel",n.model.phoneNumber),c(2),d("ngIf",_t.invalid&&(_t.touched||n.isSubmitting)),c(3),B("ngModel",n.model.youtubeChannelUrl),c(3),B("ngModel",n.model.photoUrl),c(3),B("ngModel",n.model.certificateUrl),c(),d("disabled",n.isSubmitting),c(),d("ngIf",n.isSubmitting)}},dependencies:[z,F,ge,ye,ce,Xe,le,Me,Ve,Ti,Hs,En,Ei,Ie,Re,de],styles:[".form-container[_ngcontent-%COMP%]{max-width:500px;margin:30px auto;background:var(--background-color);padding:20px 24px;border-radius:12px;box-shadow:0 4px 12px #000000b7}.form-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:16px}label[_ngcontent-%COMP%]{display:block;margin-top:10px;font-size:13px;font-weight:600}input[_ngcontent-%COMP%]{width:100%;padding:8px 10px;border-radius:8px;border:1px solid var(--border-color);margin-top:4px}.btn-save[_ngcontent-%COMP%]{margin-top:16px;padding:8px 18px;border-radius:20px;border:none;background:var(--accent-color);color:var(--contrast-color);cursor:pointer}"]})};function Jm(o,t){o&1&&(a(0,"small",19),s(1," Full Name is required "),r())}function Km(o,t){o&1&&(a(0,"small",19),s(1," Job Title is required "),r())}function Xm(o,t){o&1&&(a(0,"small",19),s(1," Rating must be between 1 and 5 "),r())}function Zm(o,t){o&1&&(a(0,"small",19),s(1," Phone number is required "),r())}function ep(o,t){o&1&&f(0,"span",20)}function tp(o,t){if(o&1){let e=E();a(0,"div",7)(1,"h2"),s(2,"Edit Instructor"),r(),a(3,"form",8,0),y("ngSubmit",function(){C(e);let m=_e(4),h=g();return M(h.save(m))}),a(5,"label"),s(6,"Full Name *"),r(),a(7,"input",9,1),W("ngModelChange",function(m){C(e);let h=g();return Q(h.model.fullName,m)||(h.model.fullName=m),M(m)}),r(),_(9,Jm,2,0,"small",10),a(10,"label"),s(11,"Job Title *"),r(),a(12,"input",11,2),W("ngModelChange",function(m){C(e);let h=g();return Q(h.model.jobTitle,m)||(h.model.jobTitle=m),M(m)}),r(),_(14,Km,2,0,"small",10),a(15,"label"),s(16,"Rating"),r(),a(17,"input",12,3),W("ngModelChange",function(m){C(e);let h=g();return Q(h.model.rating,m)||(h.model.rating=m),M(m)}),r(),_(19,Xm,2,0,"small",10),a(20,"label"),s(21,"Phone Number *"),r(),a(22,"input",13,4),W("ngModelChange",function(m){C(e);let h=g();return Q(h.model.phoneNumber,m)||(h.model.phoneNumber=m),M(m)}),r(),_(24,Zm,2,0,"small",10),a(25,"label"),s(26,"Youtube Channel"),r(),a(27,"input",14),W("ngModelChange",function(m){C(e);let h=g();return Q(h.model.youtubeChannelUrl,m)||(h.model.youtubeChannelUrl=m),M(m)}),r(),a(28,"label"),s(29,"Photo URL"),r(),a(30,"input",15),W("ngModelChange",function(m){C(e);let h=g();return Q(h.model.photoUrl,m)||(h.model.photoUrl=m),M(m)}),r(),a(31,"label"),s(32,"Certificate URL"),r(),a(33,"input",16),W("ngModelChange",function(m){C(e);let h=g();return Q(h.model.certificateUrl,m)||(h.model.certificateUrl=m),M(m)}),r(),a(34,"button",17),_(35,ep,1,0,"span",18),s(36," Save Changes "),r()()()}if(o&2){let e=_e(8),n=_e(13),m=_e(18),h=_e(23),w=g();c(7),B("ngModel",w.model.fullName),c(2),d("ngIf",e.invalid&&(e.touched||w.isSubmitting)),c(3),B("ngModel",w.model.jobTitle),c(2),d("ngIf",n.invalid&&(n.touched||w.isSubmitting)),c(3),B("ngModel",w.model.rating),c(2),d("ngIf",m.invalid&&(m.touched||w.isSubmitting)),c(3),B("ngModel",w.model.phoneNumber),c(2),d("ngIf",h.invalid&&(h.touched||w.isSubmitting)),c(3),B("ngModel",w.model.youtubeChannelUrl),c(3),B("ngModel",w.model.photoUrl),c(3),B("ngModel",w.model.certificateUrl),c(),d("disabled",w.isSubmitting),c(),d("ngIf",w.isSubmitting)}}function np(o,t){o&1&&(a(0,"div",21),s(1,` Loading instructor...
`),r())}var Wi=class o{constructor(t,e,n,m){this.service=t;this.route=e;this.router=n;this.snackBar=m}model={};id;loading=!0;isSubmitting=!1;ngOnInit(){this.id=Number(this.route.snapshot.paramMap.get("id")),this.service.getById(this.id).subscribe({next:t=>{this.model=t,this.loading=!1},error:t=>{console.error(t),this.loading=!1}})}save(t){if(this.isSubmitting=!0,t.invalid){this.snackBar.open("Please fill in all required fields correctly","error"),this.isSubmitting=!1;return}this.service.update(this.id,this.model).subscribe({next:e=>{this.snackBar.open("Instructor updated successfully","success"),this.isSubmitting=!1,this.router.navigate(["/instructors"])},error:e=>{console.error("ERROR FROM UPDATE:",e),this.snackBar.open(e.error?.message||"Failed to update instructor","error"),this.isSubmitting=!1}})}static \u0275fac=function(e){return new(e||o)(v(Le),v(oe),v(V),v(ae))};static \u0275cmp=T({type:o,selectors:[["app-edit-instructor"]],decls:2,vars:2,consts:[["instructorForm","ngForm"],["fullName","ngModel"],["jobTitle","ngModel"],["rating","ngModel"],["phone","ngModel"],["class","form-container",4,"ngIf"],["class","loading-text",4,"ngIf"],[1,"form-container"],[3,"ngSubmit"],["type","text","name","fullName","required","","placeholder","Full Name",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["type","text","name","jobTitle","required","","placeholder","Job Title",3,"ngModelChange","ngModel"],["type","number","name","rating","min","1","max","5","placeholder","Rating",3,"ngModelChange","ngModel"],["type","text","name","phoneNumber","required","","placeholder","Phone Number",3,"ngModelChange","ngModel"],["type","text","name","youtubeChannelUrl","placeholder","Youtube Channel URL",3,"ngModelChange","ngModel"],["type","text","name","photoUrl","placeholder","Photo URL",3,"ngModelChange","ngModel"],["type","text","name","certificateUrl","placeholder","Certificate URL",3,"ngModelChange","ngModel"],["type","submit",1,"btn-save",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","me-1"],[1,"loading-text"]],template:function(e,n){e&1&&_(0,tp,37,13,"div",5)(1,np,2,0,"div",6),e&2&&(d("ngIf",!n.loading),c(),d("ngIf",n.loading))},dependencies:[z,F,ge,ye,ce,Xe,le,Me,Ve,En,Ei,Ie,Re,de],styles:[".form-container[_ngcontent-%COMP%]{max-width:500px;margin:30px auto;background:#fff;padding:20px 24px;border-radius:12px;box-shadow:0 4px 12px #0000000f}.form-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:16px;font-size:20px;font-weight:700}.form-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-top:10px;margin-bottom:4px;font-size:13px;font-weight:600}.form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px 10px;border-radius:8px;border:1px solid #ddd;margin-top:2px;font-size:14px;transition:border-color .2s ease,box-shadow .2s ease;box-sizing:border-box}.form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--accent-color, #0d6efd);box-shadow:0 0 0 2px #0d6efd26}.btn-save[_ngcontent-%COMP%]{margin-top:18px;padding:8px 18px;border-radius:20px;border:none;background:var(--accent-color, #0d6efd);color:var(--contrast-color, #fff);cursor:pointer;font-size:14px;font-weight:600;transition:background .2s ease,transform .15s ease,box-shadow .15s ease}.btn-save[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 10px #00000014}.btn-save[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:none}.loading-text[_ngcontent-%COMP%]{text-align:center;margin:40px 0;font-size:14px;opacity:.7}@media (max-width: 576px){.form-container[_ngcontent-%COMP%]{margin:16px;padding:16px}.form-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}}"]})};function ip(o,t){o&1&&(a(0,"div",2),s(1,` Loading instructor data...
`),r())}function op(o,t){if(o&1&&(a(0,"p")(1,"strong"),s(2,"Youtube:"),r(),a(3,"a",13),s(4),r()()),o&2){let e=g(2);c(3),d("href",e.instructor.youtubeChannelUrl,ne),c(),O(" ",e.instructor.youtubeChannelUrl," ")}}function rp(o,t){if(o&1&&(a(0,"p")(1,"strong"),s(2,"Certificate:"),r(),a(3,"a",13),s(4," View certificate "),r()()),o&2){let e=g(2);c(3),d("href",e.instructor.certificateUrl,ne)}}function ap(o,t){if(o&1){let e=E();a(0,"div",3)(1,"h2"),s(2,"Confirm Delete Instructor"),r(),a(3,"p",4),s(4," Are you sure you want to delete this instructor? This action cannot be undone. "),r(),a(5,"div",5)(6,"div",6),f(7,"img",7),a(8,"div")(9,"h3"),s(10),r(),a(11,"p"),s(12),r()()(),a(13,"div",8)(14,"p")(15,"strong"),s(16,"Email:"),r(),s(17),r(),a(18,"p")(19,"strong"),s(20,"Phone:"),r(),s(21),r(),a(22,"p")(23,"strong"),s(24,"Rating:"),r(),s(25),r(),a(26,"p")(27,"strong"),s(28,"Students:"),r(),s(29),r(),_(30,op,5,2,"p",9)(31,rp,5,1,"p",9),r()(),a(32,"div",10)(33,"button",11),y("click",function(){C(e);let m=g();return M(m.cancel())}),s(34,"Cancel"),r(),a(35,"button",12),y("click",function(){C(e);let m=g();return M(m.confirmDelete())}),s(36,"Confirm Delete"),r()()()}if(o&2){let e=g();c(7),d("src",e.instructor.photoUrl||"assets/images/default-instructor.jpg",ne),c(3),N(e.instructor.fullName),c(2),N(e.instructor.jobTitle),c(5),O(" ",e.instructor.email||"N/A"),c(4),O(" ",e.instructor.phoneNumber),c(4),O(" ",e.instructor.rating),c(4),O(" ",e.instructor.numberOfStudents),c(),d("ngIf",e.instructor.youtubeChannelUrl),c(),d("ngIf",e.instructor.certificateUrl)}}var $i=class o{constructor(t,e,n,m){this.route=t;this.router=e;this.service=n;this.snackBar=m}instructor;id;loading=!0;ngOnInit(){this.id=Number(this.route.snapshot.paramMap.get("id")),this.service.getById(this.id).subscribe({next:t=>{this.instructor=t,this.snackBar.open("Instructor data loaded","success"),this.loading=!1},error:t=>{console.error(t),this.snackBar.open("Failed to load instructor data","error"),this.loading=!1}})}cancel(){this.router.navigate(["/instructors"])}confirmDelete(){this.id&&this.service.delete(this.id).subscribe({next:()=>{this.router.navigate(["/instructors"])},error:t=>console.error(t)})}static \u0275fac=function(e){return new(e||o)(v(oe),v(V),v(Le),v(ae))};static \u0275cmp=T({type:o,selectors:[["app-delete-instructor"]],decls:2,vars:2,consts:[["class","loading-text",4,"ngIf"],["class","confirm-container",4,"ngIf"],[1,"loading-text"],[1,"confirm-container"],[1,"warning-text"],[1,"card"],[1,"card-header"],["alt","Instructor",3,"src"],[1,"card-body"],[4,"ngIf"],[1,"btn-row"],[1,"btn-cancel",3,"click"],[1,"btn-confirm",3,"click"],["target","_blank",3,"href"]],template:function(e,n){e&1&&_(0,ip,2,0,"div",0)(1,ap,37,9,"div",1),e&2&&(d("ngIf",n.loading),c(),d("ngIf",!n.loading&&n.instructor))},dependencies:[z,F,de],styles:[".confirm-container[_ngcontent-%COMP%]{max-width:600px;margin:30px auto;background:#fff;padding:20px 24px;border-radius:12px;box-shadow:0 4px 12px #0000000f}.warning-text[_ngcontent-%COMP%]{color:#e63946;font-weight:600}.card[_ngcontent-%COMP%]{margin-top:16px;border-radius:10px;border:1px solid #eee;padding:12px 14px}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.card-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;object-fit:cover}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0}.btn-row[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:18px}.btn-cancel[_ngcontent-%COMP%], .btn-confirm[_ngcontent-%COMP%]{border:none;border-radius:20px;padding:8px 16px;font-size:13px;font-weight:600;cursor:pointer}.btn-cancel[_ngcontent-%COMP%]{background:#ddd}.btn-confirm[_ngcontent-%COMP%]{background:#e63946;color:#fff}"]})};var Ln=class o{constructor(t){this.sanitizer=t}transform(t,e){return e==="resourceUrl"?this.sanitizer.bypassSecurityTrustResourceUrl(t):t}static \u0275fac=function(e){return new(e||o)(v(Vs,16))};static \u0275pipe=Ps({name:"safe",type:o,pure:!0})};var sp=()=>["/courses/add"],cp=()=>[1,2,3,4,5,6,7,8],lp=(o,t)=>({"bi-star-fill text-warning":o,"bi-star text-muted":t}),dp=o=>["/courses/edit",o],mp=o=>["/Courses/delete",o];function pp(o,t){o&1&&(a(0,"button",30),f(1,"i",31),a(2,"span"),s(3,"Add New Course"),r()()),o&2&&d("routerLink",pe(1,sp))}function up(o,t){o&1&&(a(0,"div",34),f(1,"app-skeleton-card",35),r()),o&2&&(c(),d("showImage",!0)("lines",3)("showActions",!0))}function gp(o,t){o&1&&(a(0,"div",32),_(1,up,2,3,"div",33),r()),o&2&&(c(),d("ngForOf",pe(1,cp)))}function fp(o,t){if(o&1&&(St(0),f(1,"i",60),It()),o&2){let e=t.$implicit,n=g().$implicit;c(),d("ngClass",De(1,lp,e<=(n.rating||0),e>(n.rating||0)))}}function hp(o,t){if(o&1){let e=E();a(0,"button",61),y("click",function(m){return C(e),M(m.stopPropagation())}),f(1,"i",62),r()}if(o&2){let e=g().$implicit;d("routerLink",Be(1,dp,e.crs_Id))}}function _p(o,t){if(o&1){let e=E();a(0,"button",63),y("click",function(m){return C(e),M(m.stopPropagation())}),f(1,"i",64),r()}if(o&2){let e=g().$implicit;d("routerLink",Be(1,mp,e.crs_Id))}}function bp(o,t){o&1&&(a(0,"span"),f(1,"i",70),s(2," Enroll Now "),r())}function vp(o,t){o&1&&(a(0,"span"),f(1,"span",71),s(2," Enrolling... "),r())}function xp(o,t){if(o&1){let e=E();a(0,"button",68),y("click",function(){C(e);let m=g(2).$implicit,h=g(2);return M(h.enroll(m))}),_(1,bp,3,0,"span",69)(2,vp,3,0,"span",69),r()}if(o&2){let e=g(2).$implicit,n=g(2);d("disabled",n.isEnrolling(e.crs_Id)),c(),d("ngIf",!n.isEnrolling(e.crs_Id)),c(),d("ngIf",n.isEnrolling(e.crs_Id))}}function Cp(o,t){o&1&&(a(0,"div",72),f(1,"i",73),s(2," Enrolled "),r())}function Mp(o,t){if(o&1){let e=E();a(0,"div",65),y("click",function(m){return C(e),M(m.stopPropagation())}),_(1,xp,3,3,"button",66)(2,Cp,3,0,"div",67),r()}if(o&2){let e=g().$implicit,n=g(2);c(),d("ngIf",!n.isEnrolledInCourse(e.crs_Id)),c(),d("ngIf",n.isEnrolledInCourse(e.crs_Id))}}function yp(o,t){if(o&1){let e=E();a(0,"div",38)(1,"div",39),y("click",function(){let m=C(e).$implicit,h=g(2);return M(h.goToUnits(m))}),a(2,"div",40),f(3,"img",41),a(4,"div",42),s(5),r()(),a(6,"div",43)(7,"div",44)(8,"span",45),s(9,"Programming"),r(),a(10,"span",46),s(11,"All Levels"),r()(),a(12,"div",47),_(13,fp,2,4,"ng-container",48),a(14,"small",49),s(15),r()(),a(16,"h5",50),s(17),r(),a(18,"p",51),s(19),r(),a(20,"div",52),f(21,"img",53),a(22,"span"),s(23),r()(),a(24,"div",54)(25,"button",55),y("click",function(){let m=C(e).$implicit,h=g(2);return M(h.viewDetails(m))}),s(26," View Details "),r(),a(27,"div",56),_(28,hp,2,3,"button",57)(29,_p,2,3,"button",58),r()(),_(30,Mp,3,2,"div",59),r()()()}if(o&2){let e=t.$implicit,n=g(2);c(3),d("src",n.getCourseImage(e),ne)("alt",e.crs_Name),c(2),O("",e.price," EGP"),c(8),d("ngForOf",n.getStarsArray()),c(2),O("(",e.rating||0,")"),c(2),N(e.crs_Name),c(2),N(e.crs_Description),c(2),d("src",n.getInstructorImage(e),ne),c(2),N(n.getInstructorName(e)),c(5),d("ngIf",n.isAdmin),c(),d("ngIf",n.isAdmin),c(),d("ngIf",n.isStudent)}}function wp(o,t){if(o&1&&(a(0,"div",36),_(1,yp,31,12,"div",37),r()),o&2){let e=g();c(),d("ngForOf",e.paginatedCourses)}}function Pp(o,t){o&1&&(a(0,"span"),f(1,"i",91),s(2," Confirm & Pay "),r())}function Op(o,t){o&1&&(a(0,"span"),f(1,"span",71),s(2," Processing... "),r())}function Sp(o,t){if(o&1){let e=E();a(0,"div",10)(1,"div",11)(2,"h5",12),f(3,"i",70),s(4," Confirm Enrollment "),r(),a(5,"button",74),y("click",function(){C(e);let m=g();return M(m.closeEnrollModal())}),r()(),a(6,"div",75)(7,"div",76),f(8,"img",77),r(),a(9,"h4",76),s(10),r(),a(11,"div",78)(12,"div",79)(13,"span",80),f(14,"i",81),s(15,"Instructor: "),r(),a(16,"span",82),s(17),r()(),a(18,"div",79)(19,"span",80),f(20,"i",83),s(21,"Price: "),r(),a(22,"span",84),s(23),r()(),a(24,"div",85)(25,"span",80),f(26,"i",13),s(27,"Payment Method: "),r(),a(28,"span",82),s(29,"Credit Card \u{1F4B3}"),r()()(),a(30,"div",86),f(31,"i",87),a(32,"small"),s(33,"You will be charged "),a(34,"strong"),s(35),r(),s(36,"."),r()()(),a(37,"div",88)(38,"button",89),y("click",function(){C(e);let m=g();return M(m.closeEnrollModal())}),s(39," Cancel "),r(),a(40,"button",90),y("click",function(){C(e);let m=g();return M(m.confirmEnrollment())}),_(41,Pp,3,0,"span",69)(42,Op,3,0,"span",69),r()()()}if(o&2){let e=g();c(5),d("disabled",e.enrollingCourseId!==null),c(3),d("src",e.getCourseImage(e.selectedCourse),ne)("alt",e.selectedCourse.crs_Name),c(2),N(e.selectedCourse.crs_Name),c(7),N(e.getInstructorName(e.selectedCourse)),c(6),O("",e.selectedCourse.price," EGP"),c(12),O("",e.selectedCourse.price," EGP"),c(3),d("disabled",e.enrollingCourseId!==null),c(2),d("disabled",e.enrollingCourseId!==null),c(),d("ngIf",e.enrollingCourseId===null),c(),d("ngIf",e.enrollingCourseId!==null)}}function Ip(o,t){if(o&1&&(f(0,"iframe",92),Ee(1,"safe")),o&2){let e=g();d("src",He(1,1,e.paymentUrl,"resourceUrl"),Mi)}}function kp(o,t){if(o&1&&(a(0,"div",93)(1,"small"),f(2,"i",94),a(3,"strong"),s(4,"Transaction ID:"),r(),s(5),r()()),o&2){let e=g();c(5),O(" ",e.transactionId," ")}}function Ep(o,t){o&1&&(a(0,"div",95)(1,"p",80),f(2,"i",96),s(3," A confirmation email has been sent. "),r()())}function Tp(o,t){if(o&1){let e=E();a(0,"button",97),y("click",function(){C(e);let m=g();return M(m.goToMyCourses())}),f(1,"i",70),s(2," View My Courses "),r()}}function Np(o,t){if(o&1){let e=E();a(0,"div",98)(1,"app-pagination",99),y("pageChange",function(m){C(e);let h=g();return M(h.onPageChange(m))}),r()()}if(o&2){let e=g();c(),d("currentPage",e.currentPage)("totalItems",e.courses.length)("itemsPerPage",e.itemsPerPage)}}function Lp(o,t){if(o&1&&f(0,"div",100),o&2){let e=g();D("show",e.showEnrollModal||e.showPaymentIframe)}}function Ap(o,t){if(o&1&&f(0,"div",100),o&2){let e=g();D("show",e.showResultModal)}}var Yi=class o{constructor(t,e,n,m,h,w,Ue,ht){this.courseService=t;this.instructorService=e;this.authService=n;this.enrollmentService=m;this.router=h;this.route=w;this.snackBar=Ue;this.ratingService=ht}courses=[];instructors=[];imageBase=Ge.imageBase;enrolledCourses=new Set;showEnrollModal=!1;selectedCourse=null;enrollingCourseId=null;selectedPaymentMethod="Paymob";showPaymentIframe=!1;paymentUrl="";transactionId="";enrollmentMessage="";enrollmentSuccess=!1;showResultModal=!1;checkingPaymentStatus=!1;isLoading=!0;currentPage=1;itemsPerPage=8;get paginatedCourses(){let t=(this.currentPage-1)*this.itemsPerPage;return this.courses.slice(t,t+this.itemsPerPage)}get isInstructor(){return this.authService.isInstructor()}get isAdmin(){return this.authService.isAdmin()}get isStudent(){return this.authService.isStudent()}onPageChange(t){this.currentPage=t,window.scrollTo(0,0)}ngOnInit(){this.loadData(),this.loadEnrolledCourses(),this.checkPaymentCallback()}getStarsArray(){return[1,2,3,4,5]}checkPaymentCallback(){this.route.queryParams.subscribe(t=>{let e=t.success,n=t.transactionId;e==="true"&&n?this.verifyPaymentStatus(n):e==="false"&&this.showPaymentResult(!1,"Payment was cancelled or failed.")})}verifyPaymentStatus(t){this.checkingPaymentStatus=!0,this.enrollmentService.getEnrollmentStatus(t).subscribe({next:e=>{this.checkingPaymentStatus=!1,e.paymentStatus==="Completed"?(this.enrolledCourses.add(e.courseId),this.showPaymentResult(!0,"Enrollment successful! Welcome to your course.")):e.paymentStatus==="Pending"?this.showPaymentResult(!1,"Payment is still being processed. Please check back later."):this.showPaymentResult(!1,`Payment ${e.paymentStatus.toLowerCase()}. Please try again.`)},error:e=>{this.checkingPaymentStatus=!1,this.showPaymentResult(!1,"Error verifying payment status."),console.error(e)}})}loadData(){this.isLoading=!0,yn({courses:this.courseService.getAllCourses(),instructors:this.instructorService.getAll()}).subscribe({next:t=>{this.courses=t.courses,this.instructors=t.instructors,this.courses.forEach(e=>{e.crs_Id&&this.ratingService.getCourseAverage(e.crs_Id).subscribe({next:n=>{e.rating=n.average},error:()=>{e.rating=0}})}),this.isLoading=!1},error:()=>{this.isLoading=!1,this.snackBar.open("Failed to load courses","error")}})}getCourseImage(t){let e=t.imageUrl;return e?e.startsWith("http://")||e.startsWith("https://")?e:this.imageBase+e:"/assets/img/education/course-1.jpg"}getInstructorImage(t){let e=this.instructors.find(n=>n.id===t.instructorId);return!e||!e.photoUrl?"/assets/img/person/person-1.jpg":e.photoUrl}getInstructorName(t){return this.instructors.find(n=>n.id===t.instructorId)?.fullName??t.instructorName??"Unknown"}deleteCourse(t){confirm(`Are you sure to delete "${t.crs_Name}" ?`)&&this.courseService.deleteCourse(t.crs_Id).subscribe({next:e=>{console.log("Delete response:",e),this.snackBar.open("Course deleted successfully","success"),this.loadData()},error:e=>{console.error(e),this.snackBar.open("Failed to delete course","error")}})}loadEnrolledCourses(){let t=this.authService.UserId;t&&this.enrollmentService.getStudentCourses(t).subscribe({next:e=>{e.forEach(n=>{this.enrolledCourses.add(n.crs_Id)})},error:e=>console.error("Error loading enrolled courses:",e)})}isEnrolledInCourse(t){return this.enrolledCourses.has(t)}goToUnits(t){if(!this.authService.currentUserId){this.snackBar.open("\u26A0\uFE0F Please login to access course content.","error"),this.router.navigate(["/login"]);return}if(t.crs_Id==null){this.snackBar.open("\u274C Cannot access units: Course ID is missing.","error");return}this.router.navigate(["/Courses",t.crs_Id,"units"])}enroll(t){if(!this.authService.currentUserId){this.snackBar.open("\u26A0\uFE0F You must be logged in to enroll in a course.","error");return}this.selectedCourse=t,this.selectedPaymentMethod="Paymob",this.showEnrollModal=!0}confirmEnrollment(){if(!this.selectedCourse)return;let e={studentId:this.authService.UserId,courseId:this.selectedCourse.crs_Id,payment:{amount:this.selectedCourse.price,paymentMethod:this.selectedPaymentMethod}};this.enrollmentService.enrollStudent(e).subscribe({next:n=>{this.showEnrollModal=!1,n.success&&n.paymentUrl?(this.transactionId=n.transactionId,this.paymentUrl=n.paymentUrl,this.showPaymentIframe=!0):this.snackBar.open(n.message||"Failed to initiate enrollment","error")},error:n=>{this.showEnrollModal=!1,this.snackBar.open(n.error?.message||"Failed to enroll","error"),console.error(n)}})}showPaymentResult(t,e){this.enrollmentSuccess=t,this.enrollmentMessage=e,this.showResultModal=!0,this.closePaymentIframe()}closeEnrollModal(){this.showEnrollModal=!1,this.selectedCourse=null,this.enrollingCourseId=null}closePaymentIframe(){this.showPaymentIframe=!1,this.paymentUrl=""}closeResultModal(){this.showResultModal=!1,this.enrollmentMessage="",this.transactionId="",this.loadEnrolledCourses()}isEnrolling(t){return this.enrollingCourseId===t}goToMyCourses(){let t=this.authService.currentUserId;t&&this.router.navigate(["/student",t,"courses"]),this.closeResultModal()}viewDetails(t){t.crs_Id&&this.router.navigate(["/courses",t.crs_Id,"details"])}static \u0275fac=function(e){return new(e||o)(v(Ke),v(Le),v(Oe),v(Yt),v(V),v(oe),v(ae),v(ft))};static \u0275cmp=T({type:o,selectors:[["app-courses"]],decls:42,vars:43,consts:[[1,"container","py-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"fw-bold"],["class","btn btn-accent btn-add",3,"routerLink",4,"ngIf"],["class","row",4,"ngIf"],["class","row g-4",4,"ngIf"],["tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],["class","modal-content",4,"ngIf"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header","bg-primary","text-white"],[1,"modal-title"],[1,"fa","fa-credit-card","me-2"],["type","button",1,"btn-close","btn-close-white",3,"click"],[1,"modal-body","p-0"],["width","100%","height","600","frameborder","0",3,"src",4,"ngIf"],[1,"modal-header"],[1,"me-2"],[1,"modal-body","text-center","py-4"],[1,"result-icon","mb-3"],[1,"fa","fa-5x"],[1,"lead","mb-3"],["class","alert alert-success",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"modal-footer","justify-content-center"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["class","mt-4 mb-3",4,"ngIf"],["class","modal-backdrop fade",3,"show",4,"ngIf"],[1,"btn","btn-accent","btn-add",3,"routerLink"],[1,"bi","bi-plus-lg","me-1"],[1,"row"],["class","col-xl-3 col-lg-3 col-md-4 col-sm-6 mb-4",4,"ngFor","ngForOf"],[1,"col-xl-3","col-lg-3","col-md-4","col-sm-6","mb-4"],["imageHeight","200px","animation","wave",3,"showImage","lines","showActions"],[1,"row","g-4"],["class","col-xl-3 col-lg-4 col-md-6 col-sm-12",4,"ngFor","ngForOf"],[1,"col-xl-3","col-lg-4","col-md-6","col-sm-12"],[1,"course-card","h-100","shadow-sm",3,"click"],[1,"course-image-wrapper"],["alt","",1,"course-image",3,"src","alt"],[1,"course-price"],[1,"course-content","d-flex","flex-column"],[1,"course-meta","mb-2"],[1,"badge","category"],[1,"badge","level"],[1,"course-rating","mb-2"],[4,"ngFor","ngForOf"],[1,"ms-1"],[1,"card-title"],[1,"card-text","lesson-desc"],[1,"instructor-info","mb-3"],["alt","Instructor",1,"instructor-avatar",3,"src"],[1,"d-flex","justify-content-between","align-items-center","mt-auto"],[1,"btn","btn-sm","btn-outline-accent","grow","me-2",3,"click"],[1,"icon-actions","d-flex","gap-2"],["class","icon-btn-new btn btn-sm btn-light","title","Edit",3,"routerLink","click",4,"ngIf"],["class","icon-btn-new btn btn-sm btn-light","title","Delete",3,"routerLink","click",4,"ngIf"],["class","enroll-section mt-3",3,"click",4,"ngIf"],[1,"bi",3,"ngClass"],["title","Edit",1,"icon-btn-new","btn","btn-sm","btn-light",3,"click","routerLink"],[1,"bi","bi-pencil-square","text-primary"],["title","Delete",1,"icon-btn-new","btn","btn-sm","btn-light",3,"click","routerLink"],[1,"bi","bi-trash","text-danger"],[1,"enroll-section","mt-3",3,"click"],["class","btn btn-primary w-100",3,"disabled","click",4,"ngIf"],["class","alert alert-success text-center mb-0 mt-2",4,"ngIf"],[1,"btn","btn-primary","w-100",3,"click","disabled"],[4,"ngIf"],[1,"fa","fa-graduation-cap","me-2"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"alert","alert-success","text-center","mb-0","mt-2"],[1,"fa","fa-check-circle","me-2"],["type","button",1,"btn-close","btn-close-white",3,"click","disabled"],[1,"modal-body"],[1,"text-center","mb-3"],["alt","",1,"img-fluid","rounded","shadow-sm",2,"max-height","200px","object-fit","cover","width","100%",3,"src","alt"],[1,"enrollment-details","bg-light","rounded","p-3","mb-3"],[1,"detail-row","d-flex","justify-content-between","py-2","border-bottom"],[1,"text-muted"],[1,"fa","fa-chalkboard-teacher","me-2"],[1,"fw-semibold"],[1,"fa","fa-money-bill-wave","me-2"],[1,"fw-bold","text-success"],[1,"detail-row","d-flex","justify-content-between","py-2"],[1,"alert","alert-info","mb-0"],[1,"fa","fa-info-circle","me-2"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"fa","fa-check","me-2"],["width","100%","height","600","frameborder","0",3,"src"],[1,"alert","alert-success"],[1,"fa","fa-receipt","me-2"],[1,"mt-3"],[1,"fa","fa-envelope","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"mt-4","mb-3"],[3,"pageChange","currentPage","totalItems","itemsPerPage"],[1,"modal-backdrop","fade"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"h3",2),s(3,"Courses"),r(),_(4,pp,4,2,"button",3),r(),_(5,gp,2,2,"div",4)(6,wp,2,1,"div",5),r(),a(7,"div",6)(8,"div",7),_(9,Sp,43,11,"div",8),r()(),a(10,"div",6)(11,"div",9)(12,"div",10)(13,"div",11)(14,"h5",12),f(15,"i",13),s(16,"Complete Payment "),r(),a(17,"button",14),y("click",function(){return n.closePaymentIframe()}),r()(),a(18,"div",15),_(19,Ip,2,4,"iframe",16),r()()()(),a(20,"div",6)(21,"div",7)(22,"div",10)(23,"div",17)(24,"h5",12),f(25,"i",18),s(26),r(),a(27,"button",14),y("click",function(){return n.closeResultModal()}),r()(),a(28,"div",19)(29,"div",20),f(30,"i",21),r(),a(31,"p",22),s(32),r(),_(33,kp,6,1,"div",23)(34,Ep,4,0,"div",24),r(),a(35,"div",25)(36,"button",26),y("click",function(){return n.closeResultModal()}),s(37," Close "),r(),_(38,Tp,3,0,"button",27),r()()()(),_(39,Np,2,3,"div",28)(40,Lp,1,2,"div",29)(41,Ap,1,2,"div",29)),e&2&&(c(4),d("ngIf",n.isAdmin),c(),d("ngIf",n.isLoading),c(),d("ngIf",!n.isLoading),c(),Rt("display",n.showEnrollModal?"block":"none"),D("show",n.showEnrollModal),c(2),d("ngIf",n.selectedCourse),c(),Rt("display",n.showPaymentIframe?"block":"none"),D("show",n.showPaymentIframe),c(9),d("ngIf",n.showPaymentIframe),c(),Rt("display",n.showResultModal?"block":"none"),D("show",n.showResultModal),c(3),D("bg-success",n.enrollmentSuccess)("bg-danger",!n.enrollmentSuccess)("text-white",!0),c(2),D("fa-check-circle",n.enrollmentSuccess)("fa-times-circle",!n.enrollmentSuccess),c(),O(" ",n.enrollmentSuccess?"Enrollment Successful!":"Enrollment Failed"," "),c(4),D("fa-check-circle",n.enrollmentSuccess)("fa-times-circle",!n.enrollmentSuccess)("text-success",n.enrollmentSuccess)("text-danger",!n.enrollmentSuccess),c(2),N(n.enrollmentMessage),c(),d("ngIf",n.enrollmentSuccess&&n.transactionId),c(),d("ngIf",n.enrollmentSuccess),c(4),d("ngIf",n.enrollmentSuccess),c(),d("ngIf",!n.isLoading),c(),d("ngIf",n.showEnrollModal||n.showPaymentIframe),c(),d("ngIf",n.showResultModal))},dependencies:[ge,z,Se,ee,F,ue,Nt,Ni,de,Ln],styles:[".course-card[_ngcontent-%COMP%]{border-radius:16px;overflow:hidden;background:var(--surface-color);cursor:pointer;display:flex;flex-direction:column;transition:all .3s ease;box-shadow:0 6px 18px #00000014;border:1px solid var(--border-color)}.course-card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 15px 40px #00000026}.btn-accent.btn-add[_ngcontent-%COMP%]{border-radius:999px;padding:8px 20px;font-size:15px;transition:all .2s ease-in-out}.course-image-wrapper[_ngcontent-%COMP%]{position:relative;height:180px;overflow:hidden;border-radius:16px 16px 0 0}.course-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transition:transform .4s ease}.course-card[_ngcontent-%COMP%]:hover   .course-image[_ngcontent-%COMP%]{transform:scale(1.05)}.course-price[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;background:linear-gradient(90deg,#28a745,#81c784);color:#fff;padding:6px 14px;border-radius:25px;font-weight:600;font-size:13px;box-shadow:0 3px 12px #0003}.course-content[_ngcontent-%COMP%]{padding:16px;flex:1;display:flex;flex-direction:column}.course-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;margin-bottom:8px;color:var(--default-color);transition:color .3s ease}.course-card[_ngcontent-%COMP%]:hover   .course-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--accent-color)}.course-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-muted);line-height:1.5;flex-shrink:0}.course-meta[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:5px 12px;border-radius:20px;font-size:10px;font-weight:600;margin-right:5px;text-transform:uppercase}.category[_ngcontent-%COMP%]{background:#e6f4f1;color:#00796b}.level[_ngcontent-%COMP%]{background:#f3f9e8;color:#2e7d32}.instructor-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:10px}.instructor-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;border:2px solid var(--accent-color);transition:transform .3s ease}.instructor-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.instructor-name[_ngcontent-%COMP%]{color:var(--default-color);font-weight:600}.modal.show[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.modal-content[_ngcontent-%COMP%]{border-radius:16px;border:none;box-shadow:0 20px 60px #00000040;animation:_ngcontent-%COMP%_slideUp .4s ease;overflow:hidden;background-color:var(--background-color)}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(50px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-header[_ngcontent-%COMP%]{border-bottom:none;padding:20px 25px}.modal-header.bg-primary[_ngcontent-%COMP%]{background:var(--accent-color)!important}.modal-header.bg-success[_ngcontent-%COMP%]{background:var(--secondary-accent)!important}.modal-header.bg-danger[_ngcontent-%COMP%]{background:var(--default-color)!important;color:var(--contrast-color)}.modal-title[_ngcontent-%COMP%]{font-weight:700;font-size:20px;color:var(--contrast-color)}.modal-body[_ngcontent-%COMP%]{padding:25px}.enrollment-details[_ngcontent-%COMP%]{border-radius:12px;background:var(--surface-color)}.detail-row[_ngcontent-%COMP%]:hover{background:#0000000a}.result-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scaleIn .5s ease}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(0);opacity:0}50%{transform:scale(1.1)}to{transform:scale(1);opacity:1}}.result-icon[_ngcontent-%COMP%]   .fa-check-circle[_ngcontent-%COMP%]{color:var(--secondary-accent);animation:_ngcontent-%COMP%_successPulse 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_successPulse{0%,to{opacity:1}50%{opacity:.7}}.alert[_ngcontent-%COMP%]{border-radius:10px;border:none}.alert-info[_ngcontent-%COMP%]{background:#e6f4f1;color:var(--accent-color);border-left:4px solid var(--accent-color)}.alert-success[_ngcontent-%COMP%]{background:#e7fbe8;color:#0a7a40;border-left:4px solid var(--secondary-accent)}.course-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:13px;border-radius:8px;padding:6px 10px;transition:all .3s ease}.course-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.enroll-section[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:var(--secondary-accent);border:none;color:#fff;font-weight:600;border-radius:12px;transition:all .3s ease;box-shadow:0 4px 12px color-mix(in srgb,var(--secondary-accent),transparent 70%);padding:15px 20px}.enroll-section[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #00000040}.enroll-section[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.enroll-section[_ngcontent-%COMP%]   .alert-success[_ngcontent-%COMP%]{border-radius:12px;font-size:.9rem;font-weight:600;display:flex;align-items:center;justify-content:center}.form-select[_ngcontent-%COMP%]{border-radius:8px;border:2px solid var(--border-color)}.form-select[_ngcontent-%COMP%]:focus{border-color:var(--accent-color);box-shadow:0 0 0 3px #07422633}.modal-backdrop[_ngcontent-%COMP%]{background-color:#0009}.flex-grow-1[_ngcontent-%COMP%]{flex-grow:1}@media (max-width: 768px){.course-card[_ngcontent-%COMP%]{margin-bottom:15px}}.lesson-desc[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]})};var zp=()=>["/Courses"];function Dp(o,t){o&1&&(a(0,"small",22),s(1," Course name is required "),r())}function Rp(o,t){if(o&1&&(a(0,"option",13),s(1),r()),o&2){let e=t.$implicit;d("ngValue",e.id),c(),O(" ",e.fullName," ")}}function Fp(o,t){o&1&&(a(0,"small",22),s(1," Instructor is required "),r())}var Hi=class o{constructor(t,e,n,m){this.courseService=t;this.instructorService=e;this.router=n;this.snackBar=m}instructors=[];formModel={crs_Name:"",crs_Description:"",price:0,instructorId:0,imageUrl:""};selectedImageFile=null;isSubmitting=!1;ngOnInit(){this.instructorService.getAll().subscribe({next:t=>this.instructors=t,error:t=>console.error(t)})}onFileSelected(t){let e=t.target;e.files&&e.files.length>0&&(this.selectedImageFile=e.files[0],console.log("Selected image:",this.selectedImageFile))}onSubmit(t){if(this.isSubmitting=!0,t.invalid||this.formModel.instructorId===0){this.snackBar.open("Please fill in required fields","error"),this.isSubmitting=!1;return}let e={crs_Name:this.formModel.crs_Name,crs_Description:this.formModel.crs_Description,price:this.formModel.price,instructorId:this.formModel.instructorId,imageFile:this.selectedImageFile,imageUrl:this.formModel.imageUrl||null};this.courseService.addCourse(e).subscribe({next:()=>{this.isSubmitting=!1,this.snackBar.open("Course added successfully","success"),this.router.navigate(["/Courses"])},error:n=>{console.error(n),this.snackBar.open(n.error?.message||"Failed to add course","error"),this.isSubmitting=!1}})}static \u0275fac=function(e){return new(e||o)(v(Ke),v(Le),v(V),v(ae))};static \u0275cmp=T({type:o,selectors:[["app-add-course"]],decls:42,vars:12,consts:[["f","ngForm"],["crsName","ngModel"],["instructor","ngModel"],[1,"container","py-4"],[1,"mb-3"],[3,"ngSubmit"],[1,"row"],[1,"col-md-4","mb-3"],[1,"form-label"],["placeholder","Name Of Course","type","text","name","crs_Name","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","instructorId",1,"form-label"],["id","instructorId","name","instructorId","required","",1,"form-select",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["placeholder","Price","type","number","name","price",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","Description","rows","2","name","crs_Description",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-6","mb-3"],["placeholder","UploadImage","type","file",1,"form-control",3,"change"],["placeholder","Image Url","type","text","name","imageUrl",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","me-2",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"routerLink"],[1,"text-danger"]],template:function(e,n){if(e&1){let m=E();a(0,"div",3)(1,"h4",4),s(2,"Add New Course"),r(),a(3,"form",5,0),y("ngSubmit",function(){C(m);let w=_e(4);return M(n.onSubmit(w))}),a(5,"div",6)(6,"div",7)(7,"label",8),s(8,"Name Of course *"),r(),a(9,"input",9,1),W("ngModelChange",function(w){return C(m),Q(n.formModel.crs_Name,w)||(n.formModel.crs_Name=w),M(w)}),r(),_(11,Dp,2,0,"small",10),r(),a(12,"div",7)(13,"label",11),s(14,"Instructor *"),r(),a(15,"select",12,2),W("ngModelChange",function(w){return C(m),Q(n.formModel.instructorId,w)||(n.formModel.instructorId=w),M(w)}),a(17,"option",13),s(18,"Choose instructor"),r(),_(19,Rp,2,2,"option",14),r(),_(20,Fp,2,0,"small",10),r(),a(21,"div",7)(22,"label",8),s(23,"Price"),r(),a(24,"input",15),W("ngModelChange",function(w){return C(m),Q(n.formModel.price,w)||(n.formModel.price=w),M(w)}),r()()(),a(25,"div",4)(26,"label",8),s(27,"Description"),r(),a(28,"textarea",16),W("ngModelChange",function(w){return C(m),Q(n.formModel.crs_Description,w)||(n.formModel.crs_Description=w),M(w)}),r()(),a(29,"div",6)(30,"div",17)(31,"label",8),s(32,"Upload image"),r(),a(33,"input",18),y("change",function(w){return C(m),M(n.onFileSelected(w))}),r()(),a(34,"div",17)(35,"label",8),s(36,"Image URL"),r(),a(37,"input",19),W("ngModelChange",function(w){return C(m),Q(n.formModel.imageUrl,w)||(n.formModel.imageUrl=w),M(w)}),r()()(),a(38,"button",20),s(39,"Add Course"),r(),a(40,"button",21),s(41,"Cancel"),r()()()}if(e&2){let m=_e(10);c(9),B("ngModel",n.formModel.crs_Name),c(2),d("ngIf",m.invalid&&(m.touched||n.isSubmitting)),c(4),B("ngModel",n.formModel.instructorId),c(2),d("ngValue",0),c(2),d("ngForOf",n.instructors),c(),d("ngIf",n.formModel.instructorId===0&&n.isSubmitting),c(4),B("ngModel",n.formModel.price),c(4),B("ngModel",n.formModel.crs_Description),c(9),B("ngModel",n.formModel.imageUrl),c(),d("disabled",n.isSubmitting),c(2),d("routerLink",pe(11,zp))}},dependencies:[z,ee,F,ge,ye,In,kn,ce,Xe,Sn,le,Me,Ve,Ie,Re,pt,ue,de],encapsulation:2})};var Vp=()=>["/Courses"];function jp(o,t){o&1&&(a(0,"small",20),s(1," Course name is required "),r())}function qp(o,t){if(o&1&&(a(0,"option",13),s(1),r()),o&2){let e=t.$implicit;d("ngValue",e.id),c(),O(" ",e.fullName," ")}}function Up(o,t){o&1&&(a(0,"small",20),s(1," Instructor is required "),r())}function Bp(o,t){if(o&1){let e=E();a(0,"div",3)(1,"h4",4),s(2,"Update Course"),r(),a(3,"form",5),y("ngSubmit",function(){C(e);let m=g();return M(m.onSubmit())}),a(4,"div",6)(5,"div",7)(6,"label",8),s(7,"Name Of course *"),r(),a(8,"input",9,1),W("ngModelChange",function(m){C(e);let h=g();return Q(h.formModel.crs_Name,m)||(h.formModel.crs_Name=m),M(m)}),r(),_(10,jp,2,0,"small",10),r(),a(11,"div",7)(12,"label",11),s(13,"Instructor *"),r(),a(14,"select",12),W("ngModelChange",function(m){C(e);let h=g();return Q(h.formModel.instructorId,m)||(h.formModel.instructorId=m),M(m)}),a(15,"option",13),s(16,"Choose instructor"),r(),_(17,qp,2,2,"option",14),r(),_(18,Up,2,0,"small",10),r(),a(19,"div",7)(20,"label",8),s(21,"Price"),r(),a(22,"input",15),W("ngModelChange",function(m){C(e);let h=g();return Q(h.formModel.price,m)||(h.formModel.price=m),M(m)}),r()()(),a(23,"div",4)(24,"label",8),s(25,"Description"),r(),a(26,"textarea",16),W("ngModelChange",function(m){C(e);let h=g();return Q(h.formModel.crs_Description,m)||(h.formModel.crs_Description=m),M(m)}),r()(),a(27,"div",4)(28,"label",8),s(29,"Upload New Image"),r(),a(30,"input",17),y("change",function(m){C(e);let h=g();return M(h.onFileSelected(m))}),r()(),a(31,"button",18),s(32," Save Changes "),r(),a(33,"button",19),s(34,"Cancel"),r()()()}if(o&2){let e=_e(9),n=g();c(8),B("ngModel",n.formModel.crs_Name),c(2),d("ngIf",e.invalid&&(e.touched||n.isSubmitting)),c(4),B("ngModel",n.formModel.instructorId),c(),d("ngValue",0),c(2),d("ngForOf",n.instructors),c(),d("ngIf",n.formModel.instructorId===0&&n.isSubmitting),c(4),B("ngModel",n.formModel.price),c(4),B("ngModel",n.formModel.crs_Description),c(5),d("disabled",n.isSubmitting),c(2),d("routerLink",pe(10,Vp))}}function Qp(o,t){o&1&&(a(0,"div",3),s(1,"Loading..."),r())}var Gi=class o{constructor(t,e,n,m,h){this.route=t;this.courseService=e;this.instructorService=n;this.router=m;this.snackBar=h}courseId;selectedImageFile=null;instructors=[];formModel={crs_Name:"",crs_Description:"",price:0,instructorId:0,imageUrl:""};isSubmitting=!1;isLoading=!0;ngOnInit(){this.courseId=Number(this.route.snapshot.paramMap.get("id")),console.log("Edit course id from route = ",this.courseId),this.instructorService.getAll().subscribe({next:t=>{this.instructors=t,this.courseService.getCourseById(this.courseId).subscribe({next:e=>{console.log("Course loaded for edit: ",e),this.formModel={crs_Name:e.crs_Name,crs_Description:e.crs_Description,price:e.price,instructorId:e.instructorId,imageUrl:e.imageUrl||""},this.isLoading=!1},error:e=>{console.error("Error loading course by id",e),this.isLoading=!1}})},error:t=>console.error("Error loading instructors",t)})}onSubmit(){if(this.isSubmitting=!0,!this.formModel.crs_Name||!this.formModel.instructorId){alert("Instructor and Course Name are required"),this.isSubmitting=!1;return}let t={crs_Name:this.formModel.crs_Name,crs_Description:this.formModel.crs_Description,price:this.formModel.price,instructorId:this.formModel.instructorId,imageUrl:this.formModel.imageUrl||null,imageFile:this.selectedImageFile};console.log("Submitting update dto = ",t),this.courseService.updateCourse(this.courseId,t).subscribe({next:e=>{console.log("Update response: ",e),this.isSubmitting=!1,this.snackBar.open("Course updated successfully","success"),this.router.navigate(["/Courses"])},error:e=>{console.error("Error updating course",e),this.snackBar.open(e.error?.message||"Failed to update course","error"),this.isSubmitting=!1}})}onFileSelected(t){let e=t.target;e.files&&e.files.length>0&&(this.selectedImageFile=e.files[0],console.log("Selected file:",this.selectedImageFile))}static \u0275fac=function(e){return new(e||o)(v(oe),v(Ke),v(Le),v(V),v(ae))};static \u0275cmp=T({type:o,selectors:[["app-edit-course"]],decls:3,vars:2,consts:[["loadingTpl",""],["crsName","ngModel"],["class","container py-4",4,"ngIf","ngIfElse"],[1,"container","py-4"],[1,"mb-3"],[3,"ngSubmit"],[1,"row"],[1,"col-md-4","mb-3"],[1,"form-label"],["placeholder","Name Of Course","type","text","name","crs_Name","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","instructorId",1,"form-label"],["id","instructorId","name","instructorId","required","",1,"form-select",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["placeholder","Price","type","number","name","price",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","Description","rows","2","name","crs_Description",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","UploadImage","type","file",1,"form-control",3,"change"],["type","submit",1,"btn","btn-primary","me-2",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"routerLink"],[1,"text-danger"]],template:function(e,n){if(e&1&&_(0,Bp,35,11,"div",2)(1,Qp,2,0,"ng-template",null,0,Wt),e&2){let m=_e(2);d("ngIf",!n.isLoading)("ngIfElse",m)}},dependencies:[z,ee,F,ge,ye,In,kn,ce,Xe,Sn,le,Me,Ve,Ie,Re,pt,ue,de],encapsulation:2})};var Wp=()=>["/Courses"];function $p(o,t){if(o&1){let e=E();a(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),f(4,"img",6),r(),a(5,"div",7)(6,"h3"),s(7),r(),a(8,"p",8),s(9),r(),a(10,"p",9),s(11),r(),a(12,"p",10),s(13),r(),a(14,"div",11)(15,"button",12),y("click",function(){C(e);let m=g();return M(m.confirmDelete())}),s(16," Delete Course "),r(),a(17,"button",13),s(18," Back to list "),r()()()()()()}if(o&2){let e=g();c(4),d("src",e.getCourseImage(),ne)("alt",e.course.crs_Name),c(3),N(e.course.crs_Name),c(2),O(" Instructor: ",e.course.instructorName," "),c(2),O(" ",e.course.crs_Description," "),c(2),O(" Price: ",e.course.price," EGP "),c(2),d("disabled",e.isDeleting),c(2),d("routerLink",pe(8,Wp))}}function Yp(o,t){o&1&&(a(0,"div",2),s(1," Loading... "),r())}var Ji=class o{constructor(t,e,n,m){this.route=t;this.courseService=e;this.router=n;this.snackBar=m}courseId;course;imageBase=Ge.imageBase;isLoading=!0;isDeleting=!1;ngOnInit(){this.courseId=Number(this.route.snapshot.paramMap.get("id")),this.courseService.getCourseById(this.courseId).subscribe({next:t=>{this.course=t,this.isLoading=!1},error:t=>{console.error(t),this.isLoading=!1,this.snackBar.open("Failed to load course","error")}})}getCourseImage(){return this.course.imageUrl?this.course.imageUrl.startsWith("http://")||this.course.imageUrl.startsWith("https://")?this.course.imageUrl:this.imageBase+this.course.imageUrl:"/assets/img/education/course-1.jpg"}confirmDelete(){confirm(`Are you sure to delete "${this.course.crs_Name}" ?`)&&(this.isDeleting=!0,this.courseService.deleteCourse(this.courseId).subscribe({next:()=>{this.isDeleting=!1,this.snackBar.open("Course deleted successfully","success"),this.router.navigate(["/Courses"])},error:t=>{console.error(t),this.snackBar.open("Failed to delete course","error"),this.isDeleting=!1}}))}static \u0275fac=function(e){return new(e||o)(v(oe),v(Ke),v(V),v(ae))};static \u0275cmp=T({type:o,selectors:[["app-delete-course"]],decls:3,vars:2,consts:[["loadingTpl",""],["class","container py-4",4,"ngIf","ngIfElse"],[1,"container","py-4"],[1,"card"],[1,"row","g-0"],[1,"col-md-4"],["alt","ya rab",1,"img-fluid","h-100","w-100","object-fit-cover",3,"src","alt"],[1,"col-md-8","p-3"],[1,"text-muted","mb-1"],[1,"mb-2"],[1,"fw-bold","mb-2"],[1,"mt-3","d-flex","gap-2"],[1,"btn","btn-danger",3,"click","disabled"],[1,"btn","btn-secondary",3,"routerLink"]],template:function(e,n){if(e&1&&_(0,$p,19,9,"div",1)(1,Yp,2,0,"ng-template",null,0,Wt),e&2){let m=_e(2);d("ngIf",!n.isLoading)("ngIfElse",m)}},dependencies:[z,F,ue,de],encapsulation:2})};var Hp=()=>["/Courses"],Gp=o=>["/Courses",o,"units","add"],Jp=(o,t)=>["/Courses",o,"units",t,"lessons"],Kp=(o,t)=>["/Courses",o,"units","edit",t];function Xp(o,t){if(o&1&&(a(0,"a",9),f(1,"i",10),a(2,"span"),s(3,"Add Unit"),r()()),o&2){let e=g();d("routerLink",Be(1,Gp,e.courseId))}}function Zp(o,t){o&1&&(a(0,"div",11),s(1,"Loading units..."),r())}function eu(o,t){o&1&&(a(0,"div",12),s(1," No units for this course yet. "),r())}function tu(o,t){if(o&1&&(a(0,"div",32)(1,"small",33),s(2),r()()),o&2){let e=g().$implicit;c(2),O("Instructor: ",e.instructorName)}}function nu(o,t){if(o&1&&(a(0,"button",34),f(1,"i",35),r()),o&2){let e=g().$implicit,n=g(2);d("routerLink",De(1,Kp,n.courseId,e.unit_Id))}}function iu(o,t){if(o&1){let e=E();a(0,"button",36),y("click",function(){C(e);let m=g().$implicit,h=g(2);return M(h.deleteUnit(m))}),f(1,"i",37),r()}}function ou(o,t){if(o&1&&(a(0,"div",15)(1,"div",16)(2,"div",17),f(3,"img",18),a(4,"span",19),s(5),r()(),a(6,"div",20)(7,"div",21)(8,"span",22),s(9,"UNIT"),r(),a(10,"span",23),s(11),r()(),a(12,"h5",24),s(13),r(),a(14,"p",25),s(15),r(),_(16,tu,3,1,"div",26),a(17,"div",27)(18,"button",28),s(19," View Lessons "),r(),a(20,"div",29),_(21,nu,2,4,"button",30)(22,iu,2,0,"button",31),r()()()()()),o&2){let e=t.$implicit,n=g(2);c(3),d("src",e.imageUrl||"/assets/img/education/course-1.jpg",ne)("alt",e.unit_Name),c(2),O("Unit #",e.orderIndex),c(6),O("Course ",e.crs_Id),c(2),N(e.unit_Name),c(2),N(e.unit_Description),c(),d("ngIf",e.instructorName),c(2),d("routerLink",De(10,Jp,n.courseId,e.unit_Id)),c(3),d("ngIf",n.isInstructor||n.isAdmin),c(),d("ngIf",n.isAdmin)}}function ru(o,t){if(o&1&&(a(0,"div",13),_(1,ou,23,13,"div",14),r()),o&2){let e=g();c(),d("ngForOf",e.units)}}var Ki=class o{constructor(t,e,n,m,h){this.route=t;this.unitService=e;this.courseService=n;this.authService=m;this.snackbar=h}courseId;courseName="";units=[];isLoading=!1;get isInstructor(){return this.authService.isInstructor()}get isAdmin(){return this.authService.isAdmin()}ngOnInit(){this.courseId=Number(this.route.snapshot.paramMap.get("id")),this.courseService.getCourseById(this.courseId).subscribe({next:t=>{this.courseName=t.crs_Name}}),this.loadUnits()}loadUnits(){this.isLoading=!0,this.unitService.getByCourse(this.courseId).subscribe({next:t=>{this.units=t,this.isLoading=!1},error:t=>{console.error("Error loading units:",t),this.isLoading=!1}})}deleteUnit(t){confirm(`Are you sure to delete unit "${t.unit_Name}" ?`)&&this.unitService.deleteUnit(t.unit_Id).subscribe({next:()=>{this.loadUnits(),this.snackbar.open("Unit deleted successfully.","info")},error:e=>{console.error("Error deleting unit:",e),this.snackbar.open("Failed to delete unit.","error")}})}static \u0275fac=function(e){return new(e||o)(v(oe),v(Et),v(Ke),v(Oe),v(ae))};static \u0275cmp=T({type:o,selectors:[["app-units"]],decls:11,vars:8,consts:[[1,"container","py-4"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"fw-bold","mb-0"],[1,"d-flex","gap-2"],["class","btn btn-success btn-sm btn-add",3,"routerLink",4,"ngIf"],[1,"btn","btn-outline-secondary","btn-sm","btn-add",3,"routerLink"],["class","text-center py-4",4,"ngIf"],["class","alert alert-info text-center py-4",4,"ngIf"],["class","row g-4",4,"ngIf"],[1,"btn","btn-success","btn-sm","btn-add",3,"routerLink"],[1,"bi","bi-plus-lg","me-1"],[1,"text-center","py-4"],[1,"alert","alert-info","text-center","py-4"],[1,"row","g-4"],["class","col-lg-4 col-md-6 col-sm-12",4,"ngFor","ngForOf"],[1,"col-lg-4","col-md-6","col-sm-12"],[1,"card","unit-card","h-100","shadow-sm","border-0"],[1,"unit-image-wrapper","position-relative"],[1,"card-img-top","unit-image",3,"src","alt"],[1,"unit-badge"],[1,"card-body","d-flex","flex-column"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"badge","bg-primary"],[1,"text-muted","small"],[1,"card-title","mb-2"],[1,"card-text","mb-3","lesson-desc"],["class","mb-3",4,"ngIf"],[1,"mt-auto","d-flex","justify-content-between","align-items-center"],[1,"btn","btn-sm","btn-outline-accent","grow","me-2",3,"routerLink"],[1,"icon-actions","d-flex","gap-2"],["class","icon-btn-new btn btn-sm btn-light","title","Edit",3,"routerLink",4,"ngIf"],["class","icon-btn-new btn btn-sm btn-light","title","Delete",3,"click",4,"ngIf"],[1,"mb-3"],[1,"text-secondary"],["title","Edit",1,"icon-btn-new","btn","btn-sm","btn-light",3,"routerLink"],[1,"bi","bi-pencil-square","text-primary"],["title","Delete",1,"icon-btn-new","btn","btn-sm","btn-light",3,"click"],[1,"bi","bi-trash","text-danger"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"h3",2),s(3),r(),a(4,"div",3),_(5,Xp,4,3,"a",4),a(6,"a",5),s(7," \u2190 Back to Courses "),r()()(),_(8,Zp,2,0,"div",6)(9,eu,2,0,"div",7)(10,ru,2,1,"div",8),r()),e&2&&(c(3),ze("Units for Course ",n.courseName," (#",n.courseId,")"),c(2),d("ngIf",n.isAdmin),c(),d("routerLink",pe(7,Hp)),c(2),d("ngIf",n.isLoading),c(),d("ngIf",!n.isLoading&&n.units.length===0),c(),d("ngIf",!n.isLoading&&n.units.length>0))},dependencies:[z,ee,F,ue,de],styles:[".unit-card[_ngcontent-%COMP%]{border-radius:16px;overflow:hidden;transition:transform .3s ease,box-shadow .3s ease;background-color:var(--surface-color);border:1px solid var(--border-color)}.unit-card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 12px 25px #00000026}.btn-add[_ngcontent-%COMP%]{border-radius:999px!important;padding:7px 20px!important;font-size:15px!important;transition:all .2s ease-in-out!important}.unit-image-wrapper[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:16px 16px 0 0}.unit-image[_ngcontent-%COMP%]{width:100%;height:180px;object-fit:cover;transition:transform .3s ease}.unit-card[_ngcontent-%COMP%]:hover   .unit-image[_ngcontent-%COMP%]{transform:scale(1.05)}.unit-badge[_ngcontent-%COMP%]{position:absolute;top:12px;left:12px;background:#074226;color:#fff;font-size:.8rem;font-weight:600;padding:4px 10px;border-radius:12px;box-shadow:0 2px 6px #00000026}.card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:var(--heading-color)}.card-text[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-muted)}.btn-sm[_ngcontent-%COMP%]{border-radius:8px;font-size:.8rem;transition:all .2s ease}.icon-btn-new[_ngcontent-%COMP%]{width:38px;height:38px;border-radius:50%;border:1px solid var(--border-color);background-color:var(--surface-color);box-shadow:0 1px 3px #0000000d;transition:all .15s ease;display:flex;justify-content:center;align-items:center}.icon-btn-new[_ngcontent-%COMP%]:hover{transform:translateY(-1px);border-color:var(--accent-color)}.btn-outline-accent[_ngcontent-%COMP%]{color:var(--accent-color);border-color:var(--accent-color);border-radius:20px;font-size:13px;font-weight:600;transition:all .2s ease}.btn-outline-accent[_ngcontent-%COMP%]:hover{background-color:var(--accent-color);color:var(--contrast-color)}@media (max-width:768px){.unit-image[_ngcontent-%COMP%]{height:150px}.card-title[_ngcontent-%COMP%]{font-size:1rem}.btn-sm[_ngcontent-%COMP%]{font-size:.75rem}}.lesson-desc[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]})};var au=o=>["/Courses",o,"units"],Zi=class o{constructor(t,e,n){this.route=t;this.router=e;this.unitService=n}courseId;model={crs_Id:0,unit_Name:"",unit_Description:"",orderIndex:1,imageUrl:""};ngOnInit(){this.courseId=Number(this.route.snapshot.paramMap.get("id")),this.model.crs_Id=this.courseId}save(){this.unitService.addUnit(this.model).subscribe({next:()=>{this.router.navigate(["/Courses",this.courseId,"units"])}})}cancel(){this.router.navigate(["/Courses",this.courseId,"units"])}static \u0275fac=function(e){return new(e||o)(v(oe),v(V),v(Et))};static \u0275cmp=T({type:o,selectors:[["app-add-unit"]],decls:28,vars:8,consts:[[1,"container","py-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"btn","btn-secondary","btn-sm",3,"routerLink"],[1,"card","p-3"],[3,"ngSubmit"],[1,"mb-3"],[1,"form-label"],["placeholder","Unit_Name","type","text","name","unit_Name","required","",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","Description","name","unit_Description",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","Index","type","number","name","orderIndex","required","",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","ImageUrl","type","text","name","imageUrl",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-success","me-2"],["type","button",1,"btn","btn-outline-secondary",3,"click"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"h3"),s(3),r(),a(4,"a",2),s(5," \u2190 Back "),r()(),a(6,"div",3)(7,"form",4),y("ngSubmit",function(){return n.save()}),a(8,"div",5)(9,"label",6),s(10,"Unit Name"),r(),a(11,"input",7),W("ngModelChange",function(h){return Q(n.model.unit_Name,h)||(n.model.unit_Name=h),h}),r()(),a(12,"div",5)(13,"label",6),s(14,"Description"),r(),a(15,"textarea",8),W("ngModelChange",function(h){return Q(n.model.unit_Description,h)||(n.model.unit_Description=h),h}),r()(),a(16,"div",5)(17,"label",6),s(18,"Order Index"),r(),a(19,"input",9),W("ngModelChange",function(h){return Q(n.model.orderIndex,h)||(n.model.orderIndex=h),h}),r()(),a(20,"div",5)(21,"label",6),s(22,"Image URL"),r(),a(23,"input",10),W("ngModelChange",function(h){return Q(n.model.imageUrl,h)||(n.model.imageUrl=h),h}),r()(),a(24,"button",11),s(25,"Add Unit"),r(),a(26,"button",12),y("click",function(){return n.cancel()}),s(27,"Cancel"),r()()()()),e&2&&(c(3),O("Add Unit for Course #",n.courseId),c(),d("routerLink",Be(6,au,n.courseId)),c(7),B("ngModel",n.model.unit_Name),c(4),B("ngModel",n.model.unit_Description),c(4),B("ngModel",n.model.orderIndex),c(4),B("ngModel",n.model.imageUrl))},dependencies:[z,ge,ye,ce,Xe,le,Me,Ve,Ie,Re,ue],encapsulation:2})};var su=o=>["/Courses",o,"units"];function cu(o,t){o&1&&(a(0,"div",16),s(1," Unit name is required "),r())}function lu(o,t){o&1&&(a(0,"div",16),s(1," Unit name must be at least 3 characters "),r())}var eo=class o{constructor(t,e,n){this.route=t;this.router=e;this.unitService=n}courseId;unitId;model={unit_Name:"",unit_Description:"",orderIndex:1,imageUrl:""};ngOnInit(){this.courseId=Number(this.route.snapshot.paramMap.get("id")),this.unitId=Number(this.route.snapshot.paramMap.get("unitId")),this.unitService.getById(this.unitId).subscribe(t=>{this.model={unit_Name:t.unit_Name,unit_Description:t.unit_Description,orderIndex:t.orderIndex,imageUrl:t.imageUrl}})}save(){this.unitService.updateUnit(this.unitId,this.model).subscribe(()=>{this.router.navigate(["/Courses",this.courseId,"units"])})}cancel(){this.router.navigate(["/Courses",this.courseId,"units"])}static \u0275fac=function(e){return new(e||o)(v(oe),v(V),v(Et))};static \u0275cmp=T({type:o,selectors:[["app-update-unit"]],decls:32,vars:12,consts:[["unitForm","ngForm"],["unitName","ngModel"],[1,"container","py-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"btn","btn-secondary","btn-sm",3,"routerLink"],[1,"card","p-3"],["novalidate","",3,"ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","text","name","unit_Name","required","","minlength","3",1,"form-control",3,"ngModelChange","ngModel"],["class","invalid-feedback",4,"ngIf"],["placeholder","Description","name","unit_Description",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","Order","type","number","name","orderIndex","required","",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","ImageUrl","type","text","name","imageUrl",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","me-2"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"invalid-feedback"]],template:function(e,n){if(e&1){let m=E();a(0,"div",2)(1,"div",3)(2,"h3"),s(3),r(),a(4,"a",4),s(5," \u2190 Back "),r()(),a(6,"div",5)(7,"form",6,0),y("ngSubmit",function(){return C(m),M(n.save())}),a(9,"div",7)(10,"label",8),s(11,"Unit Name"),r(),a(12,"input",9,1),W("ngModelChange",function(w){return C(m),Q(n.model.unit_Name,w)||(n.model.unit_Name=w),M(w)}),r(),_(14,cu,2,0,"div",10)(15,lu,2,0,"div",10),r(),a(16,"div",7)(17,"label",8),s(18,"Description"),r(),a(19,"textarea",11),W("ngModelChange",function(w){return C(m),Q(n.model.unit_Description,w)||(n.model.unit_Description=w),M(w)}),r()(),a(20,"div",7)(21,"label",8),s(22,"Order Index"),r(),a(23,"input",12),W("ngModelChange",function(w){return C(m),Q(n.model.orderIndex,w)||(n.model.orderIndex=w),M(w)}),r()(),a(24,"div",7)(25,"label",8),s(26,"Image URL"),r(),a(27,"input",13),W("ngModelChange",function(w){return C(m),Q(n.model.imageUrl,w)||(n.model.imageUrl=w),M(w)}),r()(),a(28,"button",14),s(29,"Save"),r(),a(30,"button",15),y("click",function(){return C(m),M(n.cancel())}),s(31,"Cancel"),r()()()()}if(e&2){let m=_e(13);c(3),O("Edit Unit #",n.unitId),c(),d("routerLink",Be(10,su,n.courseId)),c(8),D("is-invalid",m.invalid&&m.touched),B("ngModel",n.model.unit_Name),c(2),d("ngIf",m.errors==null?null:m.errors.required),c(),d("ngIf",m.errors==null?null:m.errors.minlength),c(4),B("ngModel",n.model.unit_Description),c(4),B("ngModel",n.model.orderIndex),c(4),B("ngModel",n.model.imageUrl)}},dependencies:[z,F,ge,ye,ce,Xe,le,Me,Ve,Ti,Ie,Re,ue],encapsulation:2})};var du=o=>["/Courses",o,"units"],mu=(o,t)=>["/Courses",o,"units",t,"lessons","add"],ec=(o,t,e)=>["/Courses",o,"units",t,"lessons",e],pu=()=>["/Courses"],uu=(o,t,e)=>["/Courses",o,"units",t,"lessons",e,"edit"],gu=o=>["/lesson",o,"create-quiz"];function fu(o,t){if(o&1&&(a(0,"span",12),s(1),r()),o&2){let e=g(2);c(),O(" (Course #",e.unit.crs_Id,") ")}}function hu(o,t){if(o&1&&(a(0,"p",10),s(1," Unit: "),a(2,"strong"),s(3),r(),_(4,fu,2,1,"span",11),r()),o&2){let e=g();c(3),N(e.unit.unit_Name),c(),d("ngIf",e.unit.crs_Id)}}function _u(o,t){if(o&1&&(a(0,"a",13),f(1,"i",14),a(2,"span"),s(3,"Add Lesson"),r()()),o&2){let e=g();d("routerLink",De(1,mu,e.courseId,e.unitId))}}function bu(o,t){if(o&1&&(a(0,"a",33),f(1,"i",34),s(2," Download PDF "),r()),o&2){let e=t.ngIf;d("href",e,ne)}}function vu(o,t){if(o&1&&(a(0,"div",29)(1,"a",30),f(2,"i",31),s(3," Open Lesson "),r(),_(4,bu,3,1,"a",32),r()),o&2){let e=g().$implicit,n=g();c(),d("routerLink",Vt(2,ec,n.courseId,n.unitId,e.lesson_Id)),c(3),d("ngIf",n.getPdfDownloadUrl(e))}}function xu(o,t){o&1&&(a(0,"div",35),f(1,"i",36),s(2," Locked - Enroll to access "),r(),a(3,"a",37),f(4,"i",38),s(5," Enroll Now "),r()),o&2&&(c(3),d("routerLink",pe(1,pu)))}function Cu(o,t){if(o&1){let e=E();a(0,"button",47),y("click",function(){C(e);let m=g().$implicit,h=g(3);return M(h.startQuiz(m))}),f(1,"i",48),s(2),r()}if(o&2){let e=g().$implicit,n=g(3);d("disabled",n.quizLoading[e.quiz_Id]),c(2),O(" ",n.quizLoading[e.quiz_Id]?"Starting...":"Start Quiz"," ")}}function Mu(o,t){if(o&1){let e=E();a(0,"div",29)(1,"div",42)(2,"span",43),s(3),r(),a(4,"small",22),s(5),r()(),_(6,Cu,3,2,"button",44),a(7,"button",45),y("click",function(){let m=C(e).$implicit,h=g(3);return M(h.goToResult(m.quiz_Id))}),f(8,"i",46),s(9," View Result "),r()()}if(o&2){let e=t.$implicit,n=g(3);c(3),O("Quiz: ",e.quiz_Name),c(2),O("Marks: ",e.totalMarks),c(),d("ngIf",!n.quizResults[e.quiz_Id])}}function yu(o,t){if(o&1&&(a(0,"div",49),s(1),r()),o&2){let e=g(3);c(),O(" ",e.quizError," ")}}function wu(o,t){if(o&1&&(a(0,"div",39),_(1,Mu,10,3,"div",40)(2,yu,2,1,"div",41),r()),o&2){let e=g().$implicit,n=g();c(),d("ngForOf",n.quizzesByLesson[e.lesson_Id]),c(),d("ngIf",n.quizError)}}function Pu(o,t){if(o&1&&(a(0,"a",55),f(1,"i",56),r()),o&2){let e=g(2).$implicit,n=g();d("routerLink",Vt(1,ec,n.courseId,n.unitId,e.lesson_Id))}}function Ou(o,t){if(o&1&&(a(0,"a",57),f(1,"i",58),r()),o&2){let e=g(2).$implicit,n=g();d("routerLink",Vt(1,uu,n.courseId,n.unitId,e.lesson_Id))}}function Su(o,t){if(o&1&&(a(0,"a",59),f(1,"i",60),r()),o&2){let e=g(2).$implicit;d("routerLink",Be(1,gu,e.lesson_Id))}}function Iu(o,t){if(o&1){let e=E();a(0,"button",61),y("click",function(){C(e);let m=g(2).$implicit,h=g();return M(h.onDeleteLesson(m))}),f(1,"i",62),r()}}function ku(o,t){if(o&1&&(a(0,"div",50),_(1,Pu,2,5,"a",51)(2,Ou,2,5,"a",52)(3,Su,2,3,"a",53)(4,Iu,2,0,"button",54),r()),o&2){let e=g(2);c(),d("ngIf",e.isInstructor),c(),d("ngIf",e.isInstructor||e.isAdmin),c(),d("ngIf",e.isInstructor||e.isAdmin),c(),d("ngIf",e.isAdmin)}}function Eu(o,t){if(o&1&&(a(0,"div",15)(1,"div",16)(2,"div",17),f(3,"img",18),r(),a(4,"div",19)(5,"div",20)(6,"span",21),s(7,"Lesson"),r(),a(8,"small",22),s(9),r()(),a(10,"h5",23),s(11),r(),a(12,"p",24),s(13),r(),a(14,"p",25)(15,"strong"),s(16,"Unit:"),r(),s(17),r(),_(18,vu,5,6,"div",26)(19,xu,6,2,"ng-template",null,0,Wt)(21,wu,3,2,"div",27)(22,ku,5,4,"div",28),r()()()),o&2){let e=t.$implicit,n=t.index,m=_e(20),h=g();c(3),d("src",h.getPdfThumbnail(e),ne),c(6),O("#",e.lesson_Id),c(2),N(e.lesson_Name),c(2),N(e.lessonDescription),c(4),O(" ",h.unit==null?null:h.unit.unit_Name," "),c(),d("ngIf",h.canAccessLesson(n))("ngIfElse",m),c(3),d("ngIf",(h.quizzesByLesson[e.lesson_Id]==null?null:h.quizzesByLesson[e.lesson_Id].length)&&!h.isInstructor&&!h.isAdmin&&h.canAccessLesson(n)),c(),d("ngIf",h.isInstructor||h.isAdmin)}}var Xn=class o{constructor(t,e,n,m,h,w,Ue){this.route=t;this.router=e;this.lessonService=n;this.unitService=m;this.enrollmentService=h;this.authService=w;this.quizService=Ue}courseId;unitId;unit;lessons=[];isLoading=!1;errorMessage="";isEnrolled=!1;freeLessonsLimit=3;freeUnitId=1;env=Ge;units=[];quizzesByLesson={};quizResults={};quizLoading={};quizError=null;get isInstructor(){return this.authService.isInstructor()}get isAdmin(){return this.authService.isAdmin()}ngOnInit(){this.courseId=Number(this.route.snapshot.paramMap.get("courseId")),this.unitId=Number(this.route.snapshot.paramMap.get("unitId"));let t=this.authService.UserId;t&&this.enrollmentService.isStudentEnrolled(t,this.courseId).subscribe(e=>this.isEnrolled=e),this.unitService.getByCourse(this.courseId).subscribe(e=>{this.units=e.sort((n,m)=>n.orderIndex-m.orderIndex),this.loadUnit(),this.loadLessons()})}loadUnit(){this.unitService.getUnit(this.unitId).subscribe({next:t=>this.unit=t,error:t=>console.error("Error loading unit:",t)})}loadLessons(){this.isLoading=!0,this.lessonService.getLessonsByUnit(this.unitId).subscribe({next:t=>{this.lessons=t,this.isLoading=!1,this.lessons.forEach((e,n)=>{this.canAccessLesson(n)&&this.loadQuizzesForLesson(e.lesson_Id)})},error:t=>{console.error("Error loading lessons:",t),this.errorMessage="\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062F\u0631\u0648\u0633.",this.isLoading=!1}})}canAccessLesson(t){if(this.authService.isAdmin()||this.authService.isInstructor()||this.isEnrolled)return!0;let e=this.units[0];return!!(this.unit&&e&&this.unit.unit_Id===e.unit_Id&&t<this.freeLessonsLimit)}loadQuizzesForLesson(t){this.quizService.getQuizzesByLessonId(t).subscribe({next:e=>{this.quizzesByLesson[t]=e,!this.isAdmin&&!this.isInstructor&&e.forEach(n=>{this.quizService.getQuizResult(n.quiz_Id).subscribe({next:m=>{this.quizResults[n.quiz_Id]=m},error:m=>{m.status!==404&&console.error("Error checking quiz result for quiz",n.quiz_Id,m)}})})},error:e=>{console.error("Error loading quizzes for lesson",t,e)}})}startQuiz(t){this.quizLoading[t.quiz_Id]=!0,this.quizError=null,this.quizService.startQuiz(t.quiz_Id).subscribe({next:e=>{this.quizLoading[t.quiz_Id]=!1,console.log("Quiz started:",e),this.router.navigate(["/quiz/take",t.quiz_Id])},error:e=>{this.quizLoading[t.quiz_Id]=!1,console.error("Error starting quiz:",e),this.quizError="Try again later. OR you may have already taken this quiz."}})}goToResult(t){this.router.navigate(["/quiz/result",t])}getPdfResource(t){return t.resources?.find(e=>e.resource_Type==="pdf")}getPdfThumbnail(t){let e=this.getPdfResource(t);return e&&e.thumbnailUrl?e.thumbnailUrl:`${Ge.imageBase}/images/pdf-icon.png`}getPdfDownloadUrl(t){let e=this.getPdfResource(t);return e?e.resource_Url:null}onDeleteLesson(t){confirm(`are you sure to delete this lesson"${t.lesson_Name}" \u061F`)&&this.lessonService.deleteLesson(t.lesson_Id).subscribe({next:()=>{this.lessons=this.lessons.filter(e=>e.lesson_Id!==t.lesson_Id)},error:e=>{console.error("Error deleting lesson:",e),alert("Fail To Delete Try Agian")}})}static \u0275fac=function(e){return new(e||o)(v(oe),v(V),v(gt),v(Et),v(Yt),v(Oe),v(Tt))};static \u0275cmp=T({type:o,selectors:[["app-lessons"]],decls:12,vars:7,consts:[["lockedLesson",""],[1,"container","py-4"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"fw-bold","mb-1"],["class","text-muted mb-0",4,"ngIf"],[1,"d-flex","gap-2"],["class","btn btn-success btn-sm px-3 btn-add",3,"routerLink",4,"ngIf"],[1,"btn","btn-outline-secondary","btn-sm","px-3","btn-add",3,"routerLink"],[1,"row","g-4"],["class","col-lg-4 col-md-6 col-sm-12",4,"ngFor","ngForOf"],[1,"text-muted","mb-0"],["class","text-secondary ms-2",4,"ngIf"],[1,"text-secondary","ms-2"],[1,"btn","btn-success","btn-sm","px-3","btn-add",3,"routerLink"],[1,"bi","bi-plus-lg","me-1"],[1,"col-lg-4","col-md-6","col-sm-12"],[1,"card","lesson-card","shadow-sm","h-100"],[1,"card-img-top","lesson-image-wrapper","d-flex","justify-content-center","align-items-center","p-4"],["alt","Lesson PDF thumbnail",1,"lesson-thumb",3,"src"],[1,"card-body","d-flex","flex-column"],[1,"d-flex","justify-content-between","mb-2","align-items-center"],[1,"badge","bg-primary"],[1,"text-muted"],[1,"card-title","mb-2"],[1,"card-text","mb-2","lesson-desc"],[1,"text-secondary","small","mb-3"],["class","mb-3",4,"ngIf","ngIfElse"],["class","mt-3 border-top pt-2",4,"ngIf"],["class","mt-auto d-flex justify-content-end gap-2",4,"ngIf"],[1,"mb-3"],[1,"btn","btn-success","w-100","mb-2",3,"routerLink"],[1,"bi","bi-book","me-1"],["target","_blank","class","btn btn-outline-primary w-100",3,"href",4,"ngIf"],["target","_blank",1,"btn","btn-outline-primary","w-100",3,"href"],[1,"bi","bi-file-earmark-arrow-down","me-1"],[1,"alert","alert-warning","text-center","py-2","mb-2"],[1,"bi","bi-lock-fill","me-1"],[1,"btn","btn-primary","w-100",3,"routerLink"],[1,"bi","bi-unlock-fill","me-1"],[1,"mt-3","border-top","pt-2"],["class","mb-3",4,"ngFor","ngForOf"],["class","alert alert-danger py-1 mt-1",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","mb-1"],[1,"badge","bg-info"],["class","btn btn-outline-success btn-sm w-100 mb-2",3,"disabled","click",4,"ngIf"],[1,"btn","btn-outline-secondary","btn-sm","w-100","mb-2",3,"click"],[1,"bi","bi-clipboard-check","me-1"],[1,"btn","btn-outline-success","btn-sm","w-100","mb-2",3,"click","disabled"],[1,"bi","bi-play-circle","me-1"],[1,"alert","alert-danger","py-1","mt-1"],[1,"mt-auto","d-flex","justify-content-end","gap-2"],["class","icon-btn-new btn btn-sm btn-light","title","View",3,"routerLink",4,"ngIf"],["class","icon-btn-new btn btn-sm btn-light","title","Edit",3,"routerLink",4,"ngIf"],["class","icon-btn-new btn btn-sm btn-light","title","Create Quiz",3,"routerLink",4,"ngIf"],["class","icon-btn-new btn btn-sm btn-light","title","Delete",3,"click",4,"ngIf"],["title","View",1,"icon-btn-new","btn","btn-sm","btn-light",3,"routerLink"],[1,"bi","bi-eye","text-secondary"],["title","Edit",1,"icon-btn-new","btn","btn-sm","btn-light",3,"routerLink"],[1,"bi","bi-pencil-square","text-primary"],["title","Create Quiz",1,"icon-btn-new","btn","btn-sm","btn-light",3,"routerLink"],[1,"bi","bi-question-circle","text-warning"],["title","Delete",1,"icon-btn-new","btn","btn-sm","btn-light",3,"click"],[1,"bi","bi-trash","text-danger"]],template:function(e,n){e&1&&(a(0,"div",1)(1,"div",2)(2,"div")(3,"h3",3),s(4),r(),_(5,hu,5,2,"p",4),r(),a(6,"div",5),_(7,_u,4,4,"a",6),a(8,"a",7),s(9," \u2190 Back to Units "),r()()(),a(10,"div",8),_(11,Eu,23,9,"div",9),r()()),e&2&&(c(4),O("Lessons for Unit #",n.unitId),c(),d("ngIf",n.unit),c(2),d("ngIf",n.isAdmin),c(),d("routerLink",Be(5,du,n.courseId)),c(3),d("ngForOf",n.lessons))},dependencies:[z,ee,F,ue],styles:[".lesson-card[_ngcontent-%COMP%]{background:var(--background-color);border-radius:16px;overflow:hidden;transition:all .3s ease;box-shadow:0 8px 20px #00000014;display:flex;flex-direction:column}.lesson-card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 12px 30px #00000026}.btn-add[_ngcontent-%COMP%]{border-radius:999px;padding:7px 20px;font-size:15px;transition:all .2s ease-in-out}.lesson-image-wrapper[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f3f9f8,#e0f2f1);padding:20px;display:flex;justify-content:center;align-items:center}.lesson-thumb[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:contain;border-radius:8px;transition:transform .3s ease}.lesson-card[_ngcontent-%COMP%]:hover   .lesson-thumb[_ngcontent-%COMP%]{transform:scale(1.1);filter:drop-shadow(0 4px 10px rgba(0,0,0,.15))}.lesson-content[_ngcontent-%COMP%]{padding:20px;flex:1;display:flex;flex-direction:column}.lesson-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#074226;margin-bottom:.5rem}.lesson-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:#555;margin-bottom:.75rem}.badge[_ngcontent-%COMP%]{font-size:.7rem;font-weight:700;padding:.3em .6em;border-radius:12px;text-transform:uppercase}.badge.bg-primary[_ngcontent-%COMP%]{background-color:#074226;color:#fff}.btn-primary[_ngcontent-%COMP%]{background:#074226;border:none;border-radius:8px;font-weight:600;transition:all .3s ease;margin:8px 0}.btn-primary[_ngcontent-%COMP%]:hover{background:#0a7a40;transform:translateY(-2px)}.btn-outline-success[_ngcontent-%COMP%]{border-radius:8px;font-size:.8rem;transition:all .3s ease}.btn-outline-success[_ngcontent-%COMP%]:hover{background-color:#4ade80;color:#074226;border-color:#4ade80}.locked-lesson[_ngcontent-%COMP%]{border:1px dashed #ccc;padding:15px;border-radius:12px;background-color:#fafafa;transition:.3s}.locked-lesson[_ngcontent-%COMP%]:hover{background-color:#f0f8f6}.icon-btn-new[_ngcontent-%COMP%]{width:38px;height:38px;border-radius:50%;border:1px solid var(--border-color);background-color:var(--surface-color);box-shadow:0 1px 3px #0000000d;transition:all .15s ease;display:flex;justify-content:center;align-items:center}.icon-btn-new[_ngcontent-%COMP%]:hover{transform:translateY(-1px);border-color:var(--accent-color)}.flex-grow-1[_ngcontent-%COMP%]{flex-grow:1}@media (max-width: 768px){.lesson-thumb[_ngcontent-%COMP%]{width:60px;height:60px}.lesson-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1rem}.btn-primary[_ngcontent-%COMP%], .btn-outline-success[_ngcontent-%COMP%]{font-size:.75rem;padding:6px 12px}}.lesson-desc[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]})};var Tu=(o,t)=>["/Courses",o,"units",t,"lessons"];function Nu(o,t){if(o&1&&(a(0,"div",20),s(1),r()),o&2){let e=g();c(),O(" ",e.errorMessage," ")}}function Lu(o,t){if(o&1&&(a(0,"div",21),s(1),r()),o&2){let e=g();c(),O(" ",e.successMessage," ")}}function Au(o,t){o&1&&(a(0,"small",22),s(1," Lesson name is required "),r())}function zu(o,t){o&1&&(a(0,"small",22),s(1," PDF file is required "),r())}var no=class o{constructor(t,e,n,m){this.route=t;this.router=e;this.lessonService=n;this.snackBar=m}courseId;unitId;lessonName="";lessonDescription="";youtubeUrl="";file=null;isSubmitting=!1;errorMessage="";successMessage="";ngOnInit(){this.courseId=Number(this.route.snapshot.paramMap.get("courseId")),this.unitId=Number(this.route.snapshot.paramMap.get("unitId"))}onFileChange(t){let e=t.target;e.files&&e.files.length>0&&(this.file=e.files[0])}onSubmit(){if(this.errorMessage="",this.successMessage="",!this.lessonName.trim()){this.errorMessage="Lesson name is required.";return}if(!this.file){this.errorMessage="PDF file is required.";return}let t=new FormData;t.append("unitId",this.unitId.toString()),t.append("lessonName",this.lessonName),t.append("lessonDescription",this.lessonDescription||""),t.append("file",this.file),t.append("youtubeUrl",this.youtubeUrl||""),this.isSubmitting=!0,this.lessonService.createLesson(t).subscribe({next:e=>{this.isSubmitting=!1,this.snackBar.open("Lesson created successfully.","success"),this.router.navigate(["/Courses",this.courseId,"units",this.unitId,"lessons"])},error:e=>{console.error(e),this.isSubmitting=!1,this.snackBar.open("Error while creating lesson.","error")}})}cancel(){this.router.navigate(["/Courses",this.courseId,"units",this.unitId,"lessons"])}static \u0275fac=function(e){return new(e||o)(v(oe),v(V),v(gt),v(ae))};static \u0275cmp=T({type:o,selectors:[["app-add-lesson"]],decls:37,vars:13,consts:[["lessonForm","ngForm"],["lessonNameRef","ngModel"],[1,"container","py-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"mb-0"],[1,"btn","btn-secondary","btn-sm",3,"routerLink"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["novalidate","",3,"ngSubmit"],[1,"mb-3"],[1,"form-label"],["placeholder","lessonName","type","text","name","lessonName","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["placeholder","Description","name","lessonDescription","rows","3",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","PDF","type","file","accept","application/pdf","required","",1,"form-control",3,"change"],[1,"form-text"],["type","text","name","youtubeUrl","placeholder","https://www.youtube.com/watch?v=...",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-end","gap-2"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"text-danger"]],template:function(e,n){if(e&1){let m=E();a(0,"div",2)(1,"div",3)(2,"h3",4),s(3,"Add Lesson"),r(),a(4,"a",5),s(5," \u2190 Back to Lessons "),r()(),_(6,Nu,2,1,"div",6)(7,Lu,2,1,"div",7),a(8,"form",8,0),y("ngSubmit",function(){return C(m),M(n.onSubmit())}),a(10,"div",9)(11,"label",10),s(12,"Lesson Name"),r(),a(13,"input",11,1),W("ngModelChange",function(w){return C(m),Q(n.lessonName,w)||(n.lessonName=w),M(w)}),r(),_(15,Au,2,0,"small",12),r(),a(16,"div",9)(17,"label",10),s(18,"Lesson Description"),r(),a(19,"textarea",13),W("ngModelChange",function(w){return C(m),Q(n.lessonDescription,w)||(n.lessonDescription=w),M(w)}),s(20,"      "),r()(),a(21,"div",9)(22,"label",10),s(23,"PDF File"),r(),a(24,"input",14),y("change",function(w){return C(m),M(n.onFileChange(w))}),r(),_(25,zu,2,0,"small",12),a(26,"div",15),s(27,"Only PDF files are allowed."),r()(),a(28,"div",9)(29,"label",10),s(30,"YouTube URL (optional)"),r(),a(31,"input",16),W("ngModelChange",function(w){return C(m),Q(n.youtubeUrl,w)||(n.youtubeUrl=w),M(w)}),r()(),a(32,"div",17)(33,"button",18),y("click",function(){return C(m),M(n.cancel())}),s(34,"Cancel"),r(),a(35,"button",19),s(36),r()()()()}if(e&2){let m=_e(14);c(4),d("routerLink",De(10,Tu,n.courseId,n.unitId)),c(2),d("ngIf",n.errorMessage),c(),d("ngIf",n.successMessage),c(6),B("ngModel",n.lessonName),c(2),d("ngIf",m.invalid&&(m.touched||n.isSubmitting)),c(4),B("ngModel",n.lessonDescription),c(6),d("ngIf",!n.file&&n.isSubmitting),c(6),B("ngModel",n.youtubeUrl),c(4),d("disabled",n.isSubmitting),c(),O(" ",n.isSubmitting?"Saving...":"Save Lesson"," ")}},dependencies:[z,F,ge,ye,ce,le,Me,Ve,Ie,Re,ue,de],styles:["form[_ngcontent-%COMP%]{max-width:600px}"]})};var Du=(o,t,e)=>["/Courses",o,"units",t,"lessons",e,"edit"],Ru=(o,t,e)=>["/Courses",o,"units",t,"lessons",e,"delete"],Fu=()=>["/Courses"];function Vu(o,t){if(o&1&&(a(0,"a",15),f(1,"i",16),r()),o&2){let e=g(2);d("routerLink",Vt(1,Du,e.courseId,e.unitId,e.lessonId))}}function ju(o,t){if(o&1&&(a(0,"a",17),f(1,"i",18),r()),o&2){let e=g(2);d("routerLink",Vt(1,Ru,e.courseId,e.unitId,e.lessonId))}}function qu(o,t){if(o&1&&(a(0,"div",12),_(1,Vu,2,5,"a",13)(2,ju,2,5,"a",14),r()),o&2){let e=g();c(),d("ngIf",e.isAdmin||e.isInstructor),c(),d("ngIf",e.isAdmin)}}function Uu(o,t){o&1&&(a(0,"div",19),f(1,"span",20),s(2," Loading lesson details... "),r())}function Bu(o,t){if(o&1){let e=E();a(0,"div",21)(1,"div",22)(2,"div",23),f(3,"i",24),r(),a(4,"h4",25),s(5,"\u{1F512} Premium Content"),r(),a(6,"p",26),s(7),r(),a(8,"div",27),f(9,"i",28),a(10,"strong"),s(11,"Free Preview Available:"),r(),s(12," Access the first 3 lessons of Unit 1 for free! "),r(),a(13,"div")(14,"button",29),y("click",function(){C(e);let m=g();return M(m.goToEnroll())}),f(15,"i",30),s(16," Enroll in Course "),r()()()()}if(o&2){let e=g();c(7),N(e.errorMessage)}}function Qu(o,t){if(o&1&&(a(0,"div",31),f(1,"i",32),s(2),r()),o&2){let e=g();c(2),O(" ",e.errorMessage," ")}}function Wu(o,t){o&1&&(a(0,"div",50),f(1,"i",28),a(2,"strong"),s(3,"Free Preview Lesson"),r(),s(4," - Enjoying the content? "),a(5,"a",51),s(6,"Enroll now"),r(),s(7," to access all lessons! "),r()),o&2&&(c(5),d("routerLink",pe(1,Fu)))}function $u(o,t){o&1&&(a(0,"div",52),f(1,"i",53),a(2,"strong"),s(3,"You're enrolled!"),r(),s(4," You have full access to this course content. "),r())}function Yu(o,t){o&1&&(a(0,"span",54),f(1,"i",55),s(2,"Enrolled "),r())}function Hu(o,t){o&1&&(a(0,"span",56),f(1,"i",57),s(2,"Free Preview "),r())}function Gu(o,t){if(o&1&&(a(0,"p",58),s(1),r()),o&2){let e=g(2);c(),O(" ",e.lesson.lessonDescription," ")}}function Ju(o,t){o&1&&(a(0,"div",70)(1,"span",71),s(2,"Loading..."),r()())}function Ku(o,t){if(o&1&&(a(0,"div",72)(1,"small"),s(2),r()()),o&2){let e=g(3);c(),D("text-success",e.isCheckedIn)("text-danger",!e.isCheckedIn),c(),O(" ",e.attendanceMessage," ")}}function Xu(o,t){if(o&1){let e=E();a(0,"div",59)(1,"div",60)(2,"div")(3,"h5",61),f(4,"i",62),s(5,"Attendance "),r(),a(6,"p",63),s(7,"Mark your attendance for this lesson."),r()(),a(8,"div",64),_(9,Ju,3,0,"div",65),a(10,"div",66)(11,"input",67),y("change",function(m){C(e);let h=g(2);return M(h.onAttendanceChange(m))}),r(),a(12,"label",68),s(13),r()()()(),_(14,Ku,3,5,"div",69),r()}if(o&2){let e=g(2);c(9),d("ngIf",e.attendanceLoading),c(2),d("checked",e.isCheckedIn)("disabled",e.attendanceLoading),c(2),O(" ",e.isCheckedIn?"Checked In":"Mark Check-in"," "),c(),d("ngIf",e.attendanceMessage)}}function Zu(o,t){if(o&1&&(a(0,"a",80),f(1,"i",81),s(2," Open "),r()),o&2){let e=g().$implicit;d("href",e.resource_Url,ne)}}function e0(o,t){if(o&1&&(a(0,"div",82)(1,"div",83),f(2,"iframe",84),Ee(3,"safe"),r(),a(4,"div",85)(5,"a",86),f(6,"i",87),s(7," Download PDF "),r()()()),o&2){let e=g().$implicit;c(2),d("src",He(3,2,e.resource_Url,"resourceUrl"),Mi),c(3),d("href",e.resource_Url,ne)}}function t0(o,t){if(o&1&&(a(0,"li",75)(1,"div",76)(2,"div")(3,"strong"),s(4),r(),a(5,"span",77),s(6),r()(),_(7,Zu,3,1,"a",78),r(),_(8,e0,8,5,"div",79),r()),o&2){let e=t.$implicit;c(4),N(e.resource_Name),c(2),N(e.resource_Type),c(),d("ngIf",e.resource_Url),c(),d("ngIf",e.resource_Type==="pdf"&&e.resource_Url)}}function n0(o,t){if(o&1&&(a(0,"ul",73),_(1,t0,9,4,"li",74),r()),o&2){let e=g(2);c(),d("ngForOf",e.lesson.resources)}}function i0(o,t){o&1&&(a(0,"div",88),f(1,"i",89),a(2,"p",46),s(3,"No resources available for this lesson."),r()())}function o0(o,t){if(o&1&&(a(0,"div"),_(1,Wu,8,2,"div",33)(2,$u,5,0,"div",34),a(3,"div",35)(4,"div",36)(5,"div",37)(6,"div")(7,"span",38),s(8),r(),a(9,"h4",39),s(10),r()(),a(11,"div"),_(12,Yu,3,0,"span",40)(13,Hu,3,0,"span",41),r()(),_(14,Gu,2,1,"p",42),r()(),_(15,Xu,15,5,"div",43),a(16,"div",44)(17,"div",45)(18,"h5",46),f(19,"i",47),s(20," Lesson Resources "),r()(),a(21,"div",36),_(22,n0,2,1,"ul",48)(23,i0,4,0,"div",49),r()()()),o&2){let e=g();c(),d("ngIf",!e.isEnrolled&&e.unitId===e.freeUnitId&&e.currentLessonIndex<e.freeLessonsLimit),c(),d("ngIf",e.isEnrolled),c(6),O("Lesson #",e.lesson.lesson_Id),c(2),N(e.lesson.lesson_Name),c(2),d("ngIf",e.isEnrolled),c(),d("ngIf",!e.isEnrolled),c(),d("ngIf",e.lesson.lessonDescription),c(),d("ngIf",e.isEnrolled&&!e.isAdmin&&!e.isInstructor),c(7),d("ngIf",e.lesson.resources&&e.lesson.resources.length>0),c(),d("ngIf",!e.lesson.resources||e.lesson.resources.length===0)}}var io=class o{constructor(t,e,n,m,h,w,Ue,ht){this.route=t;this.router=e;this.location=n;this.lessonService=m;this.enrollmentService=h;this.authService=w;this.attendanceService=Ue;this.snackBar=ht}lesson;courseId;unitId;lessonId;isLoading=!1;errorMessage="";isEnrolled=!1;canAccessContent=!1;freeLessonsLimit=3;freeUnitId=1;currentLessonIndex=-1;env=Ge;get isInstructor(){return this.authService.isInstructor()}get isAdmin(){return this.authService.isAdmin()}attendanceLoading=!1;attendanceMessage="";isCheckedIn=!1;ngOnInit(){this.courseId=Number(this.route.snapshot.paramMap.get("courseId")),this.unitId=Number(this.route.snapshot.paramMap.get("unitId")),this.lessonId=Number(this.route.snapshot.paramMap.get("lessonId")),this.checkEnrollment()}ngOnDestroy(){this.isCheckedIn&&!this.isAdmin&&!this.isInstructor&&this.authService.UserId&&this.attendanceService.checkOut(this.lessonId).subscribe({next:()=>console.log("Auto check-out success"),error:t=>console.error("Auto check-out error",t)})}onAttendanceChange(t){let e=t.target.checked;this.attendanceLoading=!0,this.attendanceMessage="",e?this.attendanceService.checkIn(this.lessonId).subscribe({next:()=>{this.isCheckedIn=!0,this.attendanceLoading=!1,this.attendanceMessage="Checked in successfully!",this.snackBar.open(this.attendanceMessage,"success")},error:n=>{console.error("Check-in error",n),this.isCheckedIn=!1,t.target.checked=!1,this.attendanceLoading=!1,this.attendanceMessage="Failed to check in.",this.snackBar.open(this.attendanceMessage,"error")}}):this.attendanceService.checkOut(this.lessonId).subscribe({next:()=>{this.isCheckedIn=!1,this.attendanceLoading=!1,this.attendanceMessage="Checked out successfully!",this.snackBar.open(this.attendanceMessage,"success")},error:n=>{console.error("Check-out error",n),this.isCheckedIn=!0,t.target.checked=!0,this.attendanceLoading=!1,this.attendanceMessage="Failed to check out.",this.snackBar.open(this.attendanceMessage,"error")}})}checkEnrollment(){let t=this.authService.UserId;if(this.authService.isAdmin()||this.authService.isInstructor()){this.isEnrolled=!0,this.canAccessContent=!0,this.loadLesson();return}if(!t){this.checkFreeAccess();return}this.enrollmentService.isStudentEnrolled(t,this.courseId).subscribe({next:e=>{this.isEnrolled=e,e?(this.canAccessContent=!0,this.loadLesson()):this.checkFreeAccess()},error:e=>{console.error("Enrollment check error:",e),this.checkFreeAccess()}})}checkFreeAccess(){if(this.unitId!==this.freeUnitId){console.log("\u274C Not Unit 1 - LOCKED"),this.denyAccess();return}this.lessonService.getLessonsByUnit(this.unitId).subscribe({next:t=>{let e=t.sort((m,h)=>m.lesson_Id-h.lesson_Id);if(this.currentLessonIndex=e.findIndex(m=>m.lesson_Id===this.lessonId),this.currentLessonIndex===-1){this.denyAccess("Lesson not found in this unit");return}this.currentLessonIndex<this.freeLessonsLimit?(this.canAccessContent=!0,this.loadLesson()):this.denyAccess()},error:t=>{console.error("Failed to fetch unit lessons:",t),this.denyAccess("Unable to verify lesson access")}})}denyAccess(t){this.canAccessContent=!1,this.errorMessage=t||"This lesson requires enrollment. Please enroll in the course to access this content.",this.snackBar.open(this.errorMessage,"error")}loadLesson(){this.canAccessContent&&(this.isLoading=!0,this.lessonService.getLessonById(this.lessonId).subscribe({next:t=>{this.lesson=t,this.isLoading=!1,!this.isAdmin&&!this.isInstructor&&this.authService.UserId&&this.performAutoCheckIn()},error:t=>{console.error("Error loading lesson:",t),this.errorMessage="An error occurred while loading the lesson.",this.snackBar.open(this.errorMessage,"error"),this.isLoading=!1}}))}performAutoCheckIn(){this.attendanceLoading=!0,this.attendanceService.checkIn(this.lessonId).subscribe({next:t=>{console.log("Auto check-in success",t),this.isCheckedIn=!0,this.attendanceLoading=!1,this.attendanceMessage="You are checked in automatically."},error:t=>{console.error("Auto check-in error",t),t.status===400?(this.isCheckedIn=!0,this.attendanceMessage="You are checked in."):(this.isCheckedIn=!1,this.attendanceMessage="Could not check in automatically."),this.attendanceLoading=!1}})}getPdfResource(){return this.lesson?.resources?.find(t=>t.resource_Type==="pdf")}getPdfUrl(){let t=this.getPdfResource();return t?t.resource_Url:null}goToEnroll(){this.router.navigate(["/Courses"])}goBack(){this.location.back()}static \u0275fac=function(e){return new(e||o)(v(oe),v(V),v(Ns),v(gt),v(Yt),v(Oe),v(Js),v(ae))};static \u0275cmp=T({type:o,selectors:[["app-lesson-details"]],decls:14,vars:5,consts:[[1,"container","py-4"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"mb-0","fw-bold"],[1,"bi","bi-book-fill","me-2","text-accent"],[1,"d-flex","gap-2","align-items-center"],[1,"btn","btn-outline-accent","btn-sm",3,"click"],[1,"bi","bi-arrow-left","me-1"],["class","icon-actions d-flex gap-2",4,"ngIf"],["class","alert alert-info",4,"ngIf"],["class","card border-warning shadow-sm",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],[1,"icon-actions","d-flex","gap-2"],["class","icon-btn-new btn btn-sm btn-light","title","Edit Lesson",3,"routerLink",4,"ngIf"],["class","icon-btn-new btn btn-sm btn-light","title","Delete Lesson",3,"routerLink",4,"ngIf"],["title","Edit Lesson",1,"icon-btn-new","btn","btn-sm","btn-light",3,"routerLink"],[1,"bi","bi-pencil-square","text-primary"],["title","Delete Lesson",1,"icon-btn-new","btn","btn-sm","btn-light",3,"routerLink"],[1,"bi","bi-trash","text-danger"],[1,"alert","alert-info"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"card","border-warning","shadow-sm"],[1,"card-body","text-center","py-5"],[1,"mb-4"],[1,"bi","bi-lock-fill","text-warning",2,"font-size","4rem"],[1,"fw-bold","mb-3"],[1,"lead","text-muted","mb-4"],[1,"alert","alert-info","d-inline-block","mb-4"],[1,"bi","bi-gift-fill","me-2"],[1,"btn","btn-accent","btn-lg","px-5","shadow-sm",3,"click"],[1,"bi","bi-graduation-cap","me-2"],[1,"alert","alert-danger"],[1,"bi","bi-exclamation-triangle-fill","me-2"],["class","alert alert-success mb-4",4,"ngIf"],["class","alert alert-primary mb-4",4,"ngIf"],[1,"card","mb-4","shadow-sm"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-start","mb-3"],[1,"badge","bg-primary","mb-2"],[1,"fw-bold","mb-0"],["class","badge bg-success",4,"ngIf"],["class","badge bg-info",4,"ngIf"],["class","text-muted mb-0",4,"ngIf"],["class","card mb-4 shadow-sm border-0 bg-white",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-header","bg-light"],[1,"mb-0"],[1,"bi","bi-folder2-open","me-2"],["class","list-group list-group-flush",4,"ngIf"],["class","text-center py-4 text-muted",4,"ngIf"],[1,"alert","alert-success","mb-4"],[1,"alert-link","fw-bold",3,"routerLink"],[1,"alert","alert-primary","mb-4"],[1,"bi","bi-check-circle-fill","me-2"],[1,"badge","bg-success"],[1,"bi","bi-check-circle","me-1"],[1,"badge","bg-info"],[1,"bi","bi-eye","me-1"],[1,"text-muted","mb-0"],[1,"card","mb-4","shadow-sm","border-0","bg-white"],[1,"card-body","d-flex","align-items-center","justify-content-between"],[1,"card-title","fw-bold","mb-1"],[1,"bi","bi-calendar-check","me-2","text-primary"],[1,"text-muted","small","mb-0"],[1,"d-flex","align-items-center"],["class","spinner-border spinner-border-sm text-primary me-3","role","status",4,"ngIf"],[1,"form-check","form-switch","fs-5"],["type","checkbox","id","attendanceCheck",1,"form-check-input",3,"change","checked","disabled"],["for","attendanceCheck",1,"form-check-label","ms-2","fw-semibold"],["class","card-footer bg-light py-2",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm","text-primary","me-3"],[1,"visually-hidden"],[1,"card-footer","bg-light","py-2"],[1,"list-group","list-group-flush"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","justify-content-between","align-items-center"],[1,"badge","bg-secondary","ms-2"],["target","_blank","class","btn btn-sm btn-outline-accent",3,"href",4,"ngIf"],["class","mt-3",4,"ngIf"],["target","_blank",1,"btn","btn-sm","btn-outline-accent",3,"href"],[1,"bi","bi-box-arrow-up-right","me-1"],[1,"mt-3"],[1,"border","rounded","p-2","bg-light"],[1,"rounded",2,"width","100%","height","500px","border","none",3,"src"],[1,"mt-2","text-end"],["target","_blank","download","",1,"btn","btn-sm","btn-accent",3,"href"],[1,"bi","bi-download","me-1"],[1,"text-center","py-4","text-muted"],[1,"bi","bi-inbox","display-4","d-block","mb-3"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"h3",2),f(3,"i",3),s(4," Lesson Details "),r(),a(5,"div",4)(6,"button",5),y("click",function(){return n.goBack()}),f(7,"i",6),s(8," Back to Lessons "),r(),_(9,qu,3,2,"div",7),r()(),_(10,Uu,3,0,"div",8)(11,Bu,17,1,"div",9)(12,Qu,3,1,"div",10)(13,o0,24,10,"div",11),r()),e&2&&(c(9),d("ngIf",n.isAdmin||n.isInstructor),c(),d("ngIf",n.isLoading),c(),d("ngIf",!n.isLoading&&!n.canAccessContent),c(),d("ngIf",!n.isLoading&&n.canAccessContent&&n.errorMessage&&!n.lesson),c(),d("ngIf",!n.isLoading&&n.canAccessContent&&n.lesson))},dependencies:[z,ee,F,ue,de,Ln],styles:[".container[_ngcontent-%COMP%]{max-width:900px;margin:auto;padding-top:20px;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}h3[_ngcontent-%COMP%]{font-weight:700;color:var(--heading-color);font-size:24px}.icon-btn-new[_ngcontent-%COMP%]{width:38px;height:38px;border-radius:50%;border:1px solid var(--border-color);background-color:var(--surface-color);box-shadow:0 1px 3px #0000000d;transition:all .15s ease;display:flex;justify-content:center;align-items:center}.icon-btn-new[_ngcontent-%COMP%]:hover{transform:translateY(-1px);border-color:var(--accent-color)}.btn-outline-accent[_ngcontent-%COMP%]{color:var(--accent-color);border-color:var(--accent-color);border-radius:20px;font-size:13px;font-weight:600;transition:all .2s ease}.btn-outline-accent[_ngcontent-%COMP%]:hover{background-color:var(--accent-color);color:var(--contrast-color)}.btn-accent[_ngcontent-%COMP%]{background-color:var(--accent-color);border-color:var(--accent-color);color:var(--contrast-color);border-radius:25px;font-weight:600;transition:all .3s ease}.btn-accent[_ngcontent-%COMP%]:hover{background-color:var(--secondary-accent);border-color:var(--secondary-accent);transform:translateY(-2px);box-shadow:0 6px 20px #00000026}.card[_ngcontent-%COMP%]{border-radius:16px;border:1px solid var(--border-color);background-color:var(--surface-color);transition:all .3s ease}.card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #0000001a}.card-header[_ngcontent-%COMP%]{background-color:var(--background-color);border-bottom:1px solid var(--border-color);border-radius:16px 16px 0 0!important;padding:1rem 1.25rem}.card-body[_ngcontent-%COMP%]{padding:1.5rem}.alert[_ngcontent-%COMP%]{border-radius:12px;border:none;font-size:15px}.alert-success[_ngcontent-%COMP%]{background-color:#e7fbe8;color:#0a7a40;border-left:4px solid var(--secondary-accent)}.alert-primary[_ngcontent-%COMP%], .alert-info[_ngcontent-%COMP%]{background-color:#e6f4f1;color:var(--accent-color);border-left:4px solid var(--accent-color)}.alert-warning[_ngcontent-%COMP%]{background-color:#fff3cd;color:#856404;border-left:4px solid #ffc107}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border-left:4px solid #dc3545}.badge[_ngcontent-%COMP%]{padding:6px 12px;border-radius:20px;font-size:12px;font-weight:600}.badge.bg-primary[_ngcontent-%COMP%]{background-color:var(--accent-color)!important}.badge.bg-success[_ngcontent-%COMP%]{background-color:var(--secondary-accent)!important}.list-group-item[_ngcontent-%COMP%]{background-color:var(--surface-color);border:1px solid var(--border-color);border-radius:12px!important;margin-bottom:12px;padding:1rem 1.25rem;transition:all .2s ease}.list-group-item[_ngcontent-%COMP%]:hover{transform:translate(5px);box-shadow:0 4px 12px #00000014;border-color:var(--accent-color)}.form-check-input[_ngcontent-%COMP%]{width:3rem;height:1.5rem;cursor:pointer}.form-check-input[_ngcontent-%COMP%]:checked{background-color:var(--accent-color);border-color:var(--accent-color)}iframe[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 4px 12px #0000001a}.border-warning[_ngcontent-%COMP%]{border:2px solid #ffc107!important}.text-muted[_ngcontent-%COMP%]{color:var(--text-muted)!important}.fw-bold[_ngcontent-%COMP%]{font-weight:700!important}.fw-semibold[_ngcontent-%COMP%]{font-weight:600!important}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding-top:15px}h3[_ngcontent-%COMP%]{font-size:20px}.btn-lg[_ngcontent-%COMP%]{font-size:14px;padding:10px 20px}}"]})};function r0(o,t){o&1&&(a(0,"div",6),s(1," Loading... "),r())}function a0(o,t){if(o&1&&(a(0,"div",16),s(1),r()),o&2){let e=g(2);c(),O(" ",e.errorMessage," ")}}function s0(o,t){if(o&1){let e=E();a(0,"div"),_(1,a0,2,1,"div",7),a(2,"form",8),y("ngSubmit",function(){C(e);let m=g();return M(m.onSubmit())}),a(3,"div",9)(4,"label",10),s(5,"Lesson Name"),r(),a(6,"input",11),W("ngModelChange",function(m){C(e);let h=g();return Q(h.lessonName,m)||(h.lessonName=m),M(m)}),r()(),a(7,"div",9)(8,"label",10),s(9,"Lesson Description"),r(),a(10,"textarea",12),W("ngModelChange",function(m){C(e);let h=g();return Q(h.lessonDescription,m)||(h.lessonDescription=m),M(m)}),s(11,"        "),r()(),a(12,"div",13)(13,"button",14),y("click",function(){C(e);let m=g();return M(m.cancel())}),s(14," Cancel "),r(),a(15,"button",15),s(16),r()()()()}if(o&2){let e=g();c(),d("ngIf",e.errorMessage),c(5),B("ngModel",e.lessonName),c(4),B("ngModel",e.lessonDescription),c(5),d("disabled",e.isSubmitting),c(),O(" ",e.isSubmitting?"Saving...":"Save Changes"," ")}}var oo=class o{constructor(t,e,n,m){this.route=t;this.router=e;this.lessonService=n;this.snackBar=m}courseId;unitId;lessonId;lessonName="";lessonDescription="";isLoading=!1;isSubmitting=!1;errorMessage="";successMessage="";ngOnInit(){this.courseId=Number(this.route.snapshot.paramMap.get("courseId")),this.unitId=Number(this.route.snapshot.paramMap.get("unitId")),this.lessonId=Number(this.route.snapshot.paramMap.get("lessonId")),this.loadLesson()}loadLesson(){this.isLoading=!0,this.lessonService.getLessonById(this.lessonId).subscribe({next:t=>{this.lessonName=t.lesson_Name,this.lessonDescription=t.lessonDescription??"",this.isLoading=!1},error:t=>{console.error(t),this.errorMessage="\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062F\u0631\u0633.",this.isLoading=!1}})}onSubmit(){if(this.errorMessage="",this.successMessage="",!this.lessonName.trim()){this.errorMessage="Lesson name is required.";return}this.isSubmitting=!0;let t={lesson_Name:this.lessonName,lessonDescription:this.lessonDescription};this.lessonService.updateLesson(this.lessonId,t).subscribe({next:()=>{this.isSubmitting=!1,this.successMessage="Lesson updated successfully.",this.snackBar.open(this.successMessage,"success"),this.router.navigate(["/Courses",this.courseId,"units",this.unitId,"lessons"])},error:e=>{console.error(e),this.isSubmitting=!1,this.errorMessage="Error while updating lesson.",this.snackBar.open(this.errorMessage,"error")}})}cancel(){this.router.navigate(["/Courses",this.courseId,"units",this.unitId,"lessons",this.lessonId])}static \u0275fac=function(e){return new(e||o)(v(oe),v(V),v(gt),v(ae))};static \u0275cmp=T({type:o,selectors:[["app-updatelesson"]],decls:8,vars:2,consts:[[1,"container","py-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"mb-0"],[1,"btn","btn-secondary","btn-sm",3,"click"],["class","alert alert-info",4,"ngIf"],[4,"ngIf"],[1,"alert","alert-info"],["class","alert alert-danger",4,"ngIf"],["novalidate","",3,"ngSubmit"],[1,"mb-3"],[1,"form-label"],["placeholder","Lesson Name","type","text","name","lessonName","required","",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","lesson Descripetion","rows","3","name","lessonDescription",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-end","gap-2"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"alert","alert-danger"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"h3",2),s(3,"Edit Lesson"),r(),a(4,"a",3),y("click",function(){return n.cancel()}),s(5," \u2190 Back "),r()(),_(6,r0,2,0,"div",4)(7,s0,17,5,"div",5),r()),e&2&&(c(6),d("ngIf",n.isLoading),c(),d("ngIf",!n.isLoading))},dependencies:[z,F,ge,ye,ce,le,Me,Ve,Ie,Re,de],styles:[".container[_ngcontent-%COMP%]{max-width:650px;margin:auto;padding-top:35px;animation:_ngcontent-%COMP%_fadeIn .4s ease-in-out}h3[_ngcontent-%COMP%]{font-weight:700}.btn-sm[_ngcontent-%COMP%]{padding:5px 12px!important;font-size:14px;border-radius:6px!important}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}.alert[_ngcontent-%COMP%]{border-radius:7px;text-align:center;font-size:15px}form[_ngcontent-%COMP%]{background:#fff;padding:20px 18px;border-radius:10px;box-shadow:0 3px 12px #0000000f;border:1px solid #f0f0f0}.form-label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:6px}.form-control[_ngcontent-%COMP%]{border-radius:8px;border:1px solid #ced4da;font-size:14px;padding:8px 10px;transition:border-color .2s ease,box-shadow .2s ease}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;box-shadow:0 0 0 .15rem #007bff40}textarea.form-control[_ngcontent-%COMP%]{resize:vertical}button[_ngcontent-%COMP%]{padding:8px 22px!important;font-size:15px;border-radius:6px}.btn-outline-secondary[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0069d9}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}"]})};function c0(o,t){o&1&&(a(0,"div",5),s(1," Loading... "),r())}function l0(o,t){if(o&1&&(a(0,"div",6),s(1),r()),o&2){let e=g();c(),O(" ",e.errorMessage," ")}}function d0(o,t){if(o&1){let e=E();a(0,"div")(1,"p"),s(2,"Are You Sure Delete This Lesson!!."),r(),a(3,"div",7)(4,"div",8)(5,"h5",9),s(6),r(),a(7,"p",10),s(8),r(),a(9,"p",11)(10,"strong"),s(11,"Lesson Id:"),r(),s(12),r(),a(13,"p",11)(14,"strong"),s(15,"Unit Id:"),r(),s(16),r()()(),a(17,"div",12)(18,"button",13),y("click",function(){C(e);let m=g();return M(m.cancel())}),s(19," Cancel "),r(),a(20,"button",14),y("click",function(){C(e);let m=g();return M(m.confirmDelete())}),s(21),r()()()}if(o&2){let e=g();c(6),N(e.lesson.lesson_Name),c(2),N(e.lesson.lessonDescription),c(4),O(" ",e.lesson.lesson_Id," "),c(4),O(" ",e.lesson.unit_Id," "),c(2),d("disabled",e.isDeleting),c(2),d("disabled",e.isDeleting),c(),O(" ",e.isDeleting?"Deleting...":"Yes, delete"," ")}}var ro=class o{constructor(t,e,n){this.route=t;this.router=e;this.lessonService=n}courseId;unitId;lessonId;lesson;isLoading=!1;isDeleting=!1;errorMessage="";ngOnInit(){this.courseId=Number(this.route.snapshot.paramMap.get("courseId")),this.unitId=Number(this.route.snapshot.paramMap.get("unitId")),this.lessonId=Number(this.route.snapshot.paramMap.get("lessonId")),this.loadLesson()}loadLesson(){this.isLoading=!0,this.lessonService.getLessonById(this.lessonId).subscribe({next:t=>{this.lesson=t,this.isLoading=!1},error:t=>{console.error(t),this.errorMessage="\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062F\u0631\u0633.",this.isLoading=!1}})}confirmDelete(){this.lesson&&(this.isDeleting=!0,this.lessonService.deleteLesson(this.lessonId).subscribe({next:()=>{this.isDeleting=!1,this.router.navigate(["/Courses",this.courseId,"units",this.unitId,"lessons"])},error:t=>{console.error(t),this.isDeleting=!1,this.errorMessage="\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0627\u0644\u062F\u0631\u0633."}}))}cancel(){this.router.navigate(["/Courses",this.courseId,"units",this.unitId,"lessons"])}static \u0275fac=function(e){return new(e||o)(v(oe),v(V),v(gt))};static \u0275cmp=T({type:o,selectors:[["app-delete-lesson"]],decls:6,vars:3,consts:[[1,"container","py-4"],[1,"mb-3","text-danger"],["class","alert alert-info",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],[1,"alert","alert-info"],[1,"alert","alert-danger"],[1,"card","mb-3"],[1,"card-body"],[1,"card-title"],[1,"card-text","text-muted"],[1,"mb-0"],[1,"d-flex","justify-content-end","gap-2"],[1,"btn","btn-outline-secondary",3,"click","disabled"],[1,"btn","btn-danger",3,"click","disabled"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"h3",1),s(2,"Confirm Delete"),r(),_(3,c0,2,0,"div",2)(4,l0,2,1,"div",3)(5,d0,22,7,"div",4),r()),e&2&&(c(3),d("ngIf",n.isLoading),c(),d("ngIf",!n.isLoading&&n.errorMessage),c(),d("ngIf",!n.isLoading&&n.lesson))},dependencies:[z,F],styles:[".container[_ngcontent-%COMP%]{max-width:650px;margin:auto;padding-top:40px;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}h3[_ngcontent-%COMP%]{font-weight:700;text-align:center;margin-bottom:25px}.confirm-text[_ngcontent-%COMP%]{font-size:18px;text-align:center;margin-bottom:25px;color:#444}.card[_ngcontent-%COMP%]{border-radius:10px;border-left:5px solid #dc3545;box-shadow:0 4px 10px #00000014;transition:transform .2s ease,box-shadow .2s ease}.card[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 5px 15px #0000001f}.card-title[_ngcontent-%COMP%]{font-weight:600;color:#dc3545}.card-text[_ngcontent-%COMP%]{font-size:15px;color:#777}button[_ngcontent-%COMP%]{padding:8px 25px!important;font-size:15px;border-radius:6px}.btn-danger[_ngcontent-%COMP%]{background:#dc3545;border-color:#dc3545;font-weight:700}.btn-danger[_ngcontent-%COMP%]:hover{background:#b71c1c}.btn-outline-secondary[_ngcontent-%COMP%]:hover{background:#e6e6e6}.alert[_ngcontent-%COMP%]{border-radius:8px;text-align:center;font-size:15px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})};var Cr=(n=>(n[n.MultipleChoice=0]="MultipleChoice",n[n.TrueFalse=1]="TrueFalse",n[n.ShortAnswer=2]="ShortAnswer",n))(Cr||{});function m0(o,t){o&1&&(a(0,"div",30),s(1," Quiz name is required "),r())}function p0(o,t){if(o&1){let e=E();a(0,"div",3)(1,"div",15)(2,"h5",16),s(3,"Step 1: Quiz Information"),r()(),a(4,"div",4)(5,"div",5)(6,"label",17),s(7,"Quiz Name "),a(8,"span",18),s(9,"*"),r()(),f(10,"input",19),_(11,m0,2,0,"div",20),r(),a(12,"div",21)(13,"div",22)(14,"label",17),s(15,"Duration (minutes) "),a(16,"span",18),s(17,"*"),r()(),f(18,"input",23),r(),a(19,"div",22)(20,"label",17),s(21,"Total Marks "),a(22,"span",18),s(23,"*"),r()(),f(24,"input",24),r()()(),a(25,"div",25)(26,"div",26)(27,"button",27),y("click",function(){C(e);let m=g();return M(m.cancel())}),s(28," Cancel "),r(),a(29,"button",28),y("click",function(){C(e);let m=g();return M(m.nextStep())}),s(30," Next: Add Questions "),f(31,"i",29),r()()()()}if(o&2){let e,n=g();c(11),d("ngIf",((e=n.quizForm.get("quiz_Name"))==null?null:e.invalid)&&((e=n.quizForm.get("quiz_Name"))==null?null:e.touched)),c(18),d("disabled",n.submitting)}}function u0(o,t){if(o&1){let e=E();a(0,"button",60),y("click",function(){C(e);let m=g().index,h=g().index,w=g(2);return M(w.removeChoice(h,m))}),f(1,"i",61),r()}}function g0(o,t){if(o&1){let e=E();a(0,"div",54)(1,"div",55)(2,"div",56)(3,"input",57),y("change",function(){let m=C(e).index,h=g().index,w=g(2);return M(w.setCorrectChoice(h,m))}),r()(),f(4,"input",58),_(5,u0,2,0,"button",59),r()()}if(o&2){let e,n=t.$implicit,m=t.index,h=g().index,w=g(2);d("formGroupName",m),c(3),d("name","correct-"+h)("checked",(e=n.get("isCorrect"))==null?null:e.value),c(2),d("ngIf",w.getChoices(h).length>2)}}function f0(o,t){if(o&1){let e=E();a(0,"div",38)(1,"div",39)(2,"div",40)(3,"h6",16),s(4),r(),a(5,"button",41),y("click",function(){let m=C(e).index,h=g(2);return M(h.removeQuestion(m))}),f(6,"i",42),s(7," Remove "),r()()(),a(8,"div",4)(9,"div",5)(10,"label",17),s(11,"Question "),a(12,"span",18),s(13,"*"),r()(),f(14,"textarea",43),r(),a(15,"div",44)(16,"div",45)(17,"label",46),s(18,"Question Type"),r(),a(19,"select",47)(20,"option",48),s(21,"Multiple Choice"),r(),a(22,"option",48),s(23,"True/False"),r()()(),a(24,"div",45)(25,"label",17),s(26,"Points "),a(27,"span",18),s(28,"*"),r()(),f(29,"input",49),r()(),a(30,"div",50)(31,"label",17),s(32,"Answer Choices "),a(33,"span",18),s(34,"*"),r()(),_(35,g0,6,4,"div",51),a(36,"button",52),y("click",function(){let m=C(e).index,h=g(2);return M(h.addChoice(m))}),f(37,"i",53),s(38," Add Choice "),r()()()()}if(o&2){let e=t.index,n=g(2);d("formGroupName",e),c(4),O("Question ",e+1),c(16),d("value",n.QuestionType.MultipleChoice),c(2),d("value",n.QuestionType.TrueFalse),c(13),d("ngForOf",n.getChoices(e).controls)}}function h0(o,t){if(o&1){let e=E();a(0,"div")(1,"div",31),_(2,f0,39,5,"div",32),r(),a(3,"div",33)(4,"button",34),y("click",function(){C(e);let m=g();return M(m.addQuestion())}),f(5,"i",6),s(6," Add Another Question "),r()(),a(7,"div",35)(8,"div",4)(9,"div",26)(10,"button",27),y("click",function(){C(e);let m=g();return M(m.cancel())}),s(11," Cancel "),r(),a(12,"button",36),y("click",function(){C(e);let m=g();return M(m.submitQuestions())}),f(13,"i",37),s(14," Create Quiz "),r()()()()()}if(o&2){let e=g();c(2),d("ngForOf",e.questions.controls),c(10),d("disabled",e.submitting||e.questions.length===0)}}var ao=class o{constructor(t,e,n,m,h){this.fb=t;this.quizService=e;this.route=n;this.router=m;this.snackBar=h}quizForm;lessonId=0;submitting=!1;currentStep=1;createdQuizId=0;QuestionType=Cr;ngOnInit(){this.lessonId=+this.route.snapshot.params.lessonId,this.initForm()}initForm(){this.quizForm=this.fb.group({quiz_Name:["",[U.required,U.maxLength(100)]],duration:[30,[U.required,U.min(1)]],totalMarks:[100,[U.required,U.min(1)]],questions:this.fb.array([])})}get questions(){return this.quizForm.get("questions")}createQuestionGroup(){return this.fb.group({question_Text:["",[U.required,U.maxLength(500)]],question_Type:[0,U.required],grade_Point:[10,[U.required,U.min(1)]],correctAnswer:["",U.required],choices:this.fb.array([this.createChoiceGroup(),this.createChoiceGroup()])})}createChoiceGroup(){return this.fb.group({choiceText:["",[U.required,U.maxLength(500)]],isCorrect:[!1]})}addQuestion(){this.questions.push(this.createQuestionGroup())}removeQuestion(t){this.questions.removeAt(t)}getChoices(t){return this.questions.at(t).get("choices")}addChoice(t){this.getChoices(t).push(this.createChoiceGroup())}removeChoice(t,e){this.getChoices(t).removeAt(e)}setCorrectChoice(t,e){let n=this.getChoices(t);for(let h=0;h<n.length;h++)n.at(h).get("isCorrect")?.setValue(!1);n.at(e).get("isCorrect")?.setValue(!0);let m=n.at(e).get("choiceText")?.value;this.questions.at(t).get("correctAnswer")?.setValue(m)}nextStep(){if(this.currentStep===1){if(this.quizForm.get("quiz_Name")?.invalid||this.quizForm.get("duration")?.invalid||this.quizForm.get("totalMarks")?.invalid){this.snackBar.open("Please fill in all quiz details","error");return}this.submitting=!0;let t={quiz_Name:this.quizForm.get("quiz_Name")?.value,lesson_Id:this.lessonId,totalMarks:this.quizForm.get("totalMarks")?.value,duration:this.quizForm.get("duration")?.value};this.quizService.createQuiz(t).subscribe({next:e=>{this.createdQuizId=e.quiz_Id,this.currentStep=2,this.submitting=!1},error:e=>{console.error("Error creating quiz:",e),this.snackBar.open("Failed to create quiz","error"),this.submitting=!1}})}}submitQuestions(){if(this.questions.length===0){this.snackBar.open("Please add at least one question","error");return}if(this.quizForm.get("questions")?.invalid){this.snackBar.open("Please fill in all question details","error");return}this.submitting=!0;let t=0,e=this.questions.length;this.questions.controls.forEach(n=>{let m={quiz_Id:this.createdQuizId,question_Text:n.get("question_Text")?.value,question_Type:n.get("question_Type")?.value,grade_Point:n.get("grade_Point")?.value,correctAnswer:n.get("correctAnswer")?.value,choices:n.get("choices")?.value};this.quizService.addQuestion(m).subscribe({next:()=>{t++,t===e&&(this.submitting=!1,this.snackBar.open("Quiz created successfully!","success"),this.router.navigate(["/lesson",this.lessonId,"quizzes"]))},error:h=>{console.error("Error adding question:",h),t++,t===e&&(this.submitting=!1,this.snackBar.open("Some questions failed to save","error"))}})})}cancel(){confirm("Are you sure you want to cancel? All progress will be lost.")&&this.router.navigate(["/lesson",this.lessonId,"quizzes"])}static \u0275fac=function(e){return new(e||o)(v(kt),v(Tt),v(oe),v(V),v(ae))};static \u0275cmp=T({type:o,selectors:[["app-create-quiz-component"]],decls:23,vars:11,consts:[[1,"container","mt-4"],[1,"row","justify-content-center"],[1,"col-lg-10"],[1,"card","shadow-sm","mb-4"],[1,"card-body"],[1,"mb-3"],[1,"bi","bi-plus-circle"],[1,"steps-indicator"],[1,"step"],[1,"step-number"],[1,"step-label"],[1,"step-line"],[3,"formGroup"],["class","card shadow-sm mb-4",4,"ngIf"],[4,"ngIf"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"form-label"],[1,"text-danger"],["type","text","formControlName","quiz_Name","placeholder","Enter quiz name",1,"form-control"],["class","text-danger small mt-1",4,"ngIf"],[1,"row"],[1,"col-md-6","mb-3"],["type","number","formControlName","duration","min","1","placeholder","30",1,"form-control"],["type","number","formControlName","totalMarks","min","1","placeholder","100",1,"form-control"],[1,"card-footer","bg-transparent"],[1,"d-flex","justify-content-between"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"bi","bi-arrow-right"],[1,"text-danger","small","mt-1"],["formArrayName","questions"],["class","card shadow-sm mb-3",3,"formGroupName",4,"ngFor","ngForOf"],[1,"text-center","mb-3"],["type","button",1,"btn","btn-outline-primary","btn-lg",3,"click"],[1,"card","shadow-sm"],["type","button",1,"btn","btn-success","btn-lg",3,"click","disabled"],[1,"bi","bi-check-circle"],[1,"card","shadow-sm","mb-3",3,"formGroupName"],[1,"card-header","bg-light"],[1,"d-flex","justify-content-between","align-items-center"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"bi","bi-trash"],["formControlName","question_Text","rows","2","placeholder","Enter your question",1,"form-control"],[1,"row","mb-3"],[1,"col-md-6"],["for","Question",1,"form-label"],["id","Question","formControlName","question_Type",1,"form-select"],[3,"value"],["placeholder","Number","type","number","formControlName","grade_Point","min","1",1,"form-control"],["formArrayName","choices"],["class","choice-group mb-2",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-sm","btn-outline-primary","mt-2",3,"click"],[1,"bi","bi-plus"],[1,"choice-group","mb-2",3,"formGroupName"],[1,"input-group"],[1,"input-group-text"],["type","radio","title","Mark as correct answer",3,"change","name","checked"],["type","text","formControlName","choiceText","placeholder","Enter choice text",1,"form-control"],["type","button","class","btn btn-outline-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"bi","bi-x"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),f(6,"i",6),s(7," Create New Quiz "),r(),a(8,"div",7)(9,"div",8)(10,"div",9),s(11,"1"),r(),a(12,"div",10),s(13,"Quiz Details"),r()(),f(14,"div",11),a(15,"div",8)(16,"div",9),s(17,"2"),r(),a(18,"div",10),s(19,"Add Questions"),r()()()()(),a(20,"form",12),_(21,p0,32,2,"div",13)(22,h0,15,2,"div",14),r()()()()),e&2&&(c(9),D("active",n.currentStep===1)("completed",n.currentStep>1),c(5),D("completed",n.currentStep>1),c(),D("active",n.currentStep===2),c(5),d("formGroup",n.quizForm),c(),d("ngIf",n.currentStep===1),c(),d("ngIf",n.currentStep===2))},dependencies:[z,ee,F,Ze,ye,In,kn,ce,Xe,Sn,le,Me,En,Fe,ut,$s,Ys,de],styles:['.container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;padding:20px}.card[_ngcontent-%COMP%]{border:none;border-radius:16px;box-shadow:0 4px 16px #00000014;overflow:hidden}.card-body[_ngcontent-%COMP%]{padding:30px}h3[_ngcontent-%COMP%]{color:var(--heading-color);font-weight:700;font-size:1.8rem;margin-bottom:25px}h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--accent-color);margin-right:12px}.steps-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:25px 0;padding:20px}.step[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:relative}.step-number[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background:#e9ecef;color:#6c757d;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:1.3rem;margin-bottom:10px;transition:all .4s ease;border:3px solid #e9ecef;box-shadow:0 2px 8px #0000001a}.step.active[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--accent-color) 0%,var(--secondary-accent) 100%);color:#fff;border-color:var(--secondary-accent);transform:scale(1.15);box-shadow:0 4px 16px #667eea66}.step.completed[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7);color:#fff;border-color:#43e97b;box-shadow:0 4px 16px #43e97b66}.step.completed[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]:after{content:"\\2713";position:absolute;font-size:1.8rem;font-weight:700}.step-label[_ngcontent-%COMP%]{font-size:1rem;color:#6c757d;font-weight:600;text-align:center}.step.active[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:var(--heading-color);font-weight:700}.step.completed[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:#43e97b}.step-line[_ngcontent-%COMP%]{width:120px;height:3px;background:var(--default-color);margin:0 15px 30px;position:relative;transition:all .4s ease}.step-line[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;height:100%;width:0;background:linear-gradient(90deg,#43e97b,#38f9d7);transition:width .4s ease}.step-line.completed[_ngcontent-%COMP%]:before{width:100%}.form-label[_ngcontent-%COMP%]{color:var(--heading-color);font-weight:600;font-size:.95rem;margin-bottom:8px}.form-label[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{color:#e74c3c;font-size:1rem}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border:2px solid #e9ecef;border-radius:10px;padding:12px 16px;font-size:1rem;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:var(--secondary-accent);box-shadow:0 0 0 .2rem #667eea26;outline:none}textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.text-danger.small[_ngcontent-%COMP%]{font-size:.85rem;margin-top:5px}.card-header[_ngcontent-%COMP%]{padding:18px 25px;border:none}.card-header.bg-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--accent-color) 0%,var(--secondary-accent) 100%)!important}.card-header.bg-light[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef)!important}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0;font-weight:700}.choice-group[_ngcontent-%COMP%]{position:relative;margin-bottom:12px}.input-group[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden;box-shadow:0 2px 8px #0000000d}.input-group-text[_ngcontent-%COMP%]{background:var(--background-color);border:2px solid #e9ecef;border-right:none;cursor:pointer;transition:all .3s ease;padding:12px 16px}.input-group-text[_ngcontent-%COMP%]:hover{background:#e9ecef}.input-group-text[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-left:none;border-radius:0}.input-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:0 10px 10px 0}.btn[_ngcontent-%COMP%]{padding:12px 28px;border-radius:10px;font-weight:600;font-size:1rem;transition:all .3s ease;border:none}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--accent-color) 0%,var(--secondary-accent) 100%);color:var(--background-color);box-shadow:0 4px 12px #667eea4d}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,var(--accent-color) 0%,var(--secondary-accent) 100%);transform:translateY(-2px);box-shadow:0 6px 16px #667eea66}.btn-outline-primary[_ngcontent-%COMP%]{border:2px solid var(--accent-color);color:var(--accent-color);background:#fff;padding:10px 24px}.btn-outline-primary[_ngcontent-%COMP%]:hover{background:var(--accent-color);color:var(--background-color);transform:scale(1.05)}.btn-outline-secondary[_ngcontent-%COMP%]{border:2px solid #6c757d;color:#6c757d;background:var(--background-color)}.btn-outline-secondary[_ngcontent-%COMP%]:hover{background:#6c757d;color:var(--background-color)}.btn-outline-danger[_ngcontent-%COMP%]{border:2px solid #e74c3c;color:#e74c3c;background:#fff;padding:8px 16px}.btn-outline-danger[_ngcontent-%COMP%]:hover{background:#e74c3c;color:#fff}.btn-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--accent-color) 0%,var(--secondary-accent) 100%);color:#fff;font-size:1.1rem;padding:14px 32px;box-shadow:0 4px 12px #43e97b4d}.btn-success[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,var(--accent-color) 0%,var(--secondary-accent) 100%);transform:translateY(-2px);box-shadow:0 6px 16px #43e97b66}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:6px}.card-footer[_ngcontent-%COMP%]{padding:20px 25px;background:#f8f9fa;border-top:2px solid #e9ecef}.card-footer.bg-transparent[_ngcontent-%COMP%]{background:transparent!important;border-top:2px solid #e9ecef}.text-center[_ngcontent-%COMP%]{text-align:center}.btn-lg[_ngcontent-%COMP%]{padding:14px 36px;font-size:1.1rem}@media (max-width: 768px){h3[_ngcontent-%COMP%]{font-size:1.4rem}.steps-indicator[_ngcontent-%COMP%]{flex-direction:column;padding:15px}.step-line[_ngcontent-%COMP%]{width:3px;height:50px;margin:8px 0}.step-line[_ngcontent-%COMP%]:before{width:100%;height:0;transition:height .4s ease}.step-line.completed[_ngcontent-%COMP%]:before{height:100%;width:100%}.step-number[_ngcontent-%COMP%]{width:45px;height:45px;font-size:1.1rem}.step-label[_ngcontent-%COMP%]{font-size:.9rem}.card-body[_ngcontent-%COMP%]{padding:20px}.btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:.95rem}.btn-lg[_ngcontent-%COMP%]{padding:12px 28px;font-size:1rem}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{padding:10px 14px;font-size:.95rem}}*[_ngcontent-%COMP%]{transition:background-color .3s ease,border-color .3s ease}.btn[_ngcontent-%COMP%]:focus, .form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{outline:none}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .4s ease}']})};var _0=()=>[1,2,3,4,5,6];function b0(o,t){o&1&&(a(0,"div",8),f(1,"app-skeleton-card",9),r()),o&2&&(c(),d("showImage",!1)("lines",4)("showActions",!0))}function v0(o,t){o&1&&(a(0,"div",1),_(1,b0,2,3,"div",7),r()),o&2&&(c(),d("ngForOf",pe(1,_0)))}function x0(o,t){if(o&1&&(a(0,"div",10),s(1),r()),o&2){let e=g();c(),O(" ",e.errorMessage,`
`)}}function C0(o,t){if(o&1){let e=E();a(0,"div",8)(1,"div",11)(2,"div",12)(3,"h5",13),s(4),r(),a(5,"p",14),s(6),r(),a(7,"div",15)(8,"div",16)(9,"span"),f(10,"i",17),s(11," Duration:"),r(),a(12,"strong"),s(13),r()(),a(14,"div",16)(15,"span"),f(16,"i",18),s(17," Total Marks:"),r(),a(18,"strong"),s(19),r()(),a(20,"div",19)(21,"span"),f(22,"i",20),s(23," Questions:"),r(),a(24,"strong"),s(25),r()()()(),a(26,"div",21)(27,"button",22),y("click",function(){let m=C(e).$implicit,h=g(2);return M(h.startQuiz(m.quiz_Id))}),f(28,"i",23),s(29," Start Quiz "),r(),a(30,"div",24)(31,"button",25),y("click",function(){let m=C(e).$implicit,h=g(2);return M(h.viewResult(m.quiz_Id))}),f(32,"i",26),s(33," View Result "),r(),a(34,"button",27),y("click",function(){let m=C(e).$implicit,h=g(2);return M(h.deleteQuiz(m.quiz_Id))}),f(35,"i",28),r()()()()()}if(o&2){let e=t.$implicit;c(4),N(e.quiz_Name),c(2),N(e.lesson_Name),c(7),O("",e.duration," minutes"),c(6),N(e.totalMarks),c(6),N(e.questions.length)}}function M0(o,t){if(o&1&&(a(0,"div",1),_(1,C0,36,5,"div",7),r()),o&2){let e=g();c(),d("ngForOf",e.quizzes)}}function y0(o,t){o&1&&(a(0,"div"),f(1,"i",29),s(2," No quizzes available for this lesson yet. "),r())}var so=class o{constructor(t,e,n,m){this.quizService=t;this.route=e;this.router=n;this.snackBar=m}quizzes=[];lessonId=0;loading=!1;errorMessage="";ngOnInit(){this.route.params.subscribe(t=>{this.lessonId=+t.lessonId,this.lessonId&&this.loadQuizzes()})}loadQuizzes(){this.loading=!0,this.errorMessage="",this.quizService.getQuizzesByLessonId(this.lessonId).subscribe({next:t=>{this.quizzes=t,this.loading=!1},error:t=>{this.errorMessage="Failed to load quizzes",this.loading=!1,console.error("Error loading quizzes:",t)}})}startQuiz(t){this.router.navigate(["/quiz/take",t])}viewResult(t){this.router.navigate(["/quiz/result",t])}deleteQuiz(t){confirm("Are you sure you want to delete this quiz?")&&this.quizService.deleteQuiz(t).subscribe({next:()=>{this.loadQuizzes(),this.snackBar.open("Quiz deleted successfully","success")},error:e=>{console.error("Error deleting quiz:",e),this.snackBar.open("Failed to delete quiz","error")}})}static \u0275fac=function(e){return new(e||o)(v(Tt),v(oe),v(V),v(ae))};static \u0275cmp=T({type:o,selectors:[["app-quiz-list-component"]],decls:9,vars:4,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12"],[1,"mb-4"],["class","row",4,"ngIf"],["class","text-danger text-center fw-bold mt-3",4,"ngIf"],[4,"ngIf"],["class","col-md-6 col-lg-4 mb-4",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-4","mb-4"],["animation","wave",3,"showImage","lines","showActions"],[1,"text-danger","text-center","fw-bold","mt-3"],[1,"card","h-100","shadow-sm"],[1,"card-body"],[1,"card-title"],[1,"card-text","text-muted"],[1,"quiz-info","mb-3"],[1,"d-flex","justify-content-between","mb-2"],[1,"bi","bi-clock"],[1,"bi","bi-award"],[1,"d-flex","justify-content-between"],[1,"bi","bi-question-circle"],[1,"card-footer","bg-transparent"],[1,"btn","btn-primary","btn-sm","w-100","mb-2",3,"click"],[1,"bi","bi-play-fill"],[1,"d-flex","gap-2"],[1,"btn","btn-outline-info","btn-sm","flex-fill",3,"click"],[1,"bi","bi-graph-up"],[1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],[1,"bi","bi-info-circle"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),s(4,"Available Quizzes"),r(),_(5,v0,2,2,"div",4)(6,x0,2,1,"div",5)(7,M0,2,1,"div",4)(8,y0,3,0,"div",6),r()()()),e&2&&(c(5),d("ngIf",n.loading),c(),d("ngIf",n.errorMessage),c(),d("ngIf",!n.loading&&n.quizzes.length>0),c(),d("ngIf",!n.loading&&n.quizzes.length===0))},dependencies:[z,ee,F,Nt,de],styles:['.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.card[_ngcontent-%COMP%]{transition:transform .3s ease,box-shadow .3s ease;border:none;border-radius:12px;overflow:hidden}.card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 12px 24px #00000026}.card-title[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.25rem;font-weight:600;margin-bottom:10px}.card-text[_ngcontent-%COMP%]{font-size:.95rem;color:#7f8c8d}.quiz-info[_ngcontent-%COMP%]{background:#f8f9fa;padding:15px;border-radius:8px;font-size:.9rem}.quiz-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#3498db;margin-right:5px}.quiz-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2c3e50;font-weight:600}.card-footer[_ngcontent-%COMP%]{padding:15px 20px;border-top:1px solid #e9ecef}.btn[_ngcontent-%COMP%]{border-radius:8px;font-weight:500;transition:all .3s ease;padding:8px 16px}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border:none}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#764ba2,#667eea);transform:scale(1.02)}.btn-outline-info[_ngcontent-%COMP%]{border:2px solid #3498db;color:#3498db}.btn-outline-info[_ngcontent-%COMP%]:hover{background:#3498db;color:#fff}.btn-outline-danger[_ngcontent-%COMP%]{border:2px solid #e74c3c;color:#e74c3c}.btn-outline-danger[_ngcontent-%COMP%]:hover{background:#e74c3c;color:#fff}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3em}.alert[_ngcontent-%COMP%]{border-radius:8px;border:none;padding:15px 20px}.alert-danger[_ngcontent-%COMP%]{background:#fee;color:#c00}.alert-info[_ngcontent-%COMP%]{background:#e7f3ff;color:#06c}h2[_ngcontent-%COMP%]{color:#2c3e50;font-weight:700;margin-bottom:30px;position:relative;padding-bottom:15px}h2[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:60px;height:4px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:2px}@media (max-width: 768px){.card-title[_ngcontent-%COMP%]{font-size:1.1rem}.quiz-info[_ngcontent-%COMP%]{font-size:.85rem}h2[_ngcontent-%COMP%]{font-size:1.5rem}}']})};function w0(o,t){o&1&&(a(0,"h3"),s(1,"Time is up! Submitting your answers..."),r())}function P0(o,t){o&1&&(a(0,"h3"),s(1,"Submitting your answers..."),r())}function O0(o,t){if(o&1&&(a(0,"div",23)(1,"div",24),_(2,w0,2,0,"h3",25)(3,P0,2,0,"h3",25),a(4,"div",26)(5,"span",27),s(6,"Loading..."),r()()()()),o&2){let e=g(2);c(2),d("ngIf",e.isTimeUp),c(),d("ngIf",e.submitting&&!e.isTimeUp)}}function S0(o,t){if(o&1){let e=E();a(0,"div",37),y("click",function(){let m=C(e).$implicit,h=g(3);return M(h.selectAnswer(m.choiceId))}),a(1,"div",38),f(2,"input",39),a(3,"label",40),s(4),r()()()}if(o&2){let e=t.$implicit,n=g(3);Rt("pointer-events",n.isTimeUp||n.submitting?"none":"auto"),D("selected",n.isAnswerSelected(e.choiceId))("disabled",n.isTimeUp||n.submitting),c(2),d("checked",n.isAnswerSelected(e.choiceId))("id","choice-"+e.choiceId)("disabled",n.isTimeUp||n.submitting),c(),d("for","choice-"+e.choiceId),c(),O(" ",e.choiceText," ")}}function I0(o,t){if(o&1){let e=E();a(0,"button",41),y("click",function(){C(e);let m=g(3);return M(m.nextQuestion())}),s(1," Next "),f(2,"i",42),r()}if(o&2){let e=g(3);d("disabled",e.isTimeUp||e.submitting)}}function k0(o,t){if(o&1){let e=E();a(0,"button",43),y("click",function(){C(e);let m=g(3);return M(m.submitQuiz())}),f(1,"i",44),s(2," Submit Quiz "),r()}if(o&2){let e=g(3);d("disabled",e.submitting||e.isTimeUp)}}function E0(o,t){if(o&1){let e=E();a(0,"div",4)(1,"div",5)(2,"div",20)(3,"span",28),s(4),r()(),a(5,"h5",14),s(6),r(),a(7,"div",29),_(8,S0,5,11,"div",30),r()(),a(9,"div",31)(10,"div",32)(11,"button",33),y("click",function(){C(e);let m=g(2);return M(m.previousQuestion())}),f(12,"i",34),s(13," Previous "),r(),_(14,I0,3,1,"button",35)(15,k0,3,1,"button",36),r()()()}if(o&2){let e=g(2);c(4),O("",e.currentQuestion.grade_Point," Points"),c(2),N(e.currentQuestion.question_Text),c(2),d("ngForOf",e.currentQuestion.choices),c(3),d("disabled",e.currentQuestionIndex===0||e.isTimeUp||e.submitting),c(3),d("ngIf",e.currentQuestionIndex<e.quiz.questions.length-1),c(),d("ngIf",e.currentQuestionIndex===e.quiz.questions.length-1)}}function T0(o,t){if(o&1){let e=E();a(0,"button",45),y("click",function(){let m=C(e).index,h=g(2);return M(h.goToQuestion(m))}),s(1),r()}if(o&2){let e=t.index,n=g(2);D("btn-success",n.isQuestionAnswered(e))("btn-outline-secondary",!n.isQuestionAnswered(e))("btn-primary",e===n.currentQuestionIndex),d("disabled",n.isTimeUp||n.submitting),c(),O(" ",e+1," ")}}function N0(o,t){if(o&1&&(a(0,"div",2),_(1,O0,7,2,"div",3),a(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"h3",8),s(7),r(),a(8,"p",9),s(9),r()(),a(10,"div",10)(11,"div",11),f(12,"i",12),a(13,"span",13),s(14),r()()()()()(),a(15,"div",14)(16,"div",15)(17,"span"),s(18),r(),a(19,"span"),s(20),r()(),a(21,"div",16),f(22,"div",17),r()(),_(23,E0,16,6,"div",18),a(24,"div",19)(25,"div",5)(26,"h6",20),s(27,"Question Navigator"),r(),a(28,"div",21),_(29,T0,2,8,"button",22),r()()()()),o&2){let e=g();c(),d("ngIf",e.isTimeUp||e.submitting),c(6),N(e.quiz.quiz_Name),c(2),O("Total Marks: ",e.quiz.totalMarks),c(2),D("timer-warning",e.timeRemaining<300&&e.timeRemaining>0)("text-danger",e.timeRemaining===0||e.isTimeUp),c(3),N(e.formattedTime),c(4),ze("Question ",e.currentQuestionIndex+1," of ",e.quiz.questions.length),c(2),ze("",e.selectedAnswers.size," / ",e.quiz.questions.length," Answered"),c(2),Rt("width",e.progressPercentage,"%"),c(),d("ngIf",e.currentQuestion),c(6),d("ngForOf",e.quiz.questions)}}function L0(o,t){o&1&&(a(0,"div",46)(1,"div",47)(2,"span",27),s(3,"Loading..."),r()(),a(4,"p",48),s(5,"Loading quiz..."),r()())}var co=class o{constructor(t,e,n,m){this.quizService=t;this.route=e;this.router=n;this.snackBar=m}quiz=null;currentQuestionIndex=0;selectedAnswers=new Map;timeRemaining=0;timerSubscription;loading=!1;submitting=!1;isTimeUp=!1;ngOnInit(){let t=+this.route.snapshot.params.quizId;this.loadQuiz(t)}ngOnDestroy(){this.timerSubscription&&this.timerSubscription.unsubscribe()}loadQuiz(t){this.loading=!0,this.quizService.startQuiz(t).subscribe({next:e=>{this.quiz=e,this.timeRemaining=e.duration*60,this.startTimer(),this.loading=!1},error:e=>{console.error("Error loading quiz:",e),e.status===400&&e.error?.message?.includes("already taken")&&(this.snackBar.open("You have already taken this quiz. Redirecting to results.","info"),this.router.navigate(["/quiz/result",t])),this.loading=!1}})}startTimer(){this.timerSubscription=bs(1e3).subscribe(()=>{this.timeRemaining--,this.timeRemaining<=0&&!this.isTimeUp&&(this.isTimeUp=!0,this.timeRemaining=0,this.submitQuiz(!0))})}get currentQuestion(){return this.quiz?.questions[this.currentQuestionIndex]}get progressPercentage(){return this.quiz?(this.currentQuestionIndex+1)/this.quiz.questions.length*100:0}get formattedTime(){let t=Math.floor(this.timeRemaining/60),e=this.timeRemaining%60;return`${t}:${e.toString().padStart(2,"0")}`}selectAnswer(t){this.isTimeUp||this.submitting||this.currentQuestion&&this.selectedAnswers.set(this.currentQuestion.question_Id,t)}isAnswerSelected(t){return this.currentQuestion?this.selectedAnswers.get(this.currentQuestion.question_Id)===t:!1}nextQuestion(){this.isTimeUp||this.quiz&&this.currentQuestionIndex<this.quiz.questions.length-1&&this.currentQuestionIndex++}previousQuestion(){this.isTimeUp||this.currentQuestionIndex>0&&this.currentQuestionIndex--}goToQuestion(t){this.isTimeUp||(this.currentQuestionIndex=t)}isQuestionAnswered(t){let e=this.quiz?.questions[t];return e?this.selectedAnswers.has(e.question_Id):!1}submitQuiz(t=!1){if(this.submitting)return;if(t)this.timerSubscription&&this.timerSubscription.unsubscribe();else if(this.timerSubscription&&this.timerSubscription.unsubscribe(),!confirm("Are you sure you want to submit the quiz?")){this.timeRemaining>0&&!this.isTimeUp&&this.startTimer();return}if(this.submitting=!0,!this.quiz){this.submitting=!1;return}let e=[];if(this.selectedAnswers.forEach((m,h)=>{e.push({quiz_Id:this.quiz.quiz_Id,question_Id:h,choice_Id:m})}),e.length===0){this.router.navigate(["/quiz/result",this.quiz.quiz_Id]);return}let n=0;e.forEach(m=>{this.quizService.submitAnswer(m).subscribe({next:()=>{n++,n===e.length&&this.router.navigate(["/quiz/result",this.quiz.quiz_Id])},error:h=>{console.error("Error submitting answer:",h),n++,n===e.length&&this.router.navigate(["/quiz/result",this.quiz.quiz_Id])}})})}static \u0275fac=function(e){return new(e||o)(v(Tt),v(oe),v(V),v(ae))};static \u0275cmp=T({type:o,selectors:[["app-take-quiz-component"]],decls:2,vars:2,consts:[["class","container mt-4",4,"ngIf"],["class","text-center mt-5",4,"ngIf"],[1,"container","mt-4"],["class","time-up-overlay",4,"ngIf"],[1,"card","mb-4","shadow-sm"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-md-6"],[1,"mb-0"],[1,"text-muted","mb-0"],[1,"col-md-6","text-md-end"],[1,"timer"],[1,"bi","bi-clock"],[1,"fs-4","fw-bold","ms-2"],[1,"mb-4"],[1,"d-flex","justify-content-between","mb-2"],[1,"progress",2,"height","10px"],["role","progressbar",1,"progress-bar","bg-success"],["class","card mb-4 shadow-sm",4,"ngIf"],[1,"card","shadow-sm"],[1,"mb-3"],[1,"question-navigator"],["class","btn btn-sm m-1",3,"btn-success","btn-outline-secondary","btn-primary","disabled","click",4,"ngFor","ngForOf"],[1,"time-up-overlay"],[1,"text-center"],[4,"ngIf"],["role","status",1,"spinner-border","text-light","mt-3"],[1,"visually-hidden"],[1,"badge","bg-primary"],[1,"choices"],["class","choice-item mb-3",3,"selected","disabled","pointer-events","click",4,"ngFor","ngForOf"],[1,"card-footer","bg-transparent"],[1,"d-flex","justify-content-between"],[1,"btn","btn-outline-secondary",3,"click","disabled"],[1,"bi","bi-arrow-left"],["class","btn btn-primary",3,"disabled","click",4,"ngIf"],["class","btn btn.success",3,"disabled","click",4,"ngIf"],[1,"choice-item","mb-3",3,"click"],[1,"form-check"],["placeholder","choice","type","radio",1,"form-check-input",3,"checked","id","disabled"],[1,"form-check-label","w-100",3,"for"],[1,"btn","btn-primary",3,"click","disabled"],[1,"bi","bi-arrow-right"],[1,"btn","btn.success",3,"click","disabled"],[1,"bi","bi-check-circle"],[1,"btn","btn-sm","m-1",3,"click","disabled"],[1,"text-center","mt-5"],["role","status",1,"spinner-border","text-primary"],[1,"mt-3"]],template:function(e,n){e&1&&_(0,N0,30,16,"div",0)(1,L0,6,0,"div",1),e&2&&(d("ngIf",!n.loading&&n.quiz),c(),d("ngIf",n.loading))},dependencies:[z,ee,F,de],styles:['.container[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:20px}.card[_ngcontent-%COMP%]{border:none;border-radius:12px;box-shadow:0 4px 12px #00000014}.card-body[_ngcontent-%COMP%]{padding:25px}h3[_ngcontent-%COMP%]{color:#2c3e50;font-weight:700;font-size:1.8rem}.timer[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:12px 24px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:50px;font-weight:600;box-shadow:0 4px 12px #667eea66}.timer[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:8px}.timer-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c);animation:_ngcontent-%COMP%_pulse 1s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);box-shadow:0 4px 12px #f5576c66}50%{transform:scale(1.05);box-shadow:0 6px 20px #f5576c99}}.progress[_ngcontent-%COMP%]{height:12px;border-radius:10px;background:#e9ecef;overflow:hidden;box-shadow:inset 0 2px 4px #0000001a}.progress-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#667eea,#764ba2);transition:width .3s ease}.badge[_ngcontent-%COMP%]{padding:8px 16px;border-radius:20px;font-weight:600;font-size:.9rem}.badge.bg-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)!important}h5[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.3rem;font-weight:600;line-height:1.6}.choices[_ngcontent-%COMP%]{margin-top:20px}.choice-item[_ngcontent-%COMP%]{padding:18px 20px;border:3px solid #e9ecef;border-radius:12px;cursor:pointer;transition:all .3s ease;background:#fff;position:relative}.choice-item[_ngcontent-%COMP%]:hover{border-color:#667eea;background:#f8f9ff;transform:translate(5px)}.choice-item.selected[_ngcontent-%COMP%]{border-color:#667eea;background:linear-gradient(135deg,#f8f9ff,#e7eaff);box-shadow:0 4px 12px #667eea33}.choice-item.selected[_ngcontent-%COMP%]:before{content:"\\2713";position:absolute;right:20px;top:50%;transform:translateY(-50%);font-size:1.5rem;color:#667eea;font-weight:700}.form-check[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;align-items:center}.form-check-input[_ngcontent-%COMP%]{width:22px;height:22px;border:2px solid #cbd5e0;cursor:pointer;margin:0;flex-shrink:0}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#667eea;border-color:#667eea}.form-check-label[_ngcontent-%COMP%]{cursor:pointer;margin:0;padding-left:12px;font-size:1.05rem;color:#2c3e50;line-height:1.5;-webkit-user-select:none;user-select:none}.card-footer[_ngcontent-%COMP%]{padding:20px;background:#f8f9fa;border-top:2px solid #e9ecef}.btn[_ngcontent-%COMP%]{padding:10px 24px;border-radius:10px;font-weight:600;transition:all .3s ease;border:none}.btn-outline-secondary[_ngcontent-%COMP%]{border:2px solid #6c757d;color:#6c757d;background:#fff}.btn-outline-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#6c757d;color:#fff;transform:translate(-5px)}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#764ba2,#667eea);transform:translate(5px)}.btn-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7);color:#fff}.btn-success[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#38f9d7,#43e97b);transform:scale(1.05)}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.question-navigator[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;padding:10px 0}.question-navigator[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:48px;height:48px;padding:0;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1rem;border-radius:10px}.question-navigator[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7);border:none}.question-navigator[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{background:#fff;border:2px solid #dee2e6;color:#6c757d}.question-navigator[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border:none;box-shadow:0 4px 12px #667eea66;transform:scale(1.1)}.question-navigator[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#2c3e50;font-weight:600;margin-bottom:15px}.spinner-border[_ngcontent-%COMP%]{width:4rem;height:4rem;border-width:.4em}.time-up-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;z-index:1050;display:flex;align-items:center;justify-content:center;color:#fff}.choice-item.disabled[_ngcontent-%COMP%]{opacity:.6}@media (max-width: 768px){h3[_ngcontent-%COMP%]{font-size:1.4rem}.timer[_ngcontent-%COMP%]{padding:10px 16px;font-size:1.2rem}h5[_ngcontent-%COMP%]{font-size:1.1rem}.choice-item[_ngcontent-%COMP%]{padding:15px}.form-check-label[_ngcontent-%COMP%]{font-size:.95rem}.question-navigator[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:42px;height:42px;font-size:.9rem}}']})};function A0(o,t){o&1&&(a(0,"div",4)(1,"div",5)(2,"span",6),s(3,"Loading..."),r()(),a(4,"p",7),s(5,"Loading results..."),r()())}function z0(o,t){if(o&1&&(a(0,"div",8),s(1),r()),o&2){let e=g();c(),O(" ",e.errorMessage," ")}}function D0(o,t){if(o&1&&(a(0,"p",11)(1,"strong",48),s(2,"Correct Answer:"),r(),a(3,"span",48),s(4),r()()),o&2){let e=g().$implicit;c(4),N(e.correctAnswer)}}function R0(o,t){if(o&1&&(a(0,"div",39)(1,"div",40)(2,"h6",11)(3,"span",41),s(4),r(),a(5,"span",42),s(6),r()(),f(7,"i",43),r(),a(8,"p",44),s(9),r(),a(10,"div",45)(11,"p",46)(12,"strong"),s(13,"Your Answer:"),r(),a(14,"span"),s(15),r()(),_(16,D0,5,1,"p",47),r()()),o&2){let e=t.$implicit,n=t.index;D("bg-success-subtle",e.is_Correct)("bg-danger-subtle",!e.is_Correct),c(3),D("bg-success",e.is_Correct)("bg-danger",!e.is_Correct),c(),O(" Question ",n+1," "),c(2),O("",e.grade_Point," Points"),c(),D("bi-check-circle-fill",e.is_Correct)("text-success",e.is_Correct)("bi-x-circle-fill",!e.is_Correct)("text-danger",!e.is_Correct),c(2),N(e.question_Text),c(5),D("text-success",e.is_Correct)("text-danger",!e.is_Correct),c(),O(" ",e.choice_Text," "),c(),d("ngIf",!e.is_Correct)}}function F0(o,t){if(o&1&&(a(0,"div",49)(1,"div",50)(2,"h5",11),f(3,"i",51),s(4," AI Generated Report"),r()(),a(5,"div",36),f(6,"div",52),r()()),o&2){let e=g(2);c(6),d("innerText",e.formattedReport)}}function V0(o,t){if(o&1){let e=E();a(0,"div")(1,"div",9)(2,"div",10)(3,"h3",11),f(4,"i",12),s(5," Quiz Result"),r()(),a(6,"div",13)(7,"h4",14),s(8),r(),a(9,"div",15)(10,"div",16)(11,"h1",17),s(12),Ee(13,"number"),r(),a(14,"p",18),s(15,"Your Score"),r()()(),a(16,"div",19),f(17,"i",20),s(18),r(),a(19,"div",21)(20,"div",22)(21,"div",23),f(22,"i",24),a(23,"h4",25),s(24),r(),a(25,"small",26),s(26,"Obtained Marks"),r()()(),a(27,"div",22)(28,"div",23),f(29,"i",27),a(30,"h4",25),s(31),r(),a(32,"small",26),s(33,"Total Marks"),r()()(),a(34,"div",22)(35,"div",23),f(36,"i",28),a(37,"h4",25),s(38),r(),a(39,"small",26),s(40,"Correct Answers"),r()()(),a(41,"div",22)(42,"div",23),f(43,"i",29),a(44,"h4",25),s(45),r(),a(46,"small",26),s(47,"Wrong Answers"),r()()()(),a(48,"div",30)(49,"button",31),y("click",function(){C(e);let m=g();return M(m.goBack())}),f(50,"i",32),s(51," Back to Quizzes "),r()()()(),a(52,"div",33)(53,"div",34)(54,"h5",11),f(55,"i",35),s(56," Detailed Review"),r()(),a(57,"div",36),_(58,R0,17,25,"div",37)(59,F0,7,1,"div",38),r()()()}if(o&2){let e=g();c(),Hn("border-"+e.resultClass),c(),Hn("bg-"+e.resultClass+" text-white"),c(6),N(e.result.quiz_Name),c(),Hn("border-"+e.resultClass),c(2),Hn("text-"+e.resultClass),c(),O(" ",He(13,23,e.result.percentage,"1.0-1"),"% "),c(4),D("text-success",e.resultClass==="success")("text-danger",e.resultClass==="danger")("text-warning",e.resultClass==="warning"),c(2),O(" ",e.resultMessage," "),c(6),N(e.result.obtainedMarks),c(7),N(e.result.totalMarks),c(7),N(e.result.correctAnswers),c(7),N(e.result.totalQuestions-e.result.correctAnswers),c(13),d("ngForOf",e.result.answers),c(),d("ngIf",!e.loading&&e.aiReport)}}var lo=class o{constructor(t,e,n){this.quizService=t;this.route=e;this.router=n}result=null;aiReport="";loading=!1;errorMessage="";ngOnInit(){let t=+this.route.snapshot.params.quizId;this.loadResult(t)}loadResult(t){this.loading=!0,this.quizService.getQuizResult(t).subscribe({next:e=>{this.result=e,this.aiReport=e.aiReport||"No AI report available",this.loading=!1},error:e=>{this.errorMessage="Failed to load quiz result",this.loading=!1,console.error("Error loading result:",e)}})}get resultClass(){return this.result?this.result.percentage>=90?"success":this.result.percentage>=70?"info":this.result.percentage>=50?"warning":"danger":""}get resultMessage(){return this.result?this.result.percentage>=90?"Excellent! Outstanding performance!":this.result.percentage>=70?"Good job! Well done!":this.result.percentage>=50?"You passed! Keep practicing!":"You need more practice. Don't give up!":""}goBack(){this.router.navigate(["/lesson/1/quizzes"])}get formattedReport(){return this.aiReport?this.aiReport.replace(/^\s*---\s*$/gm,`
\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500
`).replace(/^\*\*(Exam Performance Report)\*\*/m,"\u{1F4CA} $1").replace(/^\*\*(.+?)\*\*$/gm,`
$1
`).replace(/\*\*(.*?)\*\*/g,"$1"):""}static \u0275fac=function(e){return new(e||o)(v(Tt),v(oe),v(V))};static \u0275cmp=T({type:o,selectors:[["app-quiz-result-component"]],decls:4,vars:3,consts:[[1,"container","mt-4"],["class","text-center mt-5",4,"ngIf"],["class","text-danger text-center fw-bold mt-3",4,"ngIf"],[4,"ngIf"],[1,"text-center","mt-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"text-danger","text-center","fw-bold","mt-3"],[1,"card","shadow-lg","mb-4"],[1,"card-header","text-center"],[1,"mb-0"],[1,"bi","bi-trophy-fill"],[1,"card-body","text-center"],[1,"mb-3"],[1,"score-circle","mx-auto","mb-4"],[1,"score-content"],[1,"display-3","fw-bold","mb-0"],[1,"text-muted","mb-0"],[1,"fw-semibold","mt-3"],[1,"bi","bi-info-circle"],[1,"row","text-center","mt-4"],[1,"col-md-3","col-6","mb-3"],[1,"stat-card"],[1,"bi","bi-award","fs-1","text-warning"],[1,"mt-2","mb-0"],[1,"text-muted"],[1,"bi","bi-star","fs-1","text-info"],[1,"bi","bi-check-circle","fs-1","text-success"],[1,"bi","bi-x-circle","fs-1","text-danger"],[1,"d-flex","gap-3","justify-content-center","mt-4"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-arrow-left"],[1,"card","shadow-sm"],[1,"card-header","bg-light"],[1,"bi","bi-list-check"],[1,"card-body"],["class","answer-item mb-4 p-3 rounded",3,"bg-success-subtle","bg-danger-subtle",4,"ngFor","ngForOf"],["class","card mt-4 shadow-sm",4,"ngIf"],[1,"answer-item","mb-4","p-3","rounded"],[1,"d-flex","justify-content-between","align-items-start","mb-2"],[1,"badge"],[1,"badge","bg-secondary","ms-2"],[1,"bi","fs-4"],[1,"fw-bold","mb-2"],[1,"ms-3"],[1,"mb-1"],["class","mb-0",4,"ngIf"],[1,"text-success"],[1,"card","mt-4","shadow-sm"],[1,"card-header"],[1,"bi","bi-robot"],[1,"ai-report-text",3,"innerText"]],template:function(e,n){e&1&&(a(0,"div",0),_(1,A0,6,0,"div",1)(2,z0,2,1,"div",2)(3,V0,60,26,"div",3),r()),e&2&&(c(),d("ngIf",n.loading),c(),d("ngIf",n.errorMessage),c(),d("ngIf",!n.loading&&n.result))},dependencies:[z,ee,F,$t],styles:['.container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:20px}.card[_ngcontent-%COMP%]{border:none;border-radius:16px;overflow:hidden;box-shadow:0 8px 24px #0000001f;background-color:var(--surface-color);transition:background-color .3s,box-shadow .3s}.dark-mode[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:var(--card-shadow)}.card-header[_ngcontent-%COMP%]{padding:25px;border:none;background-color:var(--surface-color)}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin:0;color:var(--heading-color)}.card-body[_ngcontent-%COMP%]{padding:40px 30px}h4[_ngcontent-%COMP%]{color:var(--heading-color);font-weight:600;font-size:1.6rem}.score-circle[_ngcontent-%COMP%]{width:280px;height:280px;border:10px solid;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:30px auto;box-shadow:0 8px 32px #0000001f;background-color:var(--surface-color);position:relative;transition:background-color .3s,box-shadow .3s}.score-circle[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;border-radius:50%;border:10px solid transparent;animation:_ngcontent-%COMP%_rotate 3s linear infinite}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.border-success[_ngcontent-%COMP%]{border-color:#43e97b!important}.border-info[_ngcontent-%COMP%]{border-color:#667eea!important}.border-warning[_ngcontent-%COMP%]{border-color:#f39c12!important}.border-danger[_ngcontent-%COMP%]{border-color:#e74c3c!important}.score-content[_ngcontent-%COMP%]{text-align:center;z-index:1}.score-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:4rem;font-weight:900;margin:0;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;color:var(--heading-color)}.text-success[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.text-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.text-warning[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.text-danger[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.score-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--text-muted);margin:5px 0 0;font-weight:500}.stat-card[_ngcontent-%COMP%]{padding:25px;border-radius:16px;background-color:var(--surface-color);border:2px solid var(--border-color);transition:all .3s ease;text-align:center}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 12px 24px #0000001f;border-color:var(--accent-color)}.stat-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block;margin-bottom:12px;color:var(--accent-color)}.stat-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;margin:8px 0;color:var(--heading-color)}.stat-card[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-muted);font-weight:500;text-transform:uppercase;letter-spacing:.5px}.btn[_ngcontent-%COMP%]{padding:12px 32px;border-radius:12px;font-weight:600;font-size:1.05rem;transition:all .3s ease;border:none}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--accent-color) 0%,var(--secondary-accent) 100%);color:#fff;box-shadow:0 4px 12px #66ead666}.btn-outline-primary[_ngcontent-%COMP%]{border:2px solid var(--accent-color);color:var(--accent-color);background:transparent}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:var(--accent-color);color:var(--contrast-color);transform:translateY(-2px)}.card-header.bg-light[_ngcontent-%COMP%]{background-color:var(--surface-color)!important;border-bottom:1px solid var(--border-color);padding:20px 25px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:var(--heading-color);font-weight:700;font-size:1.3rem;margin:0}.card-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;color:var(--accent-color)}.ai-report-text[_ngcontent-%COMP%]{white-space:pre-wrap;word-break:break-word;font-family:var(--default-font);font-size:.95rem;line-height:1.8;color:var(--default-color);background-color:var(--surface-color);padding:28px;border-radius:18px;border:1px solid var(--border-color);border-left:6px solid var(--accent-color);box-shadow:0 8px 24px #00000014;background-image:linear-gradient(to bottom,transparent 95%,var(--border-color) 95%)}.ai-report-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:1.05rem;font-weight:700;color:var(--heading-color);margin-top:18px}.ai-report-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]:first-child{font-size:1.3rem;color:var(--accent-color);text-align:center}.dark-mode[_ngcontent-%COMP%]   .ai-report-text[_ngcontent-%COMP%]{background-color:var(--surface-color);color:var(--default-color);border-color:var(--border-color);border-left-color:var(--secondary-accent)}.dark-mode[_ngcontent-%COMP%]   .ai-report-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]:first-child{color:var(--secondary-accent)}.ai-report-text[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:12px 0 12px 20px}.ai-report-text[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:6px;color:var(--default-color)}.answer-item[_ngcontent-%COMP%]{border-left:5px solid;border-radius:8px;transition:all .3s ease;box-shadow:0 2px 8px #0000000f;background-color:var(--surface-color)}.dark-mode[_ngcontent-%COMP%]   .answer-item[_ngcontent-%COMP%]{background-color:color-mix(in srgb,var(--surface-color),black 5%)}.answer-item[_ngcontent-%COMP%]:hover{transform:translate(5px);box-shadow:0 4px 16px #0000001f}.bg-success-subtle[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d4edda,#c3e6cb)!important;border-left-color:#28a745!important}.bg-danger-subtle[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8d7da,#f5c6cb)!important;border-left-color:#dc3545!important}.dark-mode[_ngcontent-%COMP%]   .bg-success-subtle[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--surface-color),#28a745 10%)!important}.dark-mode[_ngcontent-%COMP%]   .bg-danger-subtle[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--surface-color),#dc3545 10%)!important}.answer-item[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:var(--heading-color);font-weight:600;font-size:1rem}.answer-item[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:6px 14px;border-radius:20px;font-weight:600;font-size:.85rem}.answer-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:8px;font-size:1rem;line-height:1.6;color:var(--default-color)}.answer-item[_ngcontent-%COMP%]   .fw-bold[_ngcontent-%COMP%]{color:var(--heading-color)}.answer-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700}.text-success[_ngcontent-%COMP%]{color:#28a745!important;font-weight:600}.text-danger[_ngcontent-%COMP%]{color:#dc3545!important;font-weight:600}.bi-check-circle-fill[_ngcontent-%COMP%], .bi-x-circle-fill[_ngcontent-%COMP%]{font-size:2rem}.spinner-border[_ngcontent-%COMP%]{width:4rem;height:4rem;border-width:.4em}.alert-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fee,#fcc);color:#c00;border-radius:12px;padding:18px 24px;border:none}@media (max-width: 768px){.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem}.score-circle[_ngcontent-%COMP%]{width:220px;height:220px}.score-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.stat-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.6rem}.stat-card[_ngcontent-%COMP%]{padding:20px;margin-bottom:15px}.btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:.95rem}.answer-item[_ngcontent-%COMP%]{padding:15px!important}h4[_ngcontent-%COMP%]{font-size:1.3rem}}']})};var mo=class{room="principalRoom";name="";constructor(){this.room="principalRoom"}getRoom(){return this.room}setRoom(t){this.room=t}getName(){return this.name}setName(t){this.name=t}};var An=class o{constructor(t){this.route=t;this.user=new mo,this.namePrincipalRoom="PrincipalRoom"}api;user;namePrincipalRoom;options;domain="172.27.91.251:11443";isAudioMuted=!0;isVideoMuted=!0;moveRoom(t,e,n){let m=document.getElementById("jitsi-iframe");m&&(m.innerHTML=""),console.log("nameRoom"+t),console.log("prejoinPageEnabled:"+(this.user.name!="")),console.log("isAdmin:"+e),console.log("password provided:"+(n?"yes":"no")),this.options={roomName:t,configOverwrite:{prejoinPageEnabled:this.user.name=="",startWithAudioMuted:!e,startWithVideoMuted:!e,enableNoAudioDetection:!1,enableNoisyMicDetection:!1,p2p:{enabled:!0,stunServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]},disableDeepLinking:!0},interfaceConfigOverwrite:{startAudioMuted:!e,startVideoMuted:!e,DISABLE_VIDEO_BACKGROUND:!0},parentNode:document.querySelector("#jitsi-iframe"),userInfo:{displayName:this.user.name,email:"john.doe@company.com"}},this.api=new JitsiMeetExternalAPI(this.domain,this.options),n&&n.trim()!==""&&e&&(console.log("Setting password for room as moderator"),this.api.addEventListener("videoConferenceJoined",()=>{console.log("Room joined, setting password now"),this.api.executeCommand("password",n)})),this.api.addEventListeners({readyToClose:this.handleClose,participantLeft:this.handleParticipantLeft,participantJoined:this.handleParticipantJoined,videoConferenceJoined:this.handleVideoConferenceJoined,videoConferenceLeft:this.handleVideoConferenceLeft,audioMuteStatusChanged:this.handleMuteStatus,videoMuteStatusChanged:this.handleVideoStatus,endpointTextMessageReceived:this.endpointTextMessageReceived,connectionFailed:this.handleConnectionFailed,connectionInterrupted:this.handleConnectionInterrupted,connectionRestored:this.handleConnectionRestored,errorOccurred:this.handleError,p2pStatusChanged:this.handleP2PStatusChanged})}changeRouterLink(t){console.log(t),this.namePrincipalRoom=t;let e=document.getElementById("jitsi-iframe");e&&(e.innerHTML=""),this.options={roomName:this.namePrincipalRoom,configOverwrite:{prejoinPageEnabled:!1,openBridgeChannel:"datachannel"},interfaceConfigOverwrite:{},parentNode:document.querySelector("#jitsi-iframe"),userInfo:{displayName:this.user.name}},this.api=new JitsiMeetExternalAPI(this.domain,this.options)}handleClose=()=>{console.log("handleClose")};endpointTextMessageReceived=t=>Ot(this,null,function*(){console.log("mensaje recibido"),console.log(t),console.log(t.data.eventData.text),t.data.eventData.text=="mover a principal"&&this.moveRoom("grupo 1",!0)});handleParticipantLeft=t=>Ot(this,null,function*(){console.log("handleParticipantLeft",t);let e=yield this.getParticipants()});handleParticipantJoined=t=>Ot(this,null,function*(){console.log("OJOJOJOJ  handleParticipantJoined",t);let e=yield this.getParticipants()});handleVideoConferenceJoined=t=>Ot(this,null,function*(){console.log("handleVideoConferenceJoined",t),this.user.setName(t.userNameTest),this.namePrincipalRoom=t.roomName;let e=yield this.getParticipants()});handleVideoConferenceLeft=()=>{console.log("handleVideoConferenceLeft"),this.route.navigate(["/Home"])};handleConnectionFailed=t=>{console.error("\u274C CONNECTION FAILED:",t),console.error("Connection failed details:",JSON.stringify(t,null,2)),alert("\u0641\u0634\u0644 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0627\u0644\u062E\u0627\u062F\u0645. \u064A\u0631\u062C\u0649 \u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u062A\u0635\u0627\u0644 \u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A \u0623\u0648 \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u062E\u0627\u062F\u0645.")};handleConnectionInterrupted=()=>{console.warn("\u26A0\uFE0F CONNECTION INTERRUPTED - Attempting to reconnect...")};handleConnectionRestored=()=>{console.log("\u2705 CONNECTION RESTORED")};handleError=t=>{console.error("\u274C JITSI ERROR OCCURRED:",t),console.error("Error details:",JSON.stringify(t,null,2)),t.error&&(console.error("Error type:",t.error.name),console.error("Error message:",t.error.message))};handleP2PStatusChanged=t=>{console.log("P2P Status Changed:",t)};handleMuteStatus=t=>{console.log("handleMuteStatus",t)};handleVideoStatus=t=>{console.log("handleVideoStatus",t)};getParticipants(){return new Promise((t,e)=>{setTimeout(()=>{t(this.api.getParticipantsInfo())},500)})}executeCommand(t){if(this.api.executeCommand(t),t=="hangup"){this.route.navigate(["/thank-you"]);return}t=="toggleAudio"&&(this.isAudioMuted=!this.isAudioMuted),t=="toggleVideo"&&(this.isVideoMuted=!this.isVideoMuted),t=="toggleShareScreen"}dispose(){this.api&&(this.api.dispose(),this.api=null)}static \u0275fac=function(e){return new(e||o)(wn(V))};static \u0275prov=mt({token:o,factory:o.\u0275fac,providedIn:"root"})};var po=class o{constructor(t,e){this.router=t;this.jitsiService=e}get isAudioMuted(){return this.jitsiService.isAudioMuted}get isVideoMuted(){return this.jitsiService.isVideoMuted}ngOnInit(){let e=this.router.getCurrentNavigation()?.extras?.state||history.state,n=e?.roomName||this.jitsiService.namePrincipalRoom,m=e?.isModerator||!1,h=e?.password||void 0;this.jitsiService.moveRoom(n,m,h)}ngOnDestroy(){this.jitsiService.dispose()}executeCommand(t){return Ot(this,null,function*(){let e=yield this.jitsiService.getParticipants();console.log("this.jitsiService.getParticipants():",e);for(let n of e)this.jitsiService.api.executeCommand("sendEndpointTextMessage",n.id,"mover a principal")})}static \u0275fac=function(e){return new(e||o)(v(V),v(An))};static \u0275cmp=T({type:o,selectors:[["app-jitsi"]],decls:1,vars:0,consts:[["id","jitsi-iframe"]],template:function(e,n){e&1&&G(0,"div",0)},dependencies:[z],styles:['#jitsi-iframe[_ngcontent-%COMP%]{width:100vw;height:100vh;min-height:500px}.custom-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:20px;padding:20px;background-color:#f8f9fa;border-top:1px solid #dee2e6}.control-item[_ngcontent-%COMP%]{cursor:pointer;padding:10px;border-radius:50%;transition:background-color .3s;display:flex;align-items:center;justify-content:center;width:60px;height:60px}.control-item[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.grey-color[_ngcontent-%COMP%]{color:#6c757d}.red-color[_ngcontent-%COMP%]{color:#dc3545}#jitsi-iframe[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:fixed!important;top:0!important;left:0!important;width:100vw!important;height:100vh!important;border:0!important;z-index:9999!important}#jitsi-iframe[_ngcontent-%COMP%]   iframe[id*="2"][_ngcontent-%COMP%]{width:50vw!important;height:100vh!important;position:fixed!important;right:0!important;top:0!important;left:auto!important;z-index:9999!important}']})};function j0(o,t){if(o&1){let e=E();a(0,"button",14),y("click",function(){C(e);let m=g();return M(m.generateRoomName())}),s(1," Generate "),r()}}function q0(o,t){if(o&1){let e=E();a(0,"div",5)(1,"label",15)(2,"input",16),W("ngModelChange",function(m){C(e);let h=g();return Q(h.meetingConfig.isModerator,m)||(h.meetingConfig.isModerator=m),M(m)}),r(),a(3,"span"),s(4,"Join as Moderator (Host)"),r()(),a(5,"small",17),s(6,"As the meeting creator, you'll have moderator privileges"),r()()}if(o&2){let e=g();c(2),B("ngModel",e.meetingConfig.isModerator)}}function U0(o,t){if(o&1){let e=E();a(0,"div",5)(1,"label",18),s(2,"Meeting Password (Optional)"),r(),a(3,"input",19),W("ngModelChange",function(m){C(e);let h=g();return Q(h.meetingConfig.password,m)||(h.meetingConfig.password=m),M(m)}),r(),a(4,"small",17),s(5,"Leave empty for no password protection"),r()()}if(o&2){let e=g();c(3),B("ngModel",e.meetingConfig.password)}}var uo=class o{constructor(t,e){this.router=t;this.jitsiService=e}meetingConfig={roomName:"",displayName:"",isModerator:!0,password:""};isCreatingMeeting=!0;ngOnInit(){let t=this.jitsiService.user.getName();t&&(this.meetingConfig.displayName=t.toString())}joinMeeting(){if(!this.meetingConfig.roomName||!this.meetingConfig.displayName){alert("Please fill in all required fields");return}this.jitsiService.user.setName(this.meetingConfig.displayName),this.router.navigate(["/meeting"],{state:{roomName:this.meetingConfig.roomName,isModerator:this.meetingConfig.isModerator,password:this.meetingConfig.password}})}generateRoomName(){let t=Math.random().toString(36).substring(2,10);this.meetingConfig.roomName=`meeting-${t}`}static \u0275fac=function(e){return new(e||o)(v(V),v(An))};static \u0275cmp=T({type:o,selectors:[["app-meeting-setup"]],decls:24,vars:15,consts:[[1,"meeting-setup-container"],[1,"setup-card"],["role","group","aria-label","Meeting type selection",1,"meeting-type-toggle"],["type","button",3,"click","aria-pressed"],[1,"setup-form",3,"ngSubmit"],[1,"form-group"],["for","displayName"],["type","text","id","displayName","name","displayName","placeholder","Enter your name","required","","autocomplete","name",3,"ngModelChange","ngModel"],["for","roomName"],[1,"room-input-group"],["type","text","id","roomName","name","roomName","required","","autocomplete","off",3,"ngModelChange","ngModel","placeholder"],["type","button","class","generate-btn","aria-label","Generate random room name",3,"click",4,"ngIf"],["class","form-group",4,"ngIf"],["type","submit",1,"join-btn"],["type","button","aria-label","Generate random room name",1,"generate-btn",3,"click"],[1,"checkbox-label"],["type","checkbox","name","isModerator","id","isModerator",3,"ngModelChange","ngModel"],[1,"help-text"],["for","password"],["type","password","id","password","name","password","placeholder","Set a password for your meeting","autocomplete","new-password",3,"ngModelChange","ngModel"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"h1"),s(3,"Join or Create a Meeting"),r(),a(4,"div",2)(5,"button",3),y("click",function(){return n.isCreatingMeeting=!0}),s(6," Create Meeting "),r(),a(7,"button",3),y("click",function(){return n.isCreatingMeeting=!1}),s(8," Join Meeting "),r()(),a(9,"form",4),y("ngSubmit",function(){return n.joinMeeting()}),a(10,"div",5)(11,"label",6),s(12,"Your Name *"),r(),a(13,"input",7),W("ngModelChange",function(h){return Q(n.meetingConfig.displayName,h)||(n.meetingConfig.displayName=h),h}),r()(),a(14,"div",5)(15,"label",8),s(16,"Meeting Room Name *"),r(),a(17,"div",9)(18,"input",10),W("ngModelChange",function(h){return Q(n.meetingConfig.roomName,h)||(n.meetingConfig.roomName=h),h}),r(),_(19,j0,2,0,"button",11),r()(),_(20,q0,7,1,"div",12)(21,U0,6,1,"div",12),a(22,"button",13),s(23),r()()()()),e&2&&(c(5),D("active",n.isCreatingMeeting),_r("aria-pressed",Ft(n.isCreatingMeeting)),c(2),D("active",!n.isCreatingMeeting),_r("aria-pressed",Ft(!n.isCreatingMeeting)),c(6),B("ngModel",n.meetingConfig.displayName),c(5),B("ngModel",n.meetingConfig.roomName),d("placeholder",n.isCreatingMeeting?"Enter room name or generate one":"Enter room name to join"),c(),d("ngIf",n.isCreatingMeeting),c(),d("ngIf",n.isCreatingMeeting),c(),d("ngIf",n.isCreatingMeeting&&n.meetingConfig.isModerator),c(2),O(" ",n.isCreatingMeeting?"Create & Join Meeting":"Join Meeting"," "))},dependencies:[z,F,ge,ye,ce,Ws,le,Me,Ve,Ie,Re],styles:[".meeting-setup-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,var(--background-color) 0%,var(--surface-color) 100%);padding:20px;font-family:var(--default-font)}.setup-card[_ngcontent-%COMP%]{background:var(--surface-color);border-radius:20px;padding:45px 40px;max-width:520px;width:100%;box-shadow:0 15px 40px #0000001f;transition:all .3s ease;border:1px solid rgba(0,0,0,.05)}.setup-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 20px 45px #0000002e}.setup-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 35px;font-size:32px;color:var(--heading-color);text-align:center;font-family:var(--heading-font);font-weight:700}.meeting-type-toggle[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:32px;background:var(--background-color);padding:6px;border-radius:12px}.meeting-type-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:12px 16px;border:none;background:transparent;color:var(--text-muted);border-radius:8px;font-size:15px;font-weight:600;cursor:pointer;transition:all .25s ease;font-family:var(--default-font)}.meeting-type-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:var(--accent-color);color:var(--contrast-color);box-shadow:0 4px 12px color-mix(in srgb,var(--accent-color),transparent 70%)}.meeting-type-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.active):hover{background:#0000000d;color:var(--accent-color)}.setup-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:var(--heading-color);font-size:14px;margin-bottom:2px}.form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{padding:12px 16px;border:1px solid #d7d8df;border-radius:10px;font-size:15px;background:var(--background-color);transition:all .25s ease;font-family:var(--default-font);color:var(--default-color)}.form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus{outline:none;border-color:var(--accent-color);box-shadow:0 0 0 4px color-mix(in srgb,var(--accent-color),transparent 80%);background:#fff}.form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]::placeholder{color:#a0a0a0}.room-input-group[_ngcontent-%COMP%]{display:flex;gap:10px}.room-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1}.generate-btn[_ngcontent-%COMP%]{padding:12px 20px;background:var(--secondary-accent);border:none;border-radius:10px;font-weight:600;cursor:pointer;transition:all .25s ease;white-space:nowrap;color:#fff;font-family:var(--default-font);font-size:14px}.generate-btn[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--secondary-accent),black 10%);transform:translateY(-2px);box-shadow:0 4px 15px color-mix(in srgb,var(--secondary-accent),transparent 70%)}.generate-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;cursor:pointer;font-weight:400!important;padding:4px 0}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer;accent-color:var(--accent-color)}.checkbox-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;color:var(--default-color);font-weight:500}.help-text[_ngcontent-%COMP%]{color:var(--text-muted);font-size:13px;margin-top:-2px;line-height:1.4}.join-btn[_ngcontent-%COMP%]{padding:14px 24px;background:var(--accent-color);color:var(--contrast-color);border:none;border-radius:12px;font-size:16px;font-weight:600;cursor:pointer;transition:all .25s ease;margin-top:8px;font-family:var(--default-font)}.join-btn[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--accent-color),black 10%);transform:translateY(-2px);box-shadow:0 8px 20px color-mix(in srgb,var(--accent-color),transparent 70%)}.join-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.join-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}@media (max-width: 576px){.setup-card[_ngcontent-%COMP%]{padding:30px 25px}.setup-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:26px;margin-bottom:28px}.meeting-type-toggle[_ngcontent-%COMP%]{flex-direction:column;gap:8px;padding:4px}.room-input-group[_ngcontent-%COMP%]{flex-direction:column}.generate-btn[_ngcontent-%COMP%]{width:100%}}"]})};function B0(o,t){o&1&&(a(0,"span"),s(1,"Email is required"),r())}function Q0(o,t){o&1&&(a(0,"span"),s(1,"Please enter a valid email"),r())}function W0(o,t){if(o&1&&(a(0,"div",19),_(1,B0,2,0,"span",20)(2,Q0,2,0,"span",20),r()),o&2){let e=g();c(),d("ngIf",e.f.email.errors.required),c(),d("ngIf",e.f.email.errors.email)}}function $0(o,t){o&1&&(a(0,"span"),s(1,"Password is required"),r())}function Y0(o,t){o&1&&(a(0,"span"),s(1,"Minimum 6 characters required"),r())}function H0(o,t){if(o&1&&(a(0,"div",21),_(1,$0,2,0,"span",20)(2,Y0,2,0,"span",20),r()),o&2){let e=g();c(),d("ngIf",e.f.password.errors.required),c(),d("ngIf",e.f.password.errors.minlength)}}function G0(o,t){o&1&&f(0,"span",22)}var go=class o{constructor(t,e,n,m){this.formBuilder=t;this.authService=e;this.router=n;this.snackbar=m;this.loginForm=this.formBuilder.group({email:["",[U.required,U.email],U.pattern(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)],password:["",[U.required,U.minLength(6)]]})}loginForm;loading=!1;submitted=!1;error="";get f(){return this.loginForm.controls}onSubmit(){if(this.submitted=!0,this.loginForm.invalid){this.snackbar.open("Please fix validation errors","error");return}this.loading=!0,this.authService.login(this.loginForm.value).subscribe({next:t=>{let e=this.authService.getRoleFromToken();this.snackbar.open("Login successful ","success"),e==="Admin"?this.router.navigate(["/admin"]):e==="Instructor"?this.router.navigate(["/instructor/profile"]):this.router.navigate(["/userProfile"]),this.loading=!1},error:t=>{this.loading=!1,t.status===401?this.snackbar.open("Invalid email or password","error"):t.status===404?this.snackbar.open("User not found","error"):this.snackbar.open("Something went wrong, try again","error")}})}showPassword=!1;togglePassword(){this.showPassword=!this.showPassword}static \u0275fac=function(e){return new(e||o)(v(kt),v(Oe),v(V),v(ae))};static \u0275cmp=T({type:o,selectors:[["app-login"]],decls:30,vars:11,consts:[[1,"d-flex","align-items-center","justify-content-center","vh-100"],[1,"card","shadow-lg","p-5","login-card"],[1,"text-center","mb-4"],[1,"logo-image","mx-auto","mb-3","logo-circle"],["src","assets/img/logo-removebg-preview.png","alt","Logo"],[1,"fw-bold"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["placeholder","Email","type","email","formControlName","email",1,"form-control"],["class","invalid-feedback",4,"ngIf"],[1,"input-group"],["placeholder","Enter password","formControlName","password",1,"form-control",3,"type"],["type","button","tabindex","-1",1,"btn","btn-outline-secondary",3,"click"],[1,"bi",3,"ngClass"],["class","invalid-feedback d-block",4,"ngIf"],["type","submit",1,"btn","w-100",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],[1,"text-center","mt-4","mb-0"],["routerLink","/register",1,"text-decoration-none","accent-link"],[1,"invalid-feedback"],[4,"ngIf"],[1,"invalid-feedback","d-block"],[1,"spinner-border","spinner-border-sm","me-2"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),f(4,"img",4),r(),a(5,"h3",5),s(6,"Welcome Back!"),r(),a(7,"p"),s(8,"Login to access your courses"),r()(),a(9,"form",6),y("ngSubmit",function(){return n.onSubmit()}),a(10,"div",7)(11,"label"),s(12,"Email"),r(),f(13,"input",8),_(14,W0,3,2,"div",9),r(),a(15,"div",7)(16,"label"),s(17,"Password"),r(),a(18,"div",10),f(19,"input",11),a(20,"button",12),y("click",function(){return n.togglePassword()}),f(21,"i",13),r()(),_(22,H0,3,2,"div",14),r(),a(23,"button",15),_(24,G0,1,0,"span",16),s(25," Login "),r()(),a(26,"p",17),s(27," Don\u2019t have an account? "),a(28,"a",18),s(29,"Sign up"),r()()()()),e&2&&(c(9),d("formGroup",n.loginForm),c(4),D("is-invalid",(n.f.email.touched||n.f.email.dirty||n.submitted)&&n.f.email.invalid),c(),d("ngIf",(n.f.email.touched||n.f.email.dirty||n.submitted)&&n.f.email.errors),c(5),D("is-invalid",(n.f.password.touched||n.f.password.dirty||n.submitted)&&n.f.password.invalid),d("type",n.showPassword?"text":"password"),c(2),d("ngClass",n.showPassword?"bi-eye-slash":"bi-eye"),c(),d("ngIf",(n.f.password.touched||n.f.password.dirty||n.submitted)&&n.f.password.errors),c(),d("disabled",n.loading),c(),d("ngIf",n.loading))},dependencies:[ge,ye,ce,le,Me,z,Se,F,pt,ue,Ze,Fe,ut],styles:["body[_ngcontent-%COMP%]{font-family:var(--default-font);background:linear-gradient(135deg,var(--surface-color),var(--background-color));color:var(--default-color)}.login-card[_ngcontent-%COMP%]{width:100%;max-width:420px;border-radius:20px;background-color:var(--surface-color);padding:40px 35px;box-shadow:0 15px 40px #0000001f;transition:.3s ease;border:1px solid rgba(0,0,0,.05)}.login-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 20px 45px #0000002e}.logo-image[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:15px;background:color-mix(in srgb,var(--surface-color),var(--accent-color) 5%);display:flex;align-items:center;justify-content:center;box-shadow:0 6px 20px #00000014;transition:.3s ease}.logo-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.logo-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:12px}.form-control[_ngcontent-%COMP%]{height:48px;border-radius:10px;border:1px solid var(--border-color);background:var(--surface-color);transition:.25s ease;color:var(--heading-color)}.form-control[_ngcontent-%COMP%]:focus{border-color:var(--accent-color);box-shadow:0 0 0 4px color-mix(in srgb,var(--accent-color),transparent 80%);background:var(--surface-color)}label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:6px;color:var(--heading-color)}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:12px;font-weight:600;border-radius:12px;transition:.25s ease;background:var(--accent-color);color:var(--background-color)}button[type=submit][_ngcontent-%COMP%]:hover:not(:disabled){background:color-mix(in srgb,var(--accent-color),black 10%);transform:translateY(-2px);box-shadow:0 8px 20px color-mix(in srgb,var(--accent-color),transparent 70%)}button[_ngcontent-%COMP%]:disabled{opacity:.7}.accent-link[_ngcontent-%COMP%]{color:var(--accent-color);font-weight:700}.accent-link[_ngcontent-%COMP%]:hover{color:color-mix(in srgb,var(--accent-color),black 12%);text-decoration:underline}.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545!important}.invalid-feedback[_ngcontent-%COMP%]{display:block;font-size:.85rem}"]})};function nc(o,t){return e=>{let n=e.value;if(!n)return null;let m=new Date,h=new Date(n),w=m.getFullYear()-h.getFullYear(),Ue=m.getMonth()-h.getMonth();return(Ue<0||Ue===0&&m.getDate()<h.getDate())&&w--,w<o||w>t?{ageOutOfRange:!0}:null}}function J0(o,t){o&1&&(a(0,"small",25),s(1," First name is required "),r())}function K0(o,t){o&1&&(a(0,"small",25),s(1," Valid email required "),r())}function X0(o,t){o&1&&(a(0,"small",25),s(1," Phone number is required "),r())}function Z0(o,t){o&1&&(a(0,"small",25),s(1," Enter a valid Egyptian phone number (e.g., 010xxxxxxxx) "),r())}function eg(o,t){o&1&&(a(0,"small",25),s(1," Age must be between 20 and 80 years old "),r())}function tg(o,t){o&1&&(a(0,"small",25),s(1," Passwords do not match "),r())}function ng(o,t){o&1&&f(0,"span",26)}var fo=class o{constructor(t,e,n,m){this.formBuilder=t;this.authService=e;this.router=n;this.snackBar=m;this.registerForm=this.formBuilder.group({firstName:["",U.required],lastName:["",U.required],email:["",[U.required,U.email]],phoneNumber:["",[U.required,U.pattern(/^01[0-2,5]{1}[0-9]{8}$/)]],dateOfBirth:["",[nc(20,80)]],password:["",[U.required,U.minLength(6)]],confirmPassword:["",U.required],address:["",U.required],city:["",U.required]},{validators:this.passwordMatchValidator})}registerForm;loading=!1;submitted=!1;error="";success="";showPassword=!1;showConfirmPassword=!1;passwordMatchValidator(t){let e=t.get("password")?.value,n=t.get("confirmPassword")?.value;return e===n?null:{passwordMismatch:!0}}get f(){return this.registerForm.controls}onSubmit(){if(this.submitted=!0,this.registerForm.invalid){this.snackBar.open("Please correct the errors in the form.","error");return}this.loading=!0,this.authService.register(this.registerForm.value).subscribe({next:t=>{this.success="Registration successful! ",this.loading=!1,this.snackBar.open(this.success,"success"),setTimeout(()=>this.router.navigate(["/login"]),1500)},error:t=>{this.loading=!1,t.status===409?this.snackBar.open("Email already exists","error"):t.status===400?this.snackBar.open("Invalid registration data","error"):this.snackBar.open("Something went wrong, try again","error")}})}togglePassword(){this.showPassword=!this.showPassword}toggleConfirmPassword(){this.showConfirmPassword=!this.showConfirmPassword}static \u0275fac=function(e){return new(e||o)(v(kt),v(Oe),v(V),v(ae))};static \u0275cmp=T({type:o,selectors:[["app-register"]],decls:62,vars:31,consts:[[1,"d-flex","align-items-center","justify-content-center","min-vh-100","py-5"],[1,"card","shadow-lg","p-5","register-card","my-4"],[1,"text-center","mb-4"],[1,"logo-image","mx-auto","mb-3","logo-circle"],["src","assets/img/logo-removebg-preview.png","alt","Logo"],[1,"fw-bold"],[1,"row","g-3",3,"ngSubmit","formGroup"],[1,"mb-3","col-md-6"],["placeholder","firstName","type","text","formControlName","firstName",1,"form-control"],["class","text-danger",4,"ngIf"],["placeholder","lastName","type","text","formControlName","lastName",1,"form-control"],["placeholder","email","type","email","formControlName","email",1,"form-control"],["placeholder","phoneNumber","type","tel","formControlName","phoneNumber",1,"form-control"],["placeholder","Date","type","date","formControlName","dateOfBirth",1,"form-control"],["placeholder","Address","type","text","formControlName","address",1,"form-control"],["placeholder","City","type","text","formControlName","city",1,"form-control"],[1,"mb-3","col-md-6","position-relative"],["placeholder","Password","formControlName","password",1,"form-control","pe-5",3,"type"],[1,"bi",2,"position","absolute","right","12px","top","38px","cursor","pointer",3,"click","ngClass"],["placeholder","Confirm Password","formControlName","confirmPassword",1,"form-control","pe-5",3,"type"],[1,"col-12"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],[1,"text-center","mt-4","mb-0"],["routerLink","/login",1,"text-decoration-none","accent-link"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","me-2"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),f(4,"img",4),r(),a(5,"h3",5),s(6,"Create Your Account"),r(),a(7,"p"),s(8,"Join our community and start learning today"),r()(),a(9,"form",6),y("ngSubmit",function(){return n.onSubmit()}),a(10,"div",7)(11,"label"),s(12,"First Name"),r(),f(13,"input",8),_(14,J0,2,0,"small",9),r(),a(15,"div",7)(16,"label"),s(17,"Last Name"),r(),f(18,"input",10),r(),a(19,"div",7)(20,"label"),s(21,"Email"),r(),f(22,"input",11),_(23,K0,2,0,"small",9),r(),a(24,"div",7)(25,"label"),s(26,"Phone Number"),r(),f(27,"input",12),_(28,X0,2,0,"small",9)(29,Z0,2,0,"small",9),r(),a(30,"div",7)(31,"label"),s(32,"Date of Birth"),r(),f(33,"input",13),_(34,eg,2,0,"small",9),r(),a(35,"div",7)(36,"label"),s(37,"Address"),r(),f(38,"input",14),r(),a(39,"div",7)(40,"label"),s(41,"City"),r(),f(42,"input",15),r(),a(43,"div",16)(44,"label"),s(45,"Password"),r(),f(46,"input",17),a(47,"i",18),y("click",function(){return n.togglePassword()}),r()(),a(48,"div",16)(49,"label"),s(50,"Confirm Password"),r(),f(51,"input",19),a(52,"i",18),y("click",function(){return n.toggleConfirmPassword()}),r(),_(53,tg,2,0,"small",9),r(),a(54,"div",20)(55,"button",21),_(56,ng,1,0,"span",22),s(57," Register "),r()()(),a(58,"p",23),s(59," Already have an account? "),a(60,"a",24),s(61,"Login"),r()()()()),e&2&&(c(9),d("formGroup",n.registerForm),c(4),D("is-invalid",(n.f.firstName.touched||n.f.firstName.dirty||n.submitted)&&n.f.firstName.invalid),c(),d("ngIf",(n.f.firstName.touched||n.submitted)&&n.f.firstName.errors),c(4),D("is-invalid",(n.f.lastName.touched||n.f.lastName.dirty||n.submitted)&&n.f.lastName.invalid),c(4),D("is-invalid",(n.f.email.touched||n.f.email.dirty||n.submitted)&&n.f.email.invalid),c(),d("ngIf",(n.f.email.touched||n.submitted)&&n.f.email.errors),c(4),D("is-invalid",(n.f.phoneNumber.touched||n.f.phoneNumber.dirty||n.submitted)&&n.f.phoneNumber.invalid),c(),d("ngIf",(n.f.phoneNumber.touched||n.submitted)&&(n.f.phoneNumber.errors==null?null:n.f.phoneNumber.errors.required)),c(),d("ngIf",(n.f.phoneNumber.touched||n.submitted)&&(n.f.phoneNumber.errors==null?null:n.f.phoneNumber.errors.pattern)),c(4),D("is-invalid",(n.f.dateOfBirth.touched||n.f.dateOfBirth.dirty||n.submitted)&&n.f.dateOfBirth.invalid),c(),d("ngIf",(n.f.dateOfBirth.touched||n.submitted)&&(n.f.dateOfBirth.errors==null?null:n.f.dateOfBirth.errors.ageOutOfRange)),c(4),D("is-invalid",(n.f.address.touched||n.f.address.dirty||n.submitted)&&n.f.address.invalid),c(4),D("is-invalid",(n.f.city.touched||n.f.city.dirty||n.submitted)&&n.f.city.invalid),c(4),D("is-invalid",(n.f.password.touched||n.f.password.dirty||n.submitted)&&n.f.password.invalid),d("type",n.showPassword?"text":"password"),c(),d("ngClass",n.showPassword?"bi-eye-slash-fill":"bi-eye-fill"),c(4),D("is-invalid",(n.f.confirmPassword.touched||n.f.confirmPassword.dirty||n.submitted)&&(n.f.confirmPassword.errors||(n.registerForm.errors==null?null:n.registerForm.errors.passwordMismatch))),d("type",n.showConfirmPassword?"text":"password"),c(),d("ngClass",n.showConfirmPassword?"bi-eye-slash-fill":"bi-eye-fill"),c(),d("ngIf",(n.registerForm.errors==null?null:n.registerForm.errors.passwordMismatch)&&(n.f.confirmPassword.touched||n.submitted)),c(2),d("disabled",n.loading),c(),d("ngIf",n.loading))},dependencies:[z,Se,F,ge,ye,ce,le,Me,pt,ue,Ze,Fe,ut,de],styles:["body[_ngcontent-%COMP%]{font-family:var(--default-font);background:linear-gradient(135deg,var(--surface-color),var(--background-color));margin:0;color:var(--default-color)}.register-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:50px;flex-wrap:wrap;padding:50px 20px}.register-card[_ngcontent-%COMP%]{width:100%;max-width:460px;border-radius:18px;background:var(--surface-color);padding:45px 35px;box-shadow:0 18px 45px #0000001f;transition:.3s ease;border:1px solid var(--border-color);order:1}.register-card[_ngcontent-%COMP%]   .mb-3[_ngcontent-%COMP%]{margin-bottom:2px!important}.register-card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 22px 55px #0000002b}.logo-image[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:18px;padding:5px;background:color-mix(in srgb,var(--surface-color),var(--accent-color) 5%);display:flex;align-items:center;justify-content:center;box-shadow:0 6px 20px #00000014;transition:.3s ease;margin-bottom:15px}.logo-image[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 10px 25px #0000001f}.logo-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:12px}.form-control[_ngcontent-%COMP%]{height:48px;border-radius:10px;border:1px solid var(--border-color);background:var(--surface-color);color:var(--heading-color);font-size:15px;transition:.25s ease}.register-card[_ngcontent-%COMP%]{max-width:750px;padding:15px!important}.form-control[_ngcontent-%COMP%]:focus{border-color:var(--accent-color);background:var(--surface-color);box-shadow:0 0 0 4px color-mix(in srgb,var(--accent-color),transparent 80%)}label[_ngcontent-%COMP%]{font-weight:600;color:var(--heading-color);margin-bottom:6px;font-size:15px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:12px;border-radius:12px;font-size:16px;border:none;background:var(--accent-color);color:#fff;transition:.25s;font-weight:600;margin-top:5px}button[type=submit][_ngcontent-%COMP%]:hover:not(:disabled){background:color-mix(in srgb,var(--accent-color),black 10%);transform:translateY(-2px);box-shadow:0 8px 20px color-mix(in srgb,var(--accent-color),transparent 70%)}button[_ngcontent-%COMP%]:disabled{opacity:.7}.text-danger[_ngcontent-%COMP%]{font-size:13px;margin-top:4px;display:block}.accent-link[_ngcontent-%COMP%]{color:var(--accent-color);font-weight:700;transition:.2s ease}.accent-link[_ngcontent-%COMP%]:hover{color:color-mix(in srgb,var(--accent-color),black 12%);text-decoration:underline}@media (max-width: 992px){.register-wrapper[_ngcontent-%COMP%]{flex-direction:column-reverse;gap:30px}.register-card[_ngcontent-%COMP%]{padding:35px 25px}}"]})};var ho=class o{getQuestions(){return hs([{id:1,text:"What does HTML stand for?",choices:["Hyper Text Markup Language","Home Tool Markup Language","Hot Mail"],correctIndex:0},{id:2,text:"Which tag is used to run JavaScript?",choices:["<js>","<script>","<javascript>"],correctIndex:1}])}static \u0275fac=function(e){return new(e||o)};static \u0275prov=mt({token:o,factory:o.\u0275fac,providedIn:"root"})};function og(o,t){if(o&1){let e=E();a(0,"div",12),y("click",function(){let m=C(e).index,h=g(3);return M(h.selectChoice(m))}),s(1),r()}if(o&2){let e=t.$implicit,n=t.index,m=g(3);D("selected",m.questions[m.currentIndex].selectedIndex===n),c(),O(" ",e," ")}}function rg(o,t){if(o&1&&(a(0,"div",10)(1,"h3"),s(2),r(),_(3,og,2,3,"div",11),r()),o&2){let e=g(2);c(2),N(e.questions[e.currentIndex].text),c(),d("ngForOf",e.questions[e.currentIndex].choices)}}function ag(o,t){if(o&1){let e=E();a(0,"button",13),y("click",function(){C(e);let m=g(2);return M(m.next())}),s(1,"Next"),r()}}function sg(o,t){if(o&1){let e=E();a(0,"button",13),y("click",function(){C(e);let m=g(2);return M(m.submitExam())}),s(1,"Submit"),r()}}function cg(o,t){if(o&1){let e=E();a(0,"div",2)(1,"div",3)(2,"h2"),s(3,"Exam"),r(),a(4,"div",4),s(5),r(),a(6,"div",5),s(7),r()(),_(8,rg,4,2,"div",6),a(9,"div",7)(10,"button",8),y("click",function(){C(e);let m=g();return M(m.previous())}),s(11,"Previous"),r(),_(12,ag,2,0,"button",9)(13,sg,2,0,"button",9),r()()}if(o&2){let e=g();c(5),ze(" ",e.minutes,":",e.seconds<10?"0"+e.seconds:e.seconds," "),c(2),ze(" Question ",e.currentIndex+1," of ",e.questions.length," "),c(),d("ngIf",e.questions.length>0),c(2),d("disabled",e.currentIndex===0),c(2),d("ngIf",e.currentIndex<e.questions.length-1),c(),d("ngIf",e.currentIndex===e.questions.length-1)}}function lg(o,t){if(o&1&&(a(0,"div",14)(1,"h2"),s(2,"Exam Submitted"),r(),a(3,"h3"),s(4),r()()),o&2){let e=g();c(4),ze("Your Score: ",e.score," / ",e.questions.length)}}var _o=class o{constructor(t){this.examService=t}questions=[];currentIndex=0;minutes=10;seconds=0;timer;isSubmitted=!1;score=0;ngOnInit(){this.examService.getQuestions().subscribe(t=>{this.questions=t,this.startTimer()})}startTimer(){this.timer=setInterval(()=>{this.seconds===0?this.minutes===0?this.submitExam():(this.minutes--,this.seconds=59):this.seconds--},1e3)}selectChoice(t){this.questions[this.currentIndex].selectedIndex=t}next(){this.currentIndex<this.questions.length-1&&this.currentIndex++}previous(){this.currentIndex>0&&this.currentIndex--}submitExam(){clearInterval(this.timer),this.isSubmitted=!0,this.score=this.questions.filter(t=>t.selectedIndex===t.correctIndex).length}static \u0275fac=function(e){return new(e||o)(v(ho))};static \u0275cmp=T({type:o,selectors:[["app-exam"]],decls:2,vars:2,consts:[["class","exam-container",4,"ngIf"],["class","result",4,"ngIf"],[1,"exam-container"],[1,"exam-header"],[1,"timer"],[1,"progress"],["class","question-box",4,"ngIf"],[1,"actions"],[3,"click","disabled"],[3,"click",4,"ngIf"],[1,"question-box"],["class","choice",3,"selected","click",4,"ngFor","ngForOf"],[1,"choice",3,"click"],[3,"click"],[1,"result"]],template:function(e,n){e&1&&_(0,cg,14,8,"div",0)(1,lg,5,2,"div",1),e&2&&(d("ngIf",!n.isSubmitted),c(),d("ngIf",n.isSubmitted))},dependencies:[z,ee,F,ge],styles:[".exam-container[_ngcontent-%COMP%]{width:70%;margin:40px auto auto;padding:25px;background:#fff;border-radius:12px;box-shadow:0 0 12px #0000001a}.exam-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:20px}.timer[_ngcontent-%COMP%]{font-size:22px;color:#e74c3c;font-weight:700}.choice[_ngcontent-%COMP%]{padding:12px;margin-bottom:8px;background:#f4f4f4;border-radius:8px;cursor:pointer;border:1px solid #ddd}.choice.selected[_ngcontent-%COMP%]{background:#007bff;color:#fff}.actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:15px}"]})};var bo=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=T({type:o,selectors:[["app-error-page"]],decls:12,vars:0,consts:[[1,"bl_page404"],[1,"bl_page404__wrapper"],["src","https://github.com/BlackStar1991/Pictures-for-sharing-/blob/master/404/bigBoom/cloud_warmcasino.png?raw=true","alt","cloud_warmcasino.png"],[1,"bl_page404__el1"],[1,"bl_page404__el2"],[1,"bl_page404__el3"],["href","/",1,"bl_page404__link"]],template:function(e,n){e&1&&(S(0,"main",0)(1,"h1"),s(2,"Error 404. The page does not exist"),L(),S(3,"p"),s(4,"Sorry! The page you are looking for can not be found. Perhaps the page you requested was moved or deleted. It is also possible that you made a small typo when entering the address. Go to the main page. "),L(),S(5,"div",1),G(6,"img",2)(7,"div",3)(8,"div",4)(9,"div",5),S(10,"a",6),s(11,"go home"),L()()())},styles:['body[_ngcontent-%COMP%]{width:100%;margin:0;height:100%;background-color:#1d3041;font-family:"Open Sans - Semibold",sans-serif;color:#fff}h1[_ngcontent-%COMP%]{text-align:center;margin-top:1%;margin-bottom:25px;font-size:30px;font-weight:400;text-transform:uppercase}p[_ngcontent-%COMP%]{display:block;margin:25px auto;max-width:776px;text-align:center;color:#bcecf2;font-family:Open Sans,sans-serif;font-size:16px;font-weight:400;line-height:24px}.bl_page404__wrapper[_ngcontent-%COMP%]{position:relative;width:100%;margin:10px auto;max-width:440px;min-height:410px}.bl_page404__img[_ngcontent-%COMP%]{width:100%}.bl_page404__link[_ngcontent-%COMP%]{display:block;margin:0 auto;width:260px;height:64px;box-shadow:0 5px #9c1007,inset 0 0 18px #fd3c00bf;background-color:#f95801;color:#fff;font-family:Open Sans,sans-serif;font-size:24px;font-weight:700;line-height:64px;text-transform:uppercase;text-decoration:none;border-radius:30px;text-align:center}.bl_page404__link[_ngcontent-%COMP%]:hover, .bl_page404__link[_ngcontent-%COMP%]:focus{background-color:#ff7400}.bl_page404__el1[_ngcontent-%COMP%]{position:absolute;top:108px;left:102px;opacity:1;animation:_ngcontent-%COMP%_el1Move .8s linear infinite;width:84px;height:106px;background:url(https://github.com/BlackStar1991/Pictures-for-sharing-/blob/master/404/bigBoom/404-1.png?raw=true) 50% 50% no-repeat;z-index:2}.bl_page404__el2[_ngcontent-%COMP%]{position:absolute;top:92px;left:136px;opacity:1;animation:_ngcontent-%COMP%_el2Move .8s linear infinite;width:184px;height:106px;background:url(https://github.com/BlackStar1991/Pictures-for-sharing-/blob/master/404/bigBoom/404-2.png?raw=true) 50% 50% no-repeat;z-index:2}.bl_page404__el3[_ngcontent-%COMP%]{position:absolute;top:108px;left:180px;opacity:1;animation:_ngcontent-%COMP%_el3Move .8s linear infinite;width:284px;height:106px;background:url(https://github.com/BlackStar1991/Pictures-for-sharing-/blob/master/404/bigBoom/404-3.png?raw=true) 50% 50% no-repeat;z-index:2}@keyframes _ngcontent-%COMP%_el1Move{0%{top:108px;left:102px;opacity:1}to{top:-10px;left:22px;opacity:0}}@keyframes _ngcontent-%COMP%_el2Move{0%{top:92px;left:136px;opacity:1}to{top:-10px;left:108px;opacity:0}}@keyframes _ngcontent-%COMP%_el3Move{0%{top:108px;left:180px;opacity:1}to{top:28px;left:276px;opacity:0}}']})};var ic=(o,t)=>({"bi-eye":o,"bi-eye-slash":t});function dg(o,t){o&1&&(a(0,"small",18),s(1," Full name is required "),r())}function mg(o,t){o&1&&(a(0,"small",18),s(1," Job title is required "),r())}function pg(o,t){o&1&&(a(0,"small",18),s(1," Email is required "),r())}function ug(o,t){o&1&&(a(0,"small",18),s(1," Invalid email format "),r())}function gg(o,t){o&1&&(a(0,"small",18),s(1," Phone number is required "),r())}function fg(o,t){o&1&&(a(0,"small",18),s(1," Enter a valid Egyptian phone number (e.g., 010xxxxxxxx) "),r())}function hg(o,t){o&1&&(a(0,"small",18),s(1," Password is required "),r())}function _g(o,t){o&1&&(a(0,"small",18),s(1," Minimum 6 characters required "),r())}function bg(o,t){o&1&&(a(0,"small",18),s(1," Please confirm your password "),r())}function vg(o,t){o&1&&(a(0,"small",18),s(1," Passwords do not match "),r())}function xg(o,t){o&1&&(a(0,"small",18),s(1," Youtube channel URL is required "),r())}function Cg(o,t){o&1&&(a(0,"small",18),s(1," Please enter a valid URL (starting with http or https) "),r())}var vo=class o{constructor(t){this.formGroupDirective=t}submitted=!1;next=new yi;showPassword=!1;showConfirmPassword=!1;get f(){return this.formGroupDirective.form.controls}onNextClick(){this.next.emit()}togglePassword(){this.showPassword=!this.showPassword}toggleConfirmPassword(){this.showConfirmPassword=!this.showConfirmPassword}static \u0275fac=function(e){return new(e||o)(v(Fe))};static \u0275cmp=T({type:o,selectors:[["app-instructor-account-step"]],inputs:{submitted:"submitted"},outputs:{next:"next"},features:[Pn([],[{provide:ki,useExisting:Fe}])],decls:56,vars:36,consts:[[1,"step-header"],[1,"row","g-3"],[1,"col-md-6"],[1,"mb-3"],[1,"form-label"],["type","text","placeholder","Enter your full name","formControlName","fullName",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","placeholder","e.g. Senior Instructor","formControlName","jobTitle",1,"form-control"],["type","email","placeholder","example@mail.com","formControlName","email",1,"form-control"],["type","tel","placeholder","01xxxxxxxxx","formControlName","phoneNumber",1,"form-control"],[1,"position-relative"],["placeholder","Minimum 6 characters","formControlName","password",1,"form-control","password-input",3,"type"],[1,"bi","password-icon",3,"click","ngClass"],["placeholder","Re-enter your password","formControlName","confirmPassword",1,"form-control","password-input",3,"type"],[1,"col-12"],["type","url","placeholder","https://youtube.com/your-channel","formControlName","youtubeChannelUrl",1,"form-control"],[1,"col-12","d-flex","justify-content-end"],["type","button",1,"btn","btn-primary","px-4",3,"click"],[1,"text-danger"]],template:function(e,n){e&1&&(f(0,"div",0),a(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),s(5,"Full Name"),r(),f(6,"input",5),_(7,dg,2,0,"small",6),r()(),a(8,"div",2)(9,"div",3)(10,"label",4),s(11,"Job Title"),r(),f(12,"input",7),_(13,mg,2,0,"small",6),r()(),a(14,"div",2)(15,"div",3)(16,"label",4),s(17,"Email"),r(),f(18,"input",8),_(19,pg,2,0,"small",6)(20,ug,2,0,"small",6),r()(),a(21,"div",2)(22,"div",3)(23,"label",4),s(24,"Phone Number"),r(),f(25,"input",9),_(26,gg,2,0,"small",6)(27,fg,2,0,"small",6),r()(),a(28,"div",2)(29,"div",3)(30,"label",4),s(31,"Password"),r(),a(32,"div",10),f(33,"input",11),a(34,"i",12),y("click",function(){return n.togglePassword()}),r()(),_(35,hg,2,0,"small",6)(36,_g,2,0,"small",6),r()(),a(37,"div",2)(38,"div",3)(39,"label",4),s(40,"Confirm Password"),r(),a(41,"div",10),f(42,"input",13),a(43,"i",12),y("click",function(){return n.toggleConfirmPassword()}),r()(),_(44,bg,2,0,"small",6)(45,vg,2,0,"small",6),r()(),a(46,"div",14)(47,"div",3)(48,"label",4),s(49,"Youtube Channel URL"),r(),f(50,"input",15),_(51,xg,2,0,"small",6)(52,Cg,2,0,"small",6),r()(),a(53,"div",16)(54,"button",17),y("click",function(){return n.onNextClick()}),s(55," Next "),r()()()),e&2&&(c(6),D("is-invalid",n.submitted&&n.f.fullName.invalid),c(),d("ngIf",n.submitted&&n.f.fullName.invalid),c(5),D("is-invalid",n.submitted&&n.f.jobTitle.invalid),c(),d("ngIf",n.submitted&&n.f.jobTitle.invalid),c(5),D("is-invalid",n.submitted&&n.f.email.invalid),c(),d("ngIf",n.submitted&&(n.f.email.errors==null?null:n.f.email.errors.required)),c(),d("ngIf",n.submitted&&(n.f.email.errors==null?null:n.f.email.errors.email)),c(5),D("is-invalid",n.submitted&&n.f.phoneNumber.invalid),c(),d("ngIf",n.submitted&&(n.f.phoneNumber.errors==null?null:n.f.phoneNumber.errors.required)),c(),d("ngIf",n.submitted&&(n.f.phoneNumber.errors==null?null:n.f.phoneNumber.errors.pattern)),c(6),D("is-invalid",n.submitted&&n.f.password.invalid),d("type",n.showPassword?"text":"password"),c(),d("ngClass",De(30,ic,!n.showPassword,n.showPassword)),c(),d("ngIf",n.submitted&&(n.f.password.errors==null?null:n.f.password.errors.required)),c(),d("ngIf",n.submitted&&(n.f.password.errors==null?null:n.f.password.errors.minlength)),c(6),D("is-invalid",n.submitted&&(n.f.confirmPassword.invalid||(n.formGroupDirective.form.errors==null?null:n.formGroupDirective.form.errors.passwordMismatch))),d("type",n.showConfirmPassword?"text":"password"),c(),d("ngClass",De(33,ic,!n.showConfirmPassword,n.showConfirmPassword)),c(),d("ngIf",n.submitted&&(n.f.confirmPassword.errors==null?null:n.f.confirmPassword.errors.required)),c(),d("ngIf",n.submitted&&(n.formGroupDirective.form.errors==null?null:n.formGroupDirective.form.errors.passwordMismatch)&&!(n.f.confirmPassword.errors!=null&&n.f.confirmPassword.errors.required)),c(5),D("is-invalid",n.submitted&&n.f.youtubeChannelUrl.invalid),c(),d("ngIf",n.submitted&&(n.f.youtubeChannelUrl.errors==null?null:n.f.youtubeChannelUrl.errors.required)),c(),d("ngIf",n.submitted&&(n.f.youtubeChannelUrl.errors==null?null:n.f.youtubeChannelUrl.errors.pattern)))},dependencies:[z,Se,F,Ze,ce,le,ut],styles:[".step-card[_ngcontent-%COMP%]{background:var(--surface-color, #ffffff);border-radius:16px;padding:24px 24px 20px;box-shadow:0 10px 30px #0f172a14;border:1px solid rgba(148,163,184,.25)}.step-header[_ngcontent-%COMP%]{margin-bottom:18px}.step-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;font-weight:700;color:var(--heading-color, #0f172a)}.step-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:.9rem;color:var(--muted-color, #6b7280)}label[_ngcontent-%COMP%]{font-weight:600;color:var(--heading-color);margin-bottom:6px;font-size:15px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:12px;border-radius:12px;font-size:16px;border:none;background:var(--accent-color);color:#fff;transition:.25s;font-weight:600;margin-top:5px}button[type=submit][_ngcontent-%COMP%]:hover:not(:disabled){background:color-mix(in srgb,var(--accent-color),black 10%);transform:translateY(-2px);box-shadow:0 8px 20px color-mix(in srgb,var(--accent-color),transparent 70%)}button[_ngcontent-%COMP%]:disabled{opacity:.7}.form-control[_ngcontent-%COMP%]{height:48px;border-radius:10px;border:1px solid var(--border-color);background:var(--surface-color);color:var(--heading-color);font-size:15px;transition:.25s ease}.form-control[_ngcontent-%COMP%]:focus{border-color:var(--accent-color);background:var(--surface-color);box-shadow:0 0 0 4px color-mix(in srgb,var(--accent-color),transparent 80%)}.text-danger[_ngcontent-%COMP%]{font-size:.78rem}.btn-primary[_ngcontent-%COMP%]{border-radius:999px;font-weight:600;font-size:.9rem}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 8px 20px #2563eb40}.form-image[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:12px;object-fit:cover;margin:0 auto 20px;display:block}.is-invalid[_ngcontent-%COMP%]{border:1px solid red!important}.password-input[_ngcontent-%COMP%]{padding-right:40px}.password-icon[_ngcontent-%COMP%]{position:absolute;top:50%;right:12px;transform:translateY(-50%);font-size:18px;color:#6b7280;cursor:pointer}.password-icon[_ngcontent-%COMP%]:hover{color:#111827}"]})};function Mg(o,t){o&1&&(a(0,"small",14),s(1," Please enter a valid URL (starting with http or https) "),r())}function yg(o,t){o&1&&(a(0,"small",14),s(1," Please enter a valid URL (starting with http or https) "),r())}function wg(o,t){o&1&&(a(0,"small",14),s(1," Please enter a valid URL (starting with http or https) "),r())}function Pg(o,t){o&1&&(a(0,"small",14),s(1," Specialization is required "),r())}function Og(o,t){o&1&&(a(0,"small",14),s(1," University name is required "),r())}function Sg(o,t){o&1&&(a(0,"small",14),s(1," About section is required "),r())}function Ig(o,t){o&1&&(a(0,"small",14),s(1," Please write at least 20 characters about yourself "),r())}function kg(o,t){o&1&&f(0,"span",15)}var xo=class o{constructor(t){this.formGroupDirective=t}submitted=!1;loading=!1;back=new yi;get f(){return this.formGroupDirective.form.controls}onBackClick(){this.back.emit()}static \u0275fac=function(e){return new(e||o)(v(Fe))};static \u0275cmp=T({type:o,selectors:[["app-instructor-profile-step"]],inputs:{submitted:"submitted",loading:"loading"},outputs:{back:"back"},features:[Pn([],[{provide:ki,useExisting:Fe}])],decls:38,vars:21,consts:[[1,"w-100","row","g-3"],[1,"mb-3","col-md-6"],["placeholder","Profile photo","type","url","formControlName","photoUrl",1,"form-control"],["class","text-danger",4,"ngIf"],["placeholder","Certificate","type","url","formControlName","certificateUrl",1,"form-control"],["placeholder","CV","type","url","formControlName","cvUrl",1,"form-control"],["placeholder","Specialization","type","text","formControlName","specialization",1,"form-control"],["placeholder","University","type","text","formControlName","universityName",1,"form-control"],[1,"mb-3","col-12"],["placeholder","About","rows","4","formControlName","about",1,"form-control"],[1,"col-12","d-flex","justify-content-between"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","me-2"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"label"),s(3,"Profile Image URL"),r(),f(4,"input",2),_(5,Mg,2,0,"small",3),r(),a(6,"div",1)(7,"label"),s(8,"Certificate URL"),r(),f(9,"input",4),_(10,yg,2,0,"small",3),r(),a(11,"div",1)(12,"label"),s(13,"CV URL"),r(),f(14,"input",5),_(15,wg,2,0,"small",3),r(),a(16,"div",1)(17,"label"),s(18,"Specialization"),r(),f(19,"input",6),_(20,Pg,2,0,"small",3),r(),a(21,"div",1)(22,"label"),s(23,"University Name"),r(),f(24,"input",7),_(25,Og,2,0,"small",3),r(),a(26,"div",8)(27,"label"),s(28,"About You"),r(),f(29,"textarea",9),_(30,Sg,2,0,"small",3)(31,Ig,2,0,"small",3),r(),a(32,"div",10)(33,"button",11),y("click",function(){return n.onBackClick()}),s(34," Back "),r(),a(35,"button",12),_(36,kg,1,0,"span",13),s(37," Submit "),r()()()),e&2&&(c(4),D("is-invalid",n.submitted&&n.f.photoUrl.invalid),c(),d("ngIf",n.submitted&&(n.f.photoUrl.errors==null?null:n.f.photoUrl.errors.pattern)),c(4),D("is-invalid",n.submitted&&n.f.certificateUrl.invalid),c(),d("ngIf",n.submitted&&(n.f.certificateUrl.errors==null?null:n.f.certificateUrl.errors.pattern)),c(4),D("is-invalid",n.submitted&&n.f.cvUrl.invalid),c(),d("ngIf",n.submitted&&(n.f.cvUrl.errors==null?null:n.f.cvUrl.errors.pattern)),c(4),D("is-invalid",n.submitted&&n.f.specialization.invalid),c(),d("ngIf",n.submitted&&n.f.specialization.invalid),c(4),D("is-invalid",n.submitted&&n.f.universityName.invalid),c(),d("ngIf",n.submitted&&n.f.universityName.invalid),c(4),D("is-invalid",n.submitted&&n.f.about.invalid),c(),d("ngIf",n.submitted&&(n.f.about.errors==null?null:n.f.about.errors.required)),c(),d("ngIf",n.submitted&&(n.f.about.errors==null?null:n.f.about.errors.minlength)),c(4),d("disabled",n.loading),c(),d("ngIf",n.loading))},dependencies:[z,F,Ze,ce,le,ut],encapsulation:2})};function Eg(o,t){if(o&1){let e=E();a(0,"app-instructor-account-step",12),y("next",function(){C(e);let m=g();return M(m.onNextFromStep1())}),r()}if(o&2){let e=g();d("submitted",e.submitted)}}function Tg(o,t){if(o&1){let e=E();a(0,"app-instructor-profile-step",13),y("back",function(){C(e);let m=g();return M(m.onBackToStep1())}),r()}if(o&2){let e=g();d("submitted",e.submitted)("loading",e.loading)}}function Ng(o,t){if(o&1&&(a(0,"div",14)(1,"div",15)(2,"div",16),s(3),r()()()),o&2){let e=g();c(),d("ngClass",e.toastType==="success"?"bg-success text-white":"bg-danger text-white"),c(2),N(e.toastMessage)}}var Co=class o{constructor(t,e,n,m){this.fb=t;this.authService=e;this.router=n;this.snackBar=m;this.registerForm=this.fb.group({email:["",[U.required,U.email]],password:["",[U.required,U.minLength(6)]],confirmPassword:["",U.required],fullName:["",U.required],jobTitle:["",U.required],phoneNumber:["",[U.required,U.pattern(/^01[0-2,5]{1}[0-9]{8}$/)]],youtubeChannelUrl:["",[U.required,U.pattern(/^https?:\/\/.+$/)]],photoUrl:["",[U.required,U.pattern(/^https?:\/\/.+$/)]],certificateUrl:["",[U.required,U.pattern(/^https?:\/\/.+$/)]],cvUrl:["",[U.required,U.pattern(/^https?:\/\/.+$/)]],specialization:["",U.required],universityName:["",U.required],about:["",[U.required,U.minLength(20)]]},{validators:this.passwordMatchValidator})}registerForm;currentStep=1;submitted=!1;loading=!1;showToast=!1;toastMessage="";toastType="success";passwordMatchValidator(t){if(!t)return null;let e=t.get("password")?.value,n=t.get("confirmPassword")?.value;return e===n?null:{passwordMismatch:!0}}get f(){return this.registerForm.controls}onNextFromStep1(){this.submitted=!0;let t=["email","password","confirmPassword","fullName","jobTitle","phoneNumber","youtubeChannelUrl"],e=!0;t.forEach(n=>{let m=this.registerForm.get(n);m?.markAsTouched(),m?.updateValueAndValidity(),m?.invalid&&(e=!1)}),this.registerForm.errors?.passwordMismatch&&(e=!1),e&&(this.currentStep=2)}onBackToStep1(){this.currentStep=1}onSubmit(){if(this.submitted=!0,["photoUrl","certificateUrl","cvUrl","specialization","universityName","about"].forEach(n=>{let m=this.registerForm.get(n);m?.markAsTouched(),m?.updateValueAndValidity()}),this.registerForm.invalid){this.snackBar.open("Please correct the errors in the form.","error");return}let e=this.registerForm.value;this.loading=!0,this.authService.registerInstructor(e).subscribe({next:()=>{this.loading=!1,this.snackBar.open("Wait until admin approve your profile","success"),setTimeout(()=>{this.showToast=!1,this.router.navigate(["/login"])},2500)},error:n=>{this.loading=!1;let m=n.error?.message||"Registration failed, please try again";this.snackBar.open(m,"error"),setTimeout(()=>{this.showToast=!1},3e3)}})}static \u0275fac=function(e){return new(e||o)(v(kt),v(Oe),v(V),v(ae))};static \u0275cmp=T({type:o,selectors:[["app-register-instructor"]],decls:15,vars:4,consts:[[1,"d-flex","align-items-center","justify-content-center","min-vh-100","py-4"],[1,"card","shadow-lg","register-card","my-4","w-100"],[1,"text-center","mb-3"],[1,"logo-image","mx-auto","mb-2","logo-circle"],["src","assets/img/logo-removebg-preview.png","alt","image",1,"form-image"],[1,"fw-bold"],[1,"row","g-3",3,"ngSubmit","formGroup"],[3,"submitted","next",4,"ngIf"],[3,"submitted","loading","back",4,"ngIf"],[1,"text-center","mt-3","mb-0"],["routerLink","/login",1,"text-decoration-none","accent-link"],["class","toast-container position-fixed bottom-0 end-0 p-3","style","z-index: 1080;",4,"ngIf"],[3,"next","submitted"],[3,"back","submitted","loading"],[1,"toast-container","position-fixed","bottom-0","end-0","p-3",2,"z-index","1080"],["role","alert","aria-live","assertive","aria-atomic","true",1,"toast","show",3,"ngClass"],[1,"toast-body"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),f(4,"img",4),r(),a(5,"h1",5),s(6,"Instructor Registration"),r()(),a(7,"form",6),y("ngSubmit",function(){return n.onSubmit()}),_(8,Eg,1,1,"app-instructor-account-step",7)(9,Tg,1,2,"app-instructor-profile-step",8),r(),a(10,"p",9),s(11," Already have an instructor account? "),a(12,"a",10),s(13,"Login"),r()()()(),_(14,Ng,4,2,"div",11)),e&2&&(c(7),d("formGroup",n.registerForm),c(),d("ngIf",n.currentStep===1),c(),d("ngIf",n.currentStep===2),c(5),d("ngIf",n.showToast))},dependencies:[z,Se,F,Ze,ye,Me,Fe,pt,ue,vo,xo,de],styles:[".register-card[_ngcontent-%COMP%]{max-width:650px;padding:30px 28px;border-radius:16px;background:var(--background-color)}.form-image[_ngcontent-%COMP%]{width:85px;height:85px;border-radius:12px;object-fit:cover;display:block;margin:0 auto 10px}.register-card[_ngcontent-%COMP%]   .row.g-3[_ngcontent-%COMP%]{row-gap:10px!important}.register-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.4rem;margin-bottom:0}.bg-light[_ngcontent-%COMP%]{padding-top:15px!important;padding-bottom:15px!important}.register-card[_ngcontent-%COMP%]{overflow:visible!important}.is-invalid[_ngcontent-%COMP%]{border:1px solid red!important}.form-control[_ngcontent-%COMP%]{height:48px;border-radius:10px;border:1px solid var(--border-color);background:var(--surface-color);color:var(--heading-color);font-size:15px;transition:.25s ease}.form-control[_ngcontent-%COMP%]:focus{border-color:var(--accent-color);background:var(--surface-color);box-shadow:0 0 0 4px color-mix(in srgb,var(--accent-color),transparent 80%)}label[_ngcontent-%COMP%]{font-weight:600;color:var(--heading-color);margin-bottom:6px;font-size:15px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:12px;border-radius:12px;font-size:16px;border:none;background:var(--accent-color);color:#fff;transition:.25s;font-weight:600;margin-top:5px}button[type=submit][_ngcontent-%COMP%]:hover:not(:disabled){background:color-mix(in srgb,var(--accent-color),black 10%);transform:translateY(-2px);box-shadow:0 8px 20px color-mix(in srgb,var(--accent-color),transparent 70%)}button[_ngcontent-%COMP%]:disabled{opacity:.7}.text-danger[_ngcontent-%COMP%]{font-size:13px}"]})};function Lg(o,t){o&1&&(a(0,"div",5)(1,"div",6)(2,"span",7),s(3,"Loading..."),r()(),a(4,"span",8),s(5,"Loading grades..."),r()())}function Ag(o,t){if(o&1&&(a(0,"div",9),s(1),r()),o&2){let e=g();c(),O(" ",e.errorMessage," ")}}function zg(o,t){if(o&1&&(a(0,"tr")(1,"td"),s(2),r(),a(3,"td"),s(4),r(),a(5,"td"),s(6),Ee(7,"number"),r()()),o&2){let e=t.$implicit;c(2),N(e.quizName),c(2),N(e.courseName),c(2),N(He(7,3,e.value,"1.0-2"))}}function Dg(o,t){if(o&1&&(a(0,"div",10)(1,"div",11)(2,"h5",12),s(3,"Quiz Grades"),r()(),a(4,"div",13)(5,"table",14)(6,"thead",15)(7,"tr")(8,"th"),s(9,"Quiz Name"),r(),a(10,"th"),s(11,"Course"),r(),a(12,"th"),s(13,"Grade"),r()()(),a(14,"tbody"),_(15,zg,8,6,"tr",16),r()()()()),o&2){let e=g();c(15),d("ngForOf",e.grades)}}function Rg(o,t){o&1&&(a(0,"div",17)(1,"p",8),s(2,"No grades found."),r()())}var Mo=class o{constructor(t){this.gradesService=t}grades=[];loading=!0;errorMessage=null;ngOnInit(){this.gradesService.getStudentGrades().subscribe({next:t=>{this.grades=t,this.loading=!1},error:t=>{console.error(t),this.errorMessage="Failed to load grades",this.loading=!1}})}static \u0275fac=function(e){return new(e||o)(v(Ks))};static \u0275cmp=T({type:o,selectors:[["app-student-grades-component"]],decls:5,vars:4,consts:[[1,"container","my-5"],["class","d-flex justify-content-center align-items-center my-5",4,"ngIf"],["class","alert alert-danger text-center",4,"ngIf"],["class","card shadow-sm border-success",4,"ngIf"],["class","text-center mt-4",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","my-5"],["role","status",1,"spinner-border","text-success","me-2"],[1,"visually-hidden"],[1,"fs-5","text-success"],[1,"alert","alert-danger","text-center"],[1,"card","shadow-sm","border-success"],[1,"card-header","bg-success","text-white"],[1,"mb-0"],[1,"card-body","p-0"],[1,"table","table-hover","mb-0"],[1,"table-light"],[4,"ngFor","ngForOf"],[1,"text-center","mt-4"]],template:function(e,n){e&1&&(a(0,"div",0),_(1,Lg,6,0,"div",1)(2,Ag,2,1,"div",2)(3,Dg,16,1,"div",3)(4,Rg,3,0,"div",4),r()),e&2&&(c(),d("ngIf",n.loading),c(),d("ngIf",!n.loading&&n.errorMessage),c(),d("ngIf",!n.loading&&n.grades.length>0),c(),d("ngIf",!n.loading&&n.grades.length===0))},dependencies:[ge,z,ee,F,$t],encapsulation:2})};var Fg=o=>["/instructor",o],Vg=()=>[1,2,3,4,5],jg=o=>["/Courses",o,"units"],qg=(o,t)=>["/Courses",o,"units",t,"lessons"];function Ug(o,t){o&1&&(a(0,"div"),f(1,"app-skeleton-card",6),r()),o&2&&(c(),d("showImage",!0)("lines",4)("showActions",!0))}function Bg(o,t){if(o&1&&(a(0,"div",49)(1,"div",50)(2,"div",51),f(3,"i",52),r(),a(4,"div")(5,"h6",53),s(6),r(),a(7,"small",54),s(8),r()()(),a(9,"div",50)(10,"span",55),f(11,"i",56),s(12),r(),a(13,"a",57),f(14,"i",58),r()()()),o&2){let e=t.$implicit,n=g(2);c(6),N(e.unit_Name),c(2),N(e.unit_Description),c(4),O(" ",n.lessonCounts[e.unit_Id]||0," Lessons "),c(),d("routerLink",De(4,qg,n.course.crs_Id,e.unit_Id))}}function Qg(o,t){o&1&&(a(0,"div",59)(1,"p",60),s(2,"No units added yet."),r()())}function Wg(o,t){if(o&1){let e=E();a(0,"span",61),y("click",function(){let m=C(e).index,h=g(2);return M(!h.hasRated&&h.setRating(m+1))})("mouseenter",function(){let m=C(e).index,h=g(2);return M(!h.hasRated&&h.hoverRating(m+1))})("mouseleave",function(){C(e);let m=g(2);return M(!m.hasRated&&m.hoverRating(0))}),s(1," \u2605 "),r()}if(o&2){let e=t.index,n=g(2);D("text-muted",e>=(n.hoveredRating>0?n.hoveredRating:n.ratingValue))("opacity-50",n.hasRated)}}function $g(o,t){o&1&&(a(0,"span",62),f(1,"i",63),s(2," Talked!"),r())}function Yg(o,t){if(o&1){let e=E();a(0,"div",7)(1,"div",8)(2,"div",1)(3,"h1",9),s(4),r(),a(5,"div",10)(6,"span"),f(7,"i",11),s(8),Ee(9,"number"),r(),a(10,"span"),f(11,"i",12),s(12),r()()(),a(13,"div",13)(14,"h4",14),s(15,"About Course"),r(),a(16,"p",15),s(17),r()(),a(18,"div",13)(19,"h4",14),s(20,"Instructor"),r(),a(21,"div",16),f(22,"img",17),a(23,"div")(24,"h5",18),s(25),r(),a(26,"p",19),s(27,"Course Instructor"),r()(),a(28,"div",20)(29,"a",21),s(30," View Profile "),r()()()(),a(31,"div",13)(32,"h4",14),s(33,"Curriculum"),r(),a(34,"div",22),_(35,Bg,15,7,"div",23)(36,Qg,3,0,"div",24),r()(),a(37,"div",13)(38,"div",25)(39,"h5",14),s(40,"Leave a Rating"),r(),a(41,"div",26),_(42,Wg,2,4,"span",27),r(),a(43,"textarea",28),W("ngModelChange",function(m){C(e);let h=g();return Q(h.feedback,m)||(h.feedback=m),M(m)}),r(),a(44,"div",29),_(45,$g,3,0,"span",30),a(46,"button",31),y("click",function(){C(e);let m=g();return M(m.submitRating())}),s(47," Submit Review "),r()()()()(),a(48,"div",32)(49,"div",33)(50,"div",34),f(51,"img",35),a(52,"div",36),s(53),Ee(54,"currency"),r()(),a(55,"div",37)(56,"div",38)(57,"button",39),f(58,"i",40),s(59," Enroll Now "),r(),a(60,"button",41),s(61," Preview Content "),r()(),a(62,"h6",14),s(63,"This course includes:"),r(),a(64,"ul",42)(65,"li",43),f(66,"i",44),s(67," Video Lessons"),r(),a(68,"li",43),f(69,"i",45),s(70," Downloadable Resources"),r(),a(71,"li",43),f(72,"i",46),s(73," Certificate of Completion "),r(),a(74,"li",43),f(75,"i",47),s(76," Access on Mobile"),r(),a(77,"li",43),f(78,"i",48),s(79," Full Lifetime Access "),r()()()()()()}if(o&2){let e=g();c(4),N(e.course.crs_Name),c(4),O(" ",He(9,17,e.course.rating||0,"1.1-1")," Rating"),c(4),O(" ",e.units.length," Units"),c(5),N(e.course.crs_Description),c(5),d("src",e.getInstructorImage(),ne),c(3),N(e.course.instructorName||"Unknown Instructor"),c(4),d("routerLink",Be(23,Fg,e.course.instructorId)),c(6),d("ngForOf",e.units),c(),d("ngIf",e.units.length===0),c(6),d("ngForOf",pe(25,Vg)),c(),B("ngModel",e.feedback),d("disabled",e.hasRated),c(2),d("ngIf",e.hasRated),c(),d("disabled",e.hasRated||e.ratingValue===0),c(5),d("src",e.getCourseImage(),ne),c(2),O(" ",He(54,20,e.course.price,"EGP ")," "),c(7),d("routerLink",Be(26,jg,e.course.crs_Id))}}var yo=class o{constructor(t,e,n,m,h,w){this.route=t;this.courseService=e;this.unitService=n;this.lessonService=m;this.ratingService=h;this.router=w}course=null;units=[];lessonCounts={};imageBase=Ge.imageBase;isLoading=!0;hoveredRating=0;ratingValue=0;feedback="";hasRated=!1;ngOnInit(){let t=this.route.snapshot.paramMap.get("id"),e=t?+t:null;if(!e){this.router.navigate(["/Courses"]);return}this.courseService.getCourseById(e).subscribe({next:n=>{this.course=n,this.isLoading=!1,this.course?.crs_Id&&(this.checkIfUserRated(this.course.crs_Id),this.loadCourseAverage(this.course.crs_Id),this.loadUnits(this.course.crs_Id))},error:n=>{console.error(n),this.isLoading=!1}})}loadUnits(t){this.unitService.getByCourse(t).subscribe({next:e=>{this.units=e,e.forEach(n=>{this.loadLessonCount(n.unit_Id)})},error:e=>console.error("Failed to load units",e)})}loadLessonCount(t){this.lessonService.getLessonsByUnit(t).subscribe({next:e=>{this.lessonCounts[t]=e.length},error:e=>console.error(`Failed to load lessons for unit ${t}`,e)})}getCourseImage(){if(!this.course?.imageUrl)return"/assets/img/education/course-1.jpg";let t=this.course.imageUrl;return t.startsWith("http://")||t.startsWith("https://")?t:this.imageBase+t}getInstructorImage(){return"https://ui-avatars.com/api/?name="+(this.course?.instructorName||"Instructor")+"&background=random"}goBack(){this.router.navigate(["/Courses"])}hoverRating(t){this.hasRated||(this.hoveredRating=t)}setRating(t){this.hasRated||(this.ratingValue=t)}submitRating(){if(!this.course||this.hasRated||this.ratingValue===0)return;let t={courseId:this.course.crs_Id,ratingValue:this.ratingValue,feedback:this.feedback};this.ratingService.addCourseRating(t).subscribe({next:()=>{this.hasRated=!0,this.loadCourseAverage(this.course.crs_Id)},error:e=>{console.error("Failed to submit rating",e),this.hasRated=!0}})}checkIfUserRated(t){this.ratingService.hasUserRatedCourse(t).subscribe({next:e=>{console.log(e),this.hasRated=e.hasRated,e.hasRated&&(this.ratingValue=e.ratingValue||0,this.feedback=e.feedback||"",this.hoveredRating=0)},error:e=>console.error(e)})}loadCourseAverage(t){this.ratingService.getCourseAverage(t).subscribe({next:e=>{this.course&&(this.course.rating=e.average)},error:e=>console.error(e)})}static \u0275fac=function(e){return new(e||o)(v(oe),v(Ke),v(Et),v(gt),v(ft),v(V))};static \u0275cmp=T({type:o,selectors:[["app-course-details"]],decls:7,vars:2,consts:[[1,"container","py-3"],[1,"mb-4"],[1,"btn","btn-link","text-decoration-none","ps-0","text-muted","back-btn",3,"click"],[1,"bi","bi-arrow-left","me-2"],[4,"ngIf"],["class","row g-5",4,"ngIf"],["imageHeight","300px","animation","wave",3,"showImage","lines","showActions"],[1,"row","g-5"],[1,"col-lg-8"],[1,"display-6","fw-bold","text-heading"],[1,"d-flex","align-items-center","gap-3","mt-3","text-muted"],[1,"bi","bi-star-fill","text-warning","me-1"],[1,"bi","bi-people-fill","me-1"],[1,"mb-5"],[1,"fw-bold","mb-3","section-title"],[1,"text-muted","lead","fs-6"],[1,"d-flex","align-items-center","gap-3","p-4","bg-white","rounded-4","shadow-sm","borderInstructor","instructor-card"],["width","70","height","70","alt","Instructor",1,"rounded-circle","border-accent","p-1",3,"src"],[1,"fw-bold","mb-1"],[1,"text-muted","mb-0","small"],[1,"ms-auto"],[1,"btn","btn-outline-accent","btn-sm","rounded-pill","px-4","fw-semibold","custom-btn",3,"routerLink"],[1,"d-flex","flex-column","gap-3"],["class","unit-item p-3 bg-white rounded-3 shadow-sm border d-flex justify-content-between align-items-center scale-hover",4,"ngFor","ngForOf"],["class","text-center py-4 bg-light rounded-3 border-dashed",4,"ngIf"],[1,"add-rating","p-4","bg-white","rounded-3","shadow-sm","border"],[1,"stars","mb-3","fs-3","text-warning",2,"cursor","pointer"],[3,"text-muted","opacity-50","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["rows","3","placeholder","Write your feedback...",1,"form-control","mb-3","bg-light","border-0",3,"ngModelChange","ngModel","disabled"],[1,"d-flex","justify-content-between","align-items-center"],["class","text-success fw-bold",4,"ngIf"],[1,"btn","btn-accent","px-4","rounded-pill","shadow-accent","custom-btn",3,"click","disabled"],[1,"col-lg-4","mt-0"],[1,"card","shadow-lg","border-0","sticky-top","course-sidebar",2,"top","100px"],[1,"position-relative"],["alt","Course Image",1,"card-img-top",2,"height","220px","object-fit","cover",3,"src"],[1,"position-absolute","top-0","end-0","m-3","px-3","py-1","bg-white","rounded-pill","shadow-sm","fw-bold","text-success"],[1,"card-body","p-4"],[1,"d-grid","gap-3","mb-4"],[1,"btn","btn-accent","btn-lg","rounded-pill","fw-bold","shadow-accent","custom-btn"],[1,"bi","bi-cart-plus","me-2"],[1,"btn","btn-outline-secondary","rounded-pill","fw-semibold","custom-btn",3,"routerLink"],[1,"list-unstyled","d-flex","flex-column","gap-2","text-muted","small"],[1,"d-flex","align-items-center"],[1,"bi","bi-play-btn","me-2","text-accent"],[1,"bi","bi-file-earmark-pdf","me-2","text-accent"],[1,"bi","bi-award","me-2","text-accent"],[1,"bi","bi-phone","me-2","text-accent"],[1,"bi","bi-infinity","me-2","text-accent"],[1,"unit-item","p-3","bg-white","rounded-3","shadow-sm","border","d-flex","justify-content-between","align-items-center","scale-hover"],[1,"d-flex","align-items-center","gap-3"],[1,"unit-icon","bg-accent-subtle","text-accent","rounded-circle","d-flex","align-items-center","justify-content-center"],[1,"bi","bi-journal-bookmark-fill"],[1,"fw-bold","mb-0","text-heading"],[1,"text-muted"],[1,"badge","bg-light","text-secondary","border","rounded-pill","px-3","py-2","fw-normal"],[1,"bi","bi-play-circle-fill","me-1","text-accent"],[1,"btn","btn-light","btn-sm","rounded-circle","icon-btn-new",3,"routerLink"],[1,"bi","bi-chevron-right"],[1,"text-center","py-4","bg-light","rounded-3","border-dashed"],[1,"text-muted","mb-0"],[3,"click","mouseenter","mouseleave"],[1,"text-success","fw-bold"],[1,"bi","bi-check-circle-fill","me-1"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"button",2),y("click",function(){return n.goBack()}),f(3,"i",3),s(4," Back to Courses "),r()(),_(5,Ug,2,3,"div",4)(6,Yg,80,28,"div",5),r()),e&2&&(c(5),d("ngIf",n.isLoading),c(),d("ngIf",!n.isLoading&&n.course))},dependencies:[z,ee,F,ge,ce,le,Ie,ue,Nt,$t,zs],styles:["[_nghost-%COMP%]{display:block;background-color:#f9fbfd;min-height:100vh;--accent-color: #0d9488;--accent-hover: #0f766e;--accent-surface: #f0fdfa}.text-heading[_ngcontent-%COMP%]{color:var(--heading-color, #1e293b)}.text-accent[_ngcontent-%COMP%]{color:var(--accent-color)!important}.bg-accent-subtle[_ngcontent-%COMP%]{background-color:var(--accent-surface)!important}.border-accent[_ngcontent-%COMP%]{border:2px solid var(--accent-color)!important}.custom-btn[_ngcontent-%COMP%]{transition:all .3s ease;border-width:2px}.custom-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0d948840}.btn-accent[_ngcontent-%COMP%]{background-color:var(--accent-color)!important;border-color:var(--accent-color)!important;color:#fff}.btn-accent[_ngcontent-%COMP%]:hover{background-color:var(--accent-hover)!important;border-color:var(--accent-hover)!important}.btn-outline-accent[_ngcontent-%COMP%]{color:var(--accent-color)!important;border-color:var(--accent-color)!important;background:transparent}.btn-outline-accent[_ngcontent-%COMP%]:hover{background-color:var(--accent-color)!important;color:#fff}.shadow-accent[_ngcontent-%COMP%]{box-shadow:0 4px 14px #0d94884d!important}.instructor-card[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.instructor-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 10px 30px #00000014!important}.course-sidebar[_ngcontent-%COMP%]{border-radius:20px;overflow:hidden}.unit-item[_ngcontent-%COMP%]{transition:all .2s ease;cursor:pointer;border-left:4px solid transparent}.unit-item[_ngcontent-%COMP%]:hover{background-color:#fff;border-left-color:var(--accent-color)!important;transform:translate(4px);box-shadow:0 8px 24px #0000000f!important}.unit-icon[_ngcontent-%COMP%]{font-size:1.2rem;width:45px;height:45px}.icon-btn-new[_ngcontent-%COMP%]{width:36px;height:36px;border:1px solid var(--border-color)!important;display:flex;justify-content:center;align-items:center;transition:all .2s ease;color:var(--text-muted)}.icon-btn-new[_ngcontent-%COMP%]:hover{background-color:var(--accent-color)!important;color:#fff!important;border-color:var(--accent-color)!important;transform:rotate(90deg)}.add-rating[_ngcontent-%COMP%]{transition:all .3s ease}.add-rating[_ngcontent-%COMP%]:hover{box-shadow:0 10px 30px #00000014!important}.stars[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transition:color .2s ease}.stars[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#ffc107}.back-btn[_ngcontent-%COMP%]:hover{color:var(--accent-color)!important;transform:translate(-4px);transition:margin .3s}@media (max-width: 991px){.sticky-top[_ngcontent-%COMP%]{position:static!important;margin-bottom:2rem}}"]})};var oc=[{path:"",redirectTo:"Home",pathMatch:"full"},{path:"admin",loadComponent:()=>import("./chunk-C4VYXFX3.js").then(o=>o.AdminPanelComponent)},{path:"Home",component:Fi,title:"Home"},{path:"instructors",component:Bi},{path:"instructors/add",component:Qi},{path:"instructors/edit/:id",component:Wi},{path:"instructors/:id/confirm-delete",component:$i},{path:"instructor/profile",component:Kn},{path:"instructor/:id",component:Kn},{path:"Courses",component:Yi},{path:"courses/:id/details",component:yo},{path:"courses/add",component:Hi},{path:"courses/edit/:id",component:Gi},{path:"Courses/delete/:id",component:Ji},{path:"Courses/:id/units",component:Ki},{path:"Courses/:id/units/add",component:Zi},{path:"Courses/:id/units/edit/:unitId",component:eo},{path:"Courses/:courseId/units/:unitId/lessons",component:Xn},{path:"Courses/:courseId/units/:unitId/lessons/add",component:no},{path:"Courses/:courseId/units/:unitId/lessons/:lessonId",component:io},{path:"Courses/:courseId/units/:unitId/lessons/:lessonId/edit",component:oo},{path:"Courses/:courseId/units/:unitId/lessons/:lessonId/delete",component:ro},{path:"lesson/:lessonId/quizzes",component:so,title:"Quiz Result"},{path:"quiz/take/:quizId",component:co,title:"Take Quiz"},{path:"quiz/result/:quizId",component:lo,title:"Quiz Result"},{path:"lesson/:lessonId/create-quiz",component:ao,title:"Create Quiz"},{path:"meeting",component:po,title:"Meeting"},{path:"meeting-setup",component:uo,title:"Meeting Setup"},{path:"userProfile",component:Jn,title:"User Profile"},{path:"student-profile/:id",component:Jn,title:"Student Profile"},{path:"student/:id/courses",component:Vi},{path:"chatRome",component:Ui},{path:"lessons",component:Xn},{path:"login",component:go,title:"Login"},{path:"register",component:fo,title:"Register"},{path:"register-instructor",component:Co,title:"Register Instructor"},{path:"exam",component:_o,title:"Exam"},{path:"grades",component:Mo,title:"My Grades"},{path:"**",component:bo,title:"Not Found"}];var rc=(o,t)=>{let e=hr(Oe),n=hr(V),m=e.getToken();return m?(o=o.clone({setHeaders:{Authorization:`Bearer ${m}`}}),console.log(`[INTERCEPTOR] Adding Bearer Token to request for: ${o.url}`)):console.log(`[INTERCEPTOR] No token found for request to: ${o.url}`),t(o).pipe(xs(h=>(h.status===401&&(console.error("[INTERCEPTOR] 401 Unauthorized detected. Redirecting to login."),n.navigate(["/login"])),_s(()=>h))))};var Mr={providers:[Cs(),Ts({eventCoalescing:!0}),Bs(oc,Qs()),Si(Fs([rc])),Zs(Xs())]};var wo=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=T({type:o,selectors:[["app-footer"]],decls:105,vars:0,consts:[["id","footer",1,"footer"],[1,"container","footer-top"],[1,"row","gy-4","justify-content-between"],[1,"col-lg-4","col-md-6","footer-about"],["href","/",1,"logo","d-flex","align-items-center","mb-3"],[1,"sitename"],[1,"footer-description"],[1,"social-links","d-flex","mt-4"],["href","#","aria-label","Twitter"],[1,"bi","bi-twitter-x"],["href","#","aria-label","Facebook"],[1,"bi","bi-facebook"],["href","#","aria-label","Instagram"],[1,"bi","bi-instagram"],["href","#","aria-label","LinkedIn"],[1,"bi","bi-linkedin"],["href","#","aria-label","YouTube"],[1,"bi","bi-youtube"],[1,"col-lg-2","col-md-6","col-6","footer-links"],[1,"bi","bi-chevron-right"],["href","/"],["href","/courses"],["href","/instructors"],["href","/about"],["href","/contact"],["href","#"],[1,"col-lg-3","col-md-6","footer-newsletter"],[1,"newsletter-form"],[1,"newsletter-input-wrapper"],["type","email","placeholder","Your email address","required",""],["type","submit",1,"newsletter-btn"],[1,"bi","bi-send-fill"],[1,"footer-contact","mt-4"],[1,"bi","bi-envelope-fill"],[1,"bi","bi-telephone-fill"],[1,"container","footer-bottom"],[1,"row","align-items-center"],[1,"col-md-6","text-center","text-md-start"],[1,"copyright","mb-0"],[1,"col-md-6","text-center","text-md-end"],[1,"footer-bottom-links"],[1,"separator"]],template:function(e,n){e&1&&(S(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4)(5,"span",5),s(6,"AMRHLelMaaref"),L()(),S(7,"p",6),s(8," Empowering learners worldwide with quality education. Join thousands of students learning from expert instructors and advancing their careers. "),L(),S(9,"div",7)(10,"a",8),G(11,"i",9),L(),S(12,"a",10),G(13,"i",11),L(),S(14,"a",12),G(15,"i",13),L(),S(16,"a",14),G(17,"i",15),L(),S(18,"a",16),G(19,"i",17),L()()(),S(20,"div",18)(21,"h4"),s(22,"Quick Links"),L(),S(23,"ul")(24,"li"),G(25,"i",19),S(26,"a",20),s(27,"Home"),L()(),S(28,"li"),G(29,"i",19),S(30,"a",21),s(31,"Courses"),L()(),S(32,"li"),G(33,"i",19),S(34,"a",22),s(35,"Instructors"),L()(),S(36,"li"),G(37,"i",19),S(38,"a",23),s(39,"About Us"),L()(),S(40,"li"),G(41,"i",19),S(42,"a",24),s(43,"Contact"),L()()()(),S(44,"div",18)(45,"h4"),s(46,"Resources"),L(),S(47,"ul")(48,"li"),G(49,"i",19),S(50,"a",25),s(51,"Help Center"),L()(),S(52,"li"),G(53,"i",19),S(54,"a",25),s(55,"FAQs"),L()(),S(56,"li"),G(57,"i",19),S(58,"a",25),s(59,"Privacy Policy"),L()(),S(60,"li"),G(61,"i",19),S(62,"a",25),s(63,"Terms of Service"),L()(),S(64,"li"),G(65,"i",19),S(66,"a",25),s(67,"Sitemap"),L()()()(),S(68,"div",26)(69,"h4"),s(70,"Stay Updated"),L(),S(71,"p"),s(72,"Subscribe to our newsletter for the latest courses and updates."),L(),S(73,"form",27)(74,"div",28),G(75,"input",29),S(76,"button",30),G(77,"i",31),L()()(),S(78,"div",32)(79,"p"),G(80,"i",33),s(81," info@amrhlelmaaref.com"),L(),S(82,"p"),G(83,"i",34),s(84," +1 (555) 123-4567"),L()()()()(),S(85,"div",35)(86,"div",36)(87,"div",37)(88,"p",38),s(89," \xA9 2024 "),S(90,"strong",5),s(91,"AMRHLelMaaref"),L(),s(92,". All Rights Reserved "),L()(),S(93,"div",39)(94,"div",40)(95,"a",25),s(96,"Privacy"),L(),S(97,"span",41),s(98,"\u2022"),L(),S(99,"a",25),s(100,"Terms"),L(),S(101,"span",41),s(102,"\u2022"),L(),S(103,"a",25),s(104,"Cookies"),L()()()()()())},styles:['.footer[_ngcontent-%COMP%]{background:var(--accent-color);color:var(--contrast-color);font-size:14px;padding:0;position:relative;overflow:hidden}.footer[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,color-mix(in srgb,var(--accent-color),black 5%) 0%,var(--accent-color) 50%,color-mix(in srgb,var(--accent-color),black 10%) 100%);z-index:0}.footer[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;z-index:1}.footer-top[_ngcontent-%COMP%]{padding:60px 0 40px;border-bottom:1px solid rgba(255,255,255,.1)}.footer-about[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{text-decoration:none;transition:transform .3s ease;display:inline-flex}.footer-about[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]:hover{transform:translate(5px)}.footer-about[_ngcontent-%COMP%]   .sitename[_ngcontent-%COMP%]{font-size:26px;font-weight:700;color:var(--contrast-color);font-family:var(--heading-font);letter-spacing:.5px}.footer-description[_ngcontent-%COMP%]{color:#fffc;line-height:1.8;margin-top:15px;font-size:14px}.social-links[_ngcontent-%COMP%]{gap:12px;margin-top:20px}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:44px;height:44px;border-radius:50%;background:#ffffff1a;color:var(--contrast-color);font-size:18px;transition:all .3s ease;border:2px solid transparent}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:var(--secondary-accent);color:var(--accent-color);transform:translateY(-5px) scale(1.1);box-shadow:0 8px 20px #4ade804d;border-color:var(--secondary-accent)}.footer-links[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .footer-newsletter[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--contrast-color);margin-bottom:20px;position:relative;padding-bottom:12px;font-family:var(--heading-font)}.footer-links[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:after, .footer-newsletter[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:0;width:40px;height:3px;background:var(--secondary-accent);border-radius:3px;transition:width .3s ease}.footer-links[_ngcontent-%COMP%]:hover   h4[_ngcontent-%COMP%]:after, .footer-newsletter[_ngcontent-%COMP%]:hover   h4[_ngcontent-%COMP%]:after{width:60px}.footer-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:12px;display:flex;align-items:center;transition:transform .3s ease}.footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{transform:translate(5px)}.footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--secondary-accent);font-size:12px;margin-right:8px;transition:transform .3s ease}.footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:translate(3px)}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fffc;text-decoration:none;transition:color .3s ease;font-size:14px;position:relative}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondary-accent)}.footer-newsletter[_ngcontent-%COMP%]{background:#ffffff0d;padding:25px;border-radius:15px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);transition:all .3s ease}.footer-newsletter[_ngcontent-%COMP%]:hover{background:#ffffff14;border-color:#fff3;transform:translateY(-3px);box-shadow:0 10px 30px #0003}.footer-newsletter[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fffc;font-size:13px;line-height:1.6;margin-bottom:15px}.newsletter-form[_ngcontent-%COMP%]{margin-bottom:0}.newsletter-input-wrapper[_ngcontent-%COMP%]{display:flex;gap:0;background:#ffffff1a;border-radius:10px;overflow:hidden;border:2px solid transparent;transition:all .3s ease}.newsletter-input-wrapper[_ngcontent-%COMP%]:focus-within{border-color:var(--secondary-accent);box-shadow:0 0 0 4px #4ade801a}.newsletter-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:12px 15px;border:none;background:transparent;color:var(--contrast-color);font-size:14px;outline:none}.newsletter-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.newsletter-btn[_ngcontent-%COMP%]{padding:12px 20px;background:var(--secondary-accent);color:var(--accent-color);border:none;cursor:pointer;transition:all .3s ease;font-size:16px;display:flex;align-items:center;justify-content:center}.newsletter-btn[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--secondary-accent),white 15%);transform:scale(1.05)}.newsletter-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s ease}.newsletter-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:translate(3px)}.footer-contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fffc;font-size:13px;margin-bottom:10px;display:flex;align-items:center;gap:10px}.footer-contact[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--secondary-accent);font-size:14px;width:20px}.footer-bottom[_ngcontent-%COMP%]{padding:25px 0}.copyright[_ngcontent-%COMP%]{color:#ffffffb3;font-size:14px;margin:0}.copyright[_ngcontent-%COMP%]   .sitename[_ngcontent-%COMP%]{color:var(--contrast-color);font-weight:600}.footer-bottom-links[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:15px}.footer-bottom-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ffffffb3;text-decoration:none;font-size:13px;transition:color .3s ease;position:relative}.footer-bottom-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2px;left:0;width:0;height:2px;background:var(--secondary-accent);transition:width .3s ease}.footer-bottom-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondary-accent)}.footer-bottom-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{width:100%}.footer-bottom-links[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{color:#ffffff4d;font-size:12px}.dark-mode[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{background:var(--secondary-accent)}.dark-mode[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]:before{background:linear-gradient(135deg,color-mix(in srgb,var(--secondary-accent),black 5%) 0%,var(--secondary-accent) 50%,color-mix(in srgb,var(--secondary-accent),black 10%) 100%)}.dark-mode[_ngcontent-%COMP%]   .footer-about[_ngcontent-%COMP%]   .sitename[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .footer-newsletter[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--contrast-color)}.dark-mode[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:var(--accent-color);color:var(--contrast-color);box-shadow:0 8px 20px #07422666}.dark-mode[_ngcontent-%COMP%]   .newsletter-btn[_ngcontent-%COMP%]{background:var(--accent-color);color:var(--contrast-color)}.dark-mode[_ngcontent-%COMP%]   .newsletter-btn[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--accent-color),white 15%)}@media (max-width: 991px){.footer-top[_ngcontent-%COMP%]{padding:50px 0 30px}.footer-about[_ngcontent-%COMP%], .footer-links[_ngcontent-%COMP%], .footer-newsletter[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.footer-about[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{justify-content:center}.footer-links[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:after, .footer-newsletter[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:after{left:50%;transform:translate(-50%)}.footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .social-links[_ngcontent-%COMP%]{justify-content:center}.footer-newsletter[_ngcontent-%COMP%]{max-width:500px;margin-left:auto;margin-right:auto}}@media (max-width: 768px){.footer-top[_ngcontent-%COMP%]{padding:40px 0 20px}.footer-about[_ngcontent-%COMP%]   .sitename[_ngcontent-%COMP%]{font-size:22px}.footer-description[_ngcontent-%COMP%]{font-size:13px}.footer-links[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .footer-newsletter[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:40px;height:40px;font-size:16px}.footer-bottom[_ngcontent-%COMP%]{padding:20px 0}.footer-bottom-links[_ngcontent-%COMP%]{margin-top:15px;justify-content:center}.copyright[_ngcontent-%COMP%]{font-size:13px}}@media (max-width: 576px){.footer-links[_ngcontent-%COMP%]{text-align:left}.footer-links[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:after{left:0;transform:none}.footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{justify-content:flex-start}.newsletter-input-wrapper[_ngcontent-%COMP%]{flex-direction:column}.newsletter-btn[_ngcontent-%COMP%]{width:100%;padding:12px}}']})};var Po=class o{darkModeSubject=new fs(!1);isdarkMode$=this.darkModeSubject.asObservable();constructor(){this.loadTheme()}loadTheme(){let e=localStorage.getItem("theme")==="dark";this.applyClass(e),this.darkModeSubject.next(e)}toggleDarkMode(){let e=!this.darkModeSubject.value;this.applyClass(e),localStorage.setItem("theme",e?"dark":"light"),this.darkModeSubject.next(e)}applyClass(t){t?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")}get currentThemeStatus(){return this.darkModeSubject.value}static \u0275fac=function(e){return new(e||o)};static \u0275prov=mt({token:o,factory:o.\u0275fac,providedIn:"root"})};var Oo=class o{currentLanguage="en";constructor(){let t=localStorage.getItem("selectedLanguage");t&&(this.currentLanguage=t)}initializeGoogleTranslate(){console.log("Initializing Google Translate...")}changeLanguage(t){console.log("Changing language to:",t);let e=this.getCookie("googtrans"),n=`/en/${t}`;if(t==="en"&&!e){console.log("Already in English, no action needed");return}if(e===n){console.log("Already in target language:",t);return}this.currentLanguage=t,localStorage.setItem("selectedLanguage",t),t==="en"?(this.setCookie("googtrans","",-1),this.setCookie("googtrans","",-1,"/"),window.location.reload()):(this.setCookie("googtrans",n,365),this.setCookie("googtrans",n,365,"/"),window.location.reload())}getCookie(t){let e=t+"=",n=document.cookie.split(";");for(let m=0;m<n.length;m++){let h=n[m];for(;h.charAt(0)===" ";)h=h.substring(1,h.length);if(h.indexOf(e)===0)return h.substring(e.length,h.length)}return null}setCookie(t,e,n,m="/"){let h="";if(n>0){let w=new Date;w.setTime(w.getTime()+n*24*60*60*1e3),h="; expires="+w.toUTCString()}else n<0&&(h="; expires=Thu, 01 Jan 1970 00:00:00 UTC");document.cookie=t+"="+(e||"")+h+"; path="+m,console.log("Cookie set:",t,"=",e)}getCurrentLanguage(){return this.currentLanguage}static \u0275fac=function(e){return new(e||o)};static \u0275prov=mt({token:o,factory:o.\u0275fac,providedIn:"root"})};var zn=()=>({exact:!0});function Jg(o,t){o&1&&(a(0,"li")(1,"a",21),s(2," Meeting "),r()()),o&2&&(c(),d("routerLinkActiveOptions",pe(1,zn)))}function Kg(o,t){if(o&1&&(a(0,"li")(1,"a",22),s(2),r()()),o&2){let e=g();c(),d("routerLinkActiveOptions",pe(2,zn)),c(),O(" ",e.isAdmin?"Admin Panel":"Instructor Panel"," ")}}function Xg(o,t){o&1&&(a(0,"li")(1,"a",23),s(2," ChatRome "),r()()),o&2&&(c(),d("routerLinkActiveOptions",pe(1,zn)))}function Zg(o,t){if(o&1){let e=E();St(0),a(1,"div",24)(2,"button",25),y("click",function(){C(e);let m=g();return M(m.toggleRegisterDropdown())}),s(3," Register as "),r(),a(4,"ul",26)(5,"li")(6,"a",27),y("click",function(){C(e);let m=g();return M(m.isRegisterDropdownOpen=!1)}),s(7," Student "),r()(),a(8,"li")(9,"a",28),y("click",function(){C(e);let m=g();return M(m.isRegisterDropdownOpen=!1)}),s(10," Instructor "),r()()()(),a(11,"a",29),s(12,"Login"),r(),It()}if(o&2){let e=g();c(),D("show",e.isRegisterDropdownOpen),c(),wi("aria-expanded",e.isRegisterDropdownOpen),c(2),D("show",e.isRegisterDropdownOpen)}}function ef(o,t){if(o&1){let e=E();a(0,"div",30)(1,"button",31),y("click",function(){C(e);let m=g();return M(m.toggleProfileDropdown())}),f(2,"i",32),r(),a(3,"div",33)(4,"div",34),f(5,"img",35),a(6,"div")(7,"h4"),s(8),r(),a(9,"p"),s(10),r(),a(11,"a",36),y("click",function(){C(e);let m=g();return M(m.isProfileDropdownOpen=!1)}),s(12,"View Profile"),r()()(),f(13,"hr"),a(14,"button",37),y("click",function(){C(e);let m=g();return M(m.logout())}),s(15,"Logout"),r()()()}if(o&2){let e=t.ngIf,n=g();c(3),D("show",n.isProfileDropdownOpen),c(5),ze("",e.firstName," ",e.lastName),c(2),N(n.userRole),c(),d("routerLink",n.profileLink)}}var So=class o{constructor(t,e,n,m){this.authService=t;this.router=e;this.themeService=n;this.translationService=m;this.currentUser$=this.authService.currentUser$,this.isDarkMode$=this.themeService.isdarkMode$,this.isAuthenticated$=this.authService.isAuthenticated$}currentUser$;isAuthenticated$;isProfileDropdownOpen=!1;isRegisterDropdownOpen=!1;isDarkMode$;get isInstructor(){return this.authService.isInstructor()}get isAdmin(){return this.authService.isAdmin()}get isInstructorOrAdmin(){return this.isInstructor||this.isAdmin}get userRole(){return this.isAdmin?"Admin":this.isInstructor?"Instructor":"Student"}get profileLink(){return this.isInstructor?["/instructor",this.authService.currentUser?.id]:this.isAdmin?["/admin"]:["/userProfile"]}ngAfterViewInit(){this.translationService.initializeGoogleTranslate()}toggleProfileDropdown(){this.isProfileDropdownOpen=!this.isProfileDropdownOpen}toggleRegisterDropdown(){this.isRegisterDropdownOpen=!this.isRegisterDropdownOpen}toggleTheme(){this.themeService.toggleDarkMode()}closeAllDropdowns(){this.isProfileDropdownOpen=!1,this.isRegisterDropdownOpen=!1}logout(){this.authService.logout().subscribe({next:()=>{this.authService.currentUserSubject.next(null),this.authService.isAuthenticatedSubject.next(!1),this.isProfileDropdownOpen=!1,this.isRegisterDropdownOpen=!1,this.router.navigate(["/login"])},error:t=>{console.error("Logout failed",t),this.authService.currentUserSubject.next(null),this.authService.isAuthenticatedSubject.next(!1),this.authService.removeToken(),this.authService.removeUser(),this.router.navigate(["/login"])}})}onDocumentClick(t){let e=t.target,n=e.closest(".profile-dropdown-container"),m=e.closest(".dropdown"),h=e.closest(".language-selector-container");n||(this.isProfileDropdownOpen=!1),m||(this.isRegisterDropdownOpen=!1),h||(this.isLangDropdownOpen=!1)}isLangDropdownOpen=!1;toggleLangDropdown(){this.isLangDropdownOpen=!this.isLangDropdownOpen}changeLanguage(t){this.isLangDropdownOpen=!1,this.translationService.changeLanguage(t)}static \u0275fac=function(e){return new(e||o)(v(Oe),v(V),v(Po),v(Oo))};static \u0275cmp=T({type:o,selectors:[["app-navbar"]],hostBindings:function(e,n){e&1&&y("click",function(h){return n.onDocumentClick(h)},ws)},decls:42,vars:26,consts:[[1,"modern-header"],[1,"header-container"],["routerLink","/",1,"logo"],[1,"logo-image","logo-circle"],["src","assets/img/logo-removebg-preview.png","alt","Logo"],[1,"logo-text"],[1,"nav-menu"],["routerLink","/Home","routerLinkActive","active",3,"routerLinkActiveOptions"],[4,"ngIf"],["routerLink","/Courses","routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/instructors","routerLinkActive","active",3,"routerLinkActiveOptions"],[1,"header-actions"],["title","Toggle Theme",1,"theme-toggle",3,"click"],[1,"bi","bi-sun-fill",3,"ngClass"],[1,"language-selector-container"],[1,"language-selector",3,"click"],[1,"bi","bi-globe"],[1,"lang-dropdown-menu"],[3,"click"],["id","google_translate_element",2,"position","absolute","left","-9999px","width","1px","height","1px","overflow","hidden"],["class","profile-dropdown-container",4,"ngIf"],["routerLink","/meeting-setup","routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/admin","routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/chatRome","routerLinkActive","active",3,"routerLinkActiveOptions"],[1,"dropdown","me-2"],["type","button","id","registerDropdown",1,"btn-signup","dropdown-toggle",3,"click"],["aria-labelledby","registerDropdown",1,"dropdown-menu"],["routerLink","/register",1,"dropdown-item",3,"click"],["routerLink","/register-instructor",1,"dropdown-item",3,"click"],["routerLink","/login",1,"btn-login"],[1,"profile-dropdown-container"],[1,"profile-btn",3,"click"],[1,"bi","bi-person-circle"],[1,"profile-dropdown"],[1,"profile-info"],["src","https://randomuser.me/api/portraits/lego/6.jpg","alt","User"],[3,"click","routerLink"],[1,"btn","logout",3,"click"]],template:function(e,n){e&1&&(a(0,"header",0)(1,"div",1)(2,"a",2)(3,"div",3),f(4,"img",4),r(),a(5,"span",5),s(6,"Elearning"),r()(),a(7,"nav",6)(8,"ul")(9,"li")(10,"a",7),s(11," Home "),r()(),_(12,Jg,3,2,"li",8),Ee(13,"async"),a(14,"li")(15,"a",9),s(16," Courses "),r()(),a(17,"li")(18,"a",10),s(19," Instructors "),r()(),_(20,Kg,3,3,"li",8)(21,Xg,3,2,"li",8),Ee(22,"async"),r()(),a(23,"div",11)(24,"button",12),y("click",function(){return n.toggleTheme()}),f(25,"i",13),Ee(26,"async"),r(),a(27,"div",14)(28,"button",15),y("click",function(){return n.toggleLangDropdown()}),f(29,"i",16),r(),a(30,"div",17)(31,"a",18),y("click",function(){return n.changeLanguage("ar")}),s(32,"Arabic"),r(),a(33,"a",18),y("click",function(){return n.changeLanguage("en")}),s(34,"English"),r(),a(35,"a",18),y("click",function(){return n.changeLanguage("de")}),s(36,"German"),r()()(),f(37,"div",19),_(38,Zg,13,5,"ng-container",8),Ee(39,"async"),_(40,ef,16,6,"div",20),Ee(41,"async"),r()()()),e&2&&(c(10),d("routerLinkActiveOptions",pe(23,zn)),c(2),d("ngIf",On(13,13,n.isAuthenticated$)),c(3),d("routerLinkActiveOptions",pe(24,zn)),c(3),d("routerLinkActiveOptions",pe(25,zn)),c(2),d("ngIf",n.isInstructorOrAdmin),c(),d("ngIf",On(22,15,n.isAuthenticated$)),c(4),d("ngClass",On(26,17,n.isDarkMode$)?"bi-sun-fill text-warning":"bi-moon-fill text-dark"),c(2),D("show",n.isLangDropdownOpen),c(3),D("show",n.isLangDropdownOpen),c(8),d("ngIf",!On(39,19,n.currentUser$)),c(2),d("ngIf",On(41,21,n.currentUser$)))},dependencies:[ue,pt,Us,z,Se,F,As],styles:['.modern-header[_ngcontent-%COMP%]{background:var(--surface-color);padding:10px 0;box-shadow:0 2px 10px #0000000d;position:sticky;top:0;z-index:1100!important;transition:all .3s ease;border-bottom:1px solid var(--border-color)}.modern-header.scrolled[_ngcontent-%COMP%]{padding:15px 0;box-shadow:0 4px 20px #0000001a}.header-container[_ngcontent-%COMP%]{width:100%;max-width:100%;margin:0 auto;padding:0 20px;display:flex;align-items:center;justify-content:space-between}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;text-decoration:none;transition:transform .3s}.logo[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.logo[_ngcontent-%COMP%]   .logo-image[_ngcontent-%COMP%]{width:50px;height:43px;border-radius:10px;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:20px}.logo[_ngcontent-%COMP%]   .logo-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:10px}.logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--heading-color)}.nav-menu[_ngcontent-%COMP%]{display:flex;align-items:center}.nav-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;align-items:center;gap:40px;list-style:none;margin:0;padding:0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative}.nav-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--nav-color);font-size:16px;font-weight:600;transition:color .3s;position:relative;display:flex;align-items:center;gap:4px;cursor:pointer}.nav-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--nav-hover-color)}.nav-menu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:var(--nav-hover-color);font-weight:600}.nav-menu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-8px;left:0;right:0;height:2px;background:var(--accent-color);border-radius:2px}.nav-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px;transition:transform .3s}.nav-menu[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{position:relative}.nav-menu[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}.nav-menu[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]:hover   .dropdown-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:rotate(180deg)}.nav-menu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;margin-top:15px;background:var(--nav-dropdown-background-color);border-radius:10px;box-shadow:0 10px 40px #00000026;padding:10px 0;min-width:220px;opacity:0;visibility:hidden;transform:translateY(-10px);transition:all .3s ease;z-index:100;border:1px solid var(--border-color)}.nav-menu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:12px 20px;color:var(--nav-dropdown-color);font-size:14px;transition:all .2s}.nav-menu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--accent-color),transparent 95%);color:var(--nav-dropdown-hover-color);padding-left:25px}.nav-menu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:after{display:none}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.btn-signup[_ngcontent-%COMP%]{padding:5px 18px;background:transparent;border:2px solid var(--border-color);border-radius:8px;color:var(--default-color);font-size:14px;font-weight:600;cursor:pointer;transition:all .3s;text-decoration:none}.btn-signup[_ngcontent-%COMP%]:hover{border-color:var(--accent-color);color:var(--accent-color);transform:translateY(-2px)}.btn-login[_ngcontent-%COMP%]{padding:5px 18px;background:var(--accent-color);border:2px solid var(--accent-color);border-radius:8px;color:var(--contrast-color);font-size:14px;font-weight:600;cursor:pointer;transition:all .3s;text-decoration:none}.btn-login[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--accent-color),black 15%);border-color:color-mix(in srgb,var(--accent-color),black 15%);transform:translateY(-2px);box-shadow:0 4px 15px color-mix(in srgb,var(--accent-color),transparent 70%)}.theme-toggle[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;background:color-mix(in srgb,var(--default-color),transparent 95%);border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s;color:var(--default-color)}.theme-toggle[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--default-color),transparent 90%);transform:rotate(180deg)}.theme-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.language-selector-container[_ngcontent-%COMP%]{position:relative}.language-selector[_ngcontent-%COMP%]{padding:5px 13px;background:var(--accent-color);color:var(--contrast-color);border:none;border-radius:6px;cursor:pointer;font-size:13px;font-weight:500;display:flex;align-items:center;gap:6px;transition:all .3s}.language-selector[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--accent-color),black 15%);transform:translateY(-2px)}.language-selector[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px}.lang-dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 10px);right:0;background:var(--nav-dropdown-background-color);border-radius:10px;box-shadow:0 10px 40px #00000026;padding:10px 0;min-width:150px;opacity:0;visibility:hidden;transform:translateY(-10px);transition:all .3s ease;z-index:1000;border:1px solid var(--border-color)}.lang-dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:12px 20px;color:var(--nav-dropdown-color);font-size:14px;transition:all .2s;cursor:pointer;text-decoration:none}.lang-dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--accent-color),transparent 95%);color:var(--nav-dropdown-hover-color);padding-left:25px}.lang-dropdown-menu.show[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}.mobile-toggle[_ngcontent-%COMP%]{display:none;background:none;border:none;font-size:28px;cursor:pointer;color:var(--default-color);transition:color .3s}.mobile-toggle[_ngcontent-%COMP%]:hover{color:var(--accent-color)}.mobile-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:28px}@media (max-width: 1024px){.nav-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{gap:25px}.header-actions[_ngcontent-%COMP%]{gap:10px}}@media (max-width: 768px){.header-container[_ngcontent-%COMP%]{padding:0 20px}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:80px;left:-100%;width:100%;height:calc(100vh - 80px);background:var(--surface-color);padding:30px;transition:left .3s ease;box-shadow:0 4px 20px #0000001a;overflow-y:auto}.nav-menu.active[_ngcontent-%COMP%]{left:0}.nav-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:0;width:100%}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;border-bottom:1px solid var(--border-color)}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.nav-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:15px 0;width:100%}.nav-menu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:after{bottom:0;height:100%;width:3px;left:-30px;right:auto}.nav-menu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:static;box-shadow:none;margin-top:0;margin-left:20px;opacity:1;visibility:visible;transform:none;display:none;background:color-mix(in srgb,var(--accent-color),transparent 97%);border-radius:0;border:none}.nav-menu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:12px 15px;font-size:14px}.nav-menu[_ngcontent-%COMP%]   .dropdown.active[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{display:block}.mobile-toggle[_ngcontent-%COMP%]{display:block;order:3}.header-actions[_ngcontent-%COMP%]{order:2;margin-left:auto;margin-right:15px}.header-actions[_ngcontent-%COMP%]   .btn-signup[_ngcontent-%COMP%], .header-actions[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]{padding:8px 20px;font-size:13px}.header-actions[_ngcontent-%COMP%]   .language-selector-container[_ngcontent-%COMP%]{display:flex}.header-actions[_ngcontent-%COMP%]   .theme-toggle[_ngcontent-%COMP%]{display:none}.logo[_ngcontent-%COMP%]{order:1}.logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:20px}}.profile-dropdown-container[_ngcontent-%COMP%]{position:relative}.profile-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;font-size:24px;color:var(--default-color);display:flex;align-items:center;justify-content:center}.profile-dropdown[_ngcontent-%COMP%]{position:absolute;top:50px;right:0;width:200px;background:var(--surface-color);border-radius:15px;box-shadow:0 10px 30px #0000001a;opacity:0;text-align:center;overflow:hidden;visibility:hidden;transform:translateY(-10px);transition:all .3s ease;z-index:1000;padding:15px}.profile-dropdown.show[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}.profile-dropdown[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]{display:flex;gap:15px;align-items:flex-start;margin-bottom:10px;height:80px;width:185px;z-index:1;position:relative}.profile-dropdown[_ngcontent-%COMP%]:hover   .profile-info[_ngcontent-%COMP%]:before{height:100%}.profile-dropdown[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]:after{content:"";width:40px;height:40px;border-radius:50%;background-color:#1369ce;position:absolute;top:0;left:0;z-index:-1;transform:scale(0);opacity:.3;transition:all .4s ease}.profile-dropdown[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]:hover:after{transform:scale(1.5);opacity:.6}.profile-dropdown[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;transform:scale(1);transition:all .9s ease 0s}.profile-dropdown[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{box-shadow:0 0 0 14px #f7f5ec;transform:scale(.9)}.profile-dropdown[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:5px 0;color:var(--nav-color);text-decoration:none;font-size:14px}.profile-dropdown[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--accent-color)}.profile-dropdown[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:15px;font-weight:500;color:var(--heading-color);margin:0}.logout[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]{color:var(--heading-color)}.profile-dropdown[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:10px 0;border:0;height:1px;background-color:#ccc}']})};function tf(o,t){o&1&&f(0,"app-footer")}var Io=class o{constructor(t){this.router=t;this.router.events.pipe(vs(e=>e instanceof js)).subscribe(e=>{this.showFooter=!e.url.includes("/admin")})}showFooter=!0;title=Ms("smart-learning-Ang");static \u0275fac=function(e){return new(e||o)(v(V))};static \u0275cmp=T({type:o,selectors:[["app-root"]],decls:4,vars:1,consts:[[1,"app-main"],[4,"ngIf"]],template:function(e,n){e&1&&(f(0,"app-navbar"),a(1,"main",0),f(2,"router-outlet"),r(),_(3,tf,1,0,"app-footer",1)),e&2&&(c(3),d("ngIf",n.showFooter))},dependencies:[qs,wo,z,F,Ii,So],encapsulation:2})};var Qv=Ld(ac());Rs(Io,Mn(Ne({},Mr),{providers:[...Mr.providers,Si()]})).catch(o=>console.error(o));
