<div class="d-flex vh-100 bg-light">
    <!-- Sidebar -->
    <app-admin-sidebar [sidebarOpen]="sidebarOpen" [menuItems]="menuItems" [activePage]="activePage"
        (pageChange)="setActivePage($event)"></app-admin-sidebar>

    <!-- Main area -->
    <div class="grow d-flex flex-column overflow-hidden">
        <!-- Header -->
        <app-admin-header [adminName]="adminName" (toggleSidebar)="toggleSidebar()"></app-admin-header>

        <!-- Content -->
        <main class="grow overflow-auto p-3">
            <ng-container [ngSwitch]="activePage">
                <!-- Dashboard -->
                <ng-container *ngSwitchCase="'dashboard'">
                    <app-admin-dashboard *ngIf="isAdmin" [stats]="stats" [activityData]="activityData"
                        [progressData]="progressData" [recentActivities]="recentActivities"
                        [barChartOptions]="barChartOptions" [barChartData]="barChartData">
                    </app-admin-dashboard>
                </ng-container>

                <!-- Admins -->
                <ng-container *ngSwitchCase="'admins'">
                    <app-admin-admins *ngIf="isAdmin"></app-admin-admins>
                </ng-container>

                <!-- Students -->
                <app-admin-students *ngSwitchCase="'students'" [students]="students"
                    [studentEnrollCounts]="studentEnrollCounts" (add)="onAddStudent()" (view)="onViewStudent($event)"
                    (edit)="onEditStudent($event)" (delete)="onDeleteStudent($event)"></app-admin-students>

                <!-- Instructors -->
                <app-admin-instructors *ngSwitchCase="'instructors'" [instructors]="instructors"
                    (add)="onAddInstructor()" (view)="onViewInstructor($event)" (edit)="onEditInstructor($event)"
                    (delete)="onDeleteInstructor($event)"></app-admin-instructors>

                <!-- Courses -->
                <app-admin-courses *ngSwitchCase="'courses'" [courses]="courses"
                    [courseEnrollCounts]="courseEnrollCounts" (add)="onAddCourse()" (view)="onViewCourse($event)"
                    (edit)="onEditCourse($event)" (delete)="onDeleteCourse($event)"></app-admin-courses>
                <!-- Enrollments -->
                <ng-container *ngSwitchCase="'enrollments'">
                    <app-admin-enrollments *ngIf="isAdmin" [enrollments]="enrollments"
                        [isLoading]="isLoadingEnrollments">
                    </app-admin-enrollments>
                </ng-container>
                <!-- Payments -->
                <ng-container *ngSwitchCase="'payments'">
                    <app-admin-payments *ngIf="isAdmin" [payments]="payments" [isLoading]="isLoadingPayments">
                    </app-admin-payments>
                </ng-container>

                <!-- Instructor Requests -->
                <ng-container *ngSwitchCase="'instructorRequests'">
                    <app-admin-instructor-requests *ngIf="isAdmin" [pendingInstructors]="pendingInstructors"
                        [isLoading]="isLoadingPending" (approve)="onApproveInstructor($event)"
                        (reject)="onRejectInstructor($event)">
                    </app-admin-instructor-requests>
                </ng-container>

                <!-- Profile -->
                <ng-container *ngSwitchCase="'profile'">
                    <app-admin-profile *ngIf="isAdmin"></app-admin-profile>
                </ng-container>
            </ng-container>
        </main>
    </div>
</div>