<div class="container py-4">

  <div class="d-flex justify-content-between align-items-center mb-3">
    <h3 class="mb-0">Add Lesson</h3>

    <a class="btn btn-secondary btn-sm"
       [routerLink]="['/Courses', courseId, 'units', unitId, 'lessons']">
      ‚Üê Back to Lessons
    </a>
  </div>

  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>

  <div *ngIf="successMessage" class="alert alert-success">
    {{ successMessage }}
  </div>

  <form (ngSubmit)="onSubmit()" #lessonForm="ngForm" novalidate>

    <!-- Lesson Name -->
    <div class="mb-3">
      <label class="form-label">Lesson Name</label>
      <input placeholder="lessonName"
        type="text"
        class="form-control"
        name="lessonName"
        [(ngModel)]="lessonName"
        required
      />
    </div>

    <!-- Lesson Description -->
    <div class="mb-3">
      <label class="form-label">Lesson Description</label>
      <textarea placeholder="Description"
        class="form-control"
        name="lessonDescription"
        rows="3"
        [(ngModel)]="lessonDescription">
      </textarea>
    </div>

    <!-- PDF File -->
    <div class="mb-3">
      <label class="form-label">PDF File</label>
      <input placeholder="PDF"
        type="file"
        class="form-control"
        (change)="onFileChange($event)"
        accept="application/pdf"
      />
      <div class="form-text">
        Only PDF files are allowed.
      </div>
    </div>

    <!-- YouTube URL (optional) -->
    <div class="mb-3">
      <label class="form-label">YouTube URL (optional)</label>
      <input
        type="text"
        class="form-control"
        name="youtubeUrl"
        [(ngModel)]="youtubeUrl"
        placeholder="https://www.youtube.com/watch?v=..."
      />
    </div>

    <div class="d-flex justify-content-end gap-2">
      <button
        type="button"
        class="btn btn-outline-secondary"
        (click)="cancel()">
        Cancel
      </button>

      <button
        type="submit"
        class="btn btn-primary"
        [disabled]="isSubmitting">
        {{ isSubmitting ? 'Saving...' : 'Save Lesson' }}
      </button>
    </div>

  </form>

</div>
