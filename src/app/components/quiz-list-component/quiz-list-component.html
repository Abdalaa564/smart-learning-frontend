<div class="container mt-4">
  <div class="row">
    <div class="col-12">
      <h2 class="mb-4">Available Quizzes</h2>

      <!-- Loading Spinner -->
      <div *ngIf="loading" class="text-center">
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      </div>

      <!-- Error Message -->
      <div *ngIf="errorMessage" class="alert alert-danger" role="alert">
        {{ errorMessage }}
      </div>

      <!-- Quiz List -->
      <div *ngIf="!loading && quizzes.length > 0" class="row">
        <div *ngFor="let quiz of quizzes" class="col-md-6 col-lg-4 mb-4">
          <div class="card h-100 shadow-sm">
            <div class="card-body">
              <h5 class="card-title">{{ quiz.quiz_Name }}</h5>
              <p class="card-text text-muted">{{ quiz.lesson_Name }}</p>
              
              <div class="quiz-info mb-3">
                <div class="d-flex justify-content-between mb-2">
                  <span><i class="bi bi-clock"></i> Duration:</span>
                  <strong>{{ quiz.duration }} minutes</strong>
                </div>
                <div class="d-flex justify-content-between mb-2">
                  <span><i class="bi bi-award"></i> Total Marks:</span>
                  <strong>{{ quiz.totalMarks }}</strong>
                </div>
                <div class="d-flex justify-content-between">
                  <span><i class="bi bi-question-circle"></i> Questions:</span>
                  <strong>{{ quiz.questions.length }}</strong>
                </div>
              </div>
            </div>
            
            <div class="card-footer bg-transparent">
              <button 
                class="btn btn-primary btn-sm w-100 mb-2" 
                (click)="startQuiz(quiz.quiz_Id)">
                <i class="bi bi-play-fill"></i> Start Quiz
              </button>
              
              <div class="d-flex gap-2">
                <button 
                  class="btn btn-outline-info btn-sm flex-fill" 
                  (click)="viewResult(quiz.quiz_Id)">
                  <i class="bi bi-graph-up"></i> View Result
                </button>
                
                <button 
                  class="btn btn-outline-danger btn-sm" 
                  (click)="deleteQuiz(quiz.quiz_Id)">
                  <i class="bi bi-trash"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- No Quizzes Message -->
      <div *ngIf="!loading && quizzes.length === 0" class="alert alert-info" role="alert">
        <i class="bi bi-info-circle"></i> No quizzes available for this lesson yet.
      </div>
    </div>
  </div>
</div>
