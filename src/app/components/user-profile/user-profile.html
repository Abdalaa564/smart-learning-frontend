<div class="profile-container" *ngIf="profile">
  
  <!-- LEFT PROFILE CARD -->
  <div class="profile-sidebar glass-card">
    <div class="avatar-container">
      <img class="avatar-img" 
           src="https://bootdey.com/img/Content/avatar/avatar7.png">
    </div>

    <h2 class="profile-name">
      {{ profile?.firstName }} {{ profile?.lastName }}
    </h2>
    <p class="profile-role">Student</p>
    <p class="profile-location">
      <i class="bi bi-geo-alt-fill"></i>
      {{ profile?.city }}, {{ profile?.address }}
    </p>

    <button class="btn-edit" (click)="toggleEdit()">
      <i class="bi bi-pencil-square"></i> Edit Profile
    </button>
  </div>



  <!-- RIGHT INFO CARD -->
  <div class="profile-main glass-card">

    <h3 class="section-title">Profile Information</h3>

    <div class="info-row">
      <span class="info-label"><i class="bi bi-person"></i> Full Name</span>
      <span class="info-value">{{ profile?.firstName }} {{ profile?.lastName }}</span>
    </div>

    <div class="info-row">
      <span class="info-label"><i class="bi bi-cake"></i> Date of Birth</span>
      <span class="info-value">{{ profile?.dateOfBirth | date:'mediumDate' }}</span>
    </div>

    <div class="info-row">
      <span class="info-label"><i class="bi bi-phone"></i> Phone Number</span>
      <span class="info-value">{{ profile?.phoneNumber }}</span>
    </div>

    <div class="info-row">
      <span class="info-label"><i class="bi bi-house"></i> Address</span>
      <span class="info-value">{{ profile?.address }}, {{ profile?.city }}</span>
    </div>

  </div>


</div>


<!-- ========= MODAL (EDIT FORM) ============= -->
<div class="modal-overlay" [ngClass]="{'show-modal': editing}">
  <div class="modal-content">

    <button class="close-btn" (click)="onCancel()">Ã—</button>
    
    <h3 class="modal-title">Edit Profile</h3>

    <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">

      <div class="input-group">
        <label>First Name</label>
        <input formControlName="firstName">
      </div>

      <div class="input-group">
        <label>Last Name</label>
        <input formControlName="lastName">
      </div>

      <div class="input-group">
        <label>Phone Number</label>
        <input formControlName="phoneNumber">
      </div>

      <div class="input-group">
        <label>Date of Birth</label>
        <input type="date" formControlName="dateOfBirth">
      </div>

      <div class="input-group">
        <label>Address</label>
        <input formControlName="address">
      </div>

      <div class="input-group">
        <label>City</label>
        <input formControlName="city">
      </div>

      <div class="modal-actions">
        <button type="button" class="btn-cancel" (click)="onCancel()">Cancel</button>
        <button type="submit" class="btn-save" [disabled]="profileForm.invalid">Save</button>
      </div>

    </form>
  </div>
</div>
